(61) Clase 11 2024 08 20 - YouTube
https://www.youtube.com/watch?v=cQXj8jpubDs

Transcript:
(00:01) todo bien Qué bueno hola qué tal quién anda en la fac ahorita Hola Hola Marcos Hola Sara qué tal se le están pasando en el semestre como que se está yendo más rápido de lo normal No soy yo Hola Dulce Oye dulce o Julieta lo sientes Med violento dulce Ah okay Hola entonces creo que soy yo porque a mí de la Nada se me pasó superrápido este mes
(01:05) o sea yo no sentí de porque ya estamos casi en septiembre No yo no supe cuándo cómo pasó agosto pero sí y qué tal qué tal las clases con la maestra le están entendiendo todo o o cómo van quieren que veamos algo en específico Sí todo bien Ah super bien este les iba a contar qué les iba a contar Ah sí este en la semana yo creo que para el final de la semana les califico todas sus tareas e Entonces como para final de la semana o inicios de la siguiente semana van a tener sus calificaciones en general Este creo que a todos les fue superb o sea
(01:56) las he estado revisando y En general todos van superb eh la siguiente tarea estábamos pensando dejarla el el viernes igual van a tener una semana y vamos a empezar a revisarla bueno van a venir temas va a empezar desde lo que vimos la clase pasada de la propiedad de seguridad y de viveza entonces ahorita vamos a repasarlo un poquito esa parte y vamos a ver este deadlock free y exclusión mutua y la siguiente semana vamos a a seguir con candados para que la tarea les salga muy bonita no y que no se les complique entonces
(02:49) este vamos a empezar les parece dejen Les comparto pantalla alguien tiene alguna duda de lo que hemos visto hasta ahorita Porque si tienen dudas me regreso no seguros Okay Igual si tienen alguna duda de la tarea o de cualquier cosa me pueden mandar correo o me pueden mandar mensaje por discord por si no quieren como decirlo por acá pero sí eh Cualquier duda me me avisan porque sí es muy importante que como que les quede bien estos temas porque son temas muy bonitos y son temas que les van a servir mucho en en todos lados no entonces
(03:50) este vamos a empezar con se acuerdan que vimos esto la vez pasada quién quién se avienta más más o menos la explicación de lo que viemos la vez pasada acuérdense que estos eran problemas que surgían cuando nosotros empezábamos a programar o a pensar en cómputo concurrente no estaba ris condition y estaba inconsistencia de datos y la inconsistencia de datos básicamente surgía de race condition quién se acuerdan quién se quién me dice que es r condition y quién me dice que es inconsistencia de datos nadie bueno
(05:00) la clase pasada este habíamos visto que cuando nosotros programamos o pensábamos incluso en concurrente vamos a tener esto r condition es cuando dos o más quiar el mismo recurso Exacto muy bien entonces sin Exacto sin sincronización Esa es la idea porque acá lo que tiene Race condition nada más vamos a repasarlo rápido es que imagínense la parte con la que ustedes siempre van a estar trabajando es la sección crítica Sí entonces acuérdense de la sección crítica imaginen la sección crítica como una puerta o un
(05:40) cuarto o o una línea de meta no O sea una línea específica Entonces cuando ustedes están viendo la sección crítica la sección crítica Qué significa quién me dice que es la sección crítica o qué entienden ustedes por sección crítica cuando un proceso accede a un recurso compartido Exacto las partes del código donde algú recurso compartir Exacto Ah sebasti muy bien s secuencialmente interrumpido muy crítica Exacto como como decía creo que Sebastián Este pero bien muy bien todos la sección crítica es donde solo puede
(06:41) entrar uno a la vez justamente porque están o sea porque quieren acceder a un recurso compartido que si acceden dos a la vez van a tener esto de acá que se llama inconsistencia de datos sí Entonces es muy importante que se acuerden de esto una la sección ía es donde solo puede entrar un proceso a la vez o un hilo a la vez pero en general un proceso a la vez porque van a acceder a un recurso compartido crítico que si entran los dos van a tener inconsistencia de datos que es lo mismo que vemos en esta imagen de acá era lo
(07:17) que les explicaba la vez pasada imagínense que aquí tienen su árbitro y aquí tienen otro árbitro y consideren la sección crítica esto de acá sí se Entonces si pasan dos a la vez o bueno imagínense que nada más tienen un árbitro que sería como que su contador si pasan dos a la vez el árbitro nada más va a contar uno porque nada más va a haber uno Sí o sea van a pasar estos dos así al mismo tiempo pero desde la perspectiva del árbitro nada más pasó uno y eso les va a dar inconsistencia de datos sí lo ven Entonces es muy importante esto y para
(08:03) eso nos sirven los candados Entonces siempre que ustedes piensen en concurrencia ustedes van a pensar en candados porque si no nos va a salir algo como ris condition en consistencia de datos Y cuando ustedes programen o diseñen un candado tienen que cuidar mucho que este candado este cumpla con que este no no haga Race conditions Sí en algún momento todo el curso les van a pedir que ustedes este pues diseñen algún candado y les van a pedir que justifiquen por qué ese candado no permite lasar Race conditions Y eso es
(08:41) muy importante porque a veces no diseñamos bien o no No programamos bien los candados y nuestros candados permiten rais conditions entonces deja de ser un candado sí Entonces cuando nosotros pensamos en concurrente no salen problemas como Race condition e inconsistencia de los datos Y es lo mismo con esto de que que les explicaba las transacciones Si tienen una cuenta de banco Si tienen 1,000 pesos y acceden dos procesos al mismo tiempo a este recurso compartido si se dan cuenta el recurso compartido acá crítico es su cuenta de banco entonces
(09:21) lo que ustedes podrían poner como sección crítica es este acá porque si exceden Dos procesos al mismo tiempo y este quiere retirar 1000 y este quiere retirar 1000 y no tienen el candado suficiente van a retirar 2000 pero en su cuenta no había 2000 y eso les da inconsistencia de datos sí lo ven pero les den consistencia de datos Porque esta es una Race condition esto que ven acá es una Race condition y con las Race condition si no se manejan bien o bueno ya por cuando tienen ris condition van a tener inconsistencia de datos
(10:01) va Sí todos Va muy bien Luis entonces va nada más para repasar esta parte de acá también Acuérdense que los candados o sea Por qué los candados no hacen una ejecución secuencial porque los candados nada más los ponemos en la sección crítica Y esto es muy importante para cuando hagan sus implementaciones porque ustedes nada más van a querer poner un candado ahí en la sección crítica todo este trayecto que era lo que estábamos platicando la clase pasada todas estas personitas pueden transportarse al mismo tiempo de
(10:44) diferentes formas no puede haber unas personas que se transportan en camión y al mismo tiempo otra persona transportándose en metro y al mismo tiempo otra persona transportándose en coche eso no les afecta nada se dan cuenta o sea realmente no afecta el orden del universo que este tres personas vayan al mismo tiempo a la Facultad o que tres personas vayan al mismo tiempo a a a x cosa lo que les afecta es que cuando entren a la sección crítica a la sección donde nada más puede entrar una persona se van a tener
(11:22) que formar sí todas estas personitas que hicieron su proceso que hicieron diferentes procesos simultáneamente cuando lleguen a la sección crítica se van a tener que formar para que pase solo uno a la vez pero si se dan cuenta la única parte que sería relativamente secuencial sería esta de acá sería la parte de la sección crítica todo el trayecto desde que se transportan todo esto de cuando se transportan diferentes transportes eso no importa que sea simultáneo incluso eso debe ser simultáneo para que sea concurrente sí entonces lo que ustedes
(12:08) van a tener en concurrente Es algo similar van a tener procesos haciendo diferentes tareas al mismo tiempo y ya cuando lleguen a la sección crítica este ya van a tener que formarse para Acceder al recurso compartido entonces imagínense a los procesos haciendo diferentes cálculos al mismo tiempo no que el proceso a hace unos cálculos el proceso B hace otros eso se hace otros Pero ya cuando tiene que ir a la sección compartida donde tienen que guardar esos datos o actualizar esos datos ahí ya se van a tener que formar para qué Para que
(12:42) no haya inconsistencia de los datos Sí todo bien hasta ahorita todo bien va entonces este también nada más para que se acuerden teníamos la propiedad de viveza y la propiedad de seguridad Esto va a venir en su siguiente tarea entonces presten atención Ya lo habíamos visto pero lo vamos a repasar la propiedad de viveza la palabra clave en la propiedad de viveza es que nos dice que Algo bueno va a pasar va a pasar eventualmente sí Entonces si tú caminas y caminas y caminas eventualmente vas a llegar a algún lugar si tú estás formado en una
(13:34) fila para algo eventualmente vas a entrar no si estás formado en un restaurante eventualmente vas a entrar si no sé Pues sí no O sea si estás escalando una montaña y escalas y escalas y escalas eventualmente Tienes que llegar a donde tienes a donde tienes pensado no entonces la propiedad de viveza la palabra clave para cuando ustedes cuando les pregunten Oye deter Qué propiedad se cumple en este en este ejemplo la palabra clave que tienen que ustedes que buscar es eventualmente sí Algo bueno eventualmente va a pasar no
(14:09) sabemos cuándo pero eventualmente Y si seguimos trabajando eventualmente va a jalar y la propiedad de seguridad es más o menos lo opuesto este Bueno no es lo puesto pero acá la palabra clave es que este la palabra clave es que algo nunca pasa si Entonces si lo ven como candados la palabra la palabra aquí es nunca pasa sí Entonces cuando les den ejemplos y les pidan en la tarea que les pidan determinar Oye es viveza o seguridad para seguridad van a buscar la palabra Nunca y para viveza van a buscar la palabra eventualmente Esa es la
(14:55) diferencia y si lo ven en hilos ahorita lo vamos a ver como como Proc eso ya de una forma más más formal Pero la idea de la propiedad de seguridad es que este Nunca van a entrar dos a la sección crítica no Y por qué se llama seguridad porque si ustedes pueden demostrar que la seguridad se cumple independientemente del orden de los procesos o sea por ejemplo en este ejemplo de acá no en el de el camión y el metro y el coche si ustedes pueden demostrar que no importa Este que el del camión llegue antes o no importa si 10 personas se
(15:39) transportan en camión cinco en metro y cinco en coche o o si hay tránsito O sea si ustedes pueden demostrar que no importa el orden en el que lleguen de los procesos que hicieron simultáneamente De todas formas se van a tener que formar aquí y ninguno va a poder entrar a la sección crítica eso es seguridad Sí porque si se dan cuenta lo que ustedes están garantizando acá es que nunca va a pasar que dos personas entren a esta puertita al mismo tiempo si ustedes pueden demostrar que este Ay que eso pasa independientemente de del orden
(16:19) de los procesos eso les va a dar una idea de que su programa es correcto no Entonces lo correcto de un programa concurrente se basa en garantizar las seguridad de un programa sí Entonces nada más acuérdense de esto para su tarea para viveza ustedes van a buscar la palabra de eventualmente no eventualmente algo bueno pasa y para seguridad van a buscar la palabra de nunca nunca va a pasar algo malo entonces este Ese es el primer ejercicio su tarea entonces apréndelo y vamos a ver ya más aplicado cómo se cómo se ven estas propiedades en
(17:04) propiedades ya de candados tenemos algo que se llama deadlock free y Esto va muy ligado a la propiedad de de seguridad deadlock free que es cuando tienes o sea cuando te da deadlock free es que hay dos o más procesos que quedan permanentemente bloqueados entre sí esperando recursos que nunca van a poder como que obtener porque otros procesos lo tienen y no lo sueltan entonces la idea en deadlock free es que si hay algo que es deadlock free es que dos procesos se bloquean mutuamente imagínense esto tienen dos personas no y dos personas
(17:43) quieren reparar este coche La idea es que lo reparen así pero tienen una sola herramienta que ese sería su recurso compartido se dan cuenta acá tienen el hilo a acá tienen el hilo b y este es su recurso de memoria compartida cuando pasa deadlock free básicamente lo que hacen es que el hilo a llega y dice Ah no tú vas primero si quieres Tú agarra la llave y el hilo B le dice no tú primero y el hilo a le dice no tú primero y se quedan esperando Eternamente para que el otro vaya a al recurso Sí si lo ven un poco más
(18:24) formal van a tener el hilo a van a tener el hilo B van a tener su recurso de memoria compartida y cuando ustedes estén programando qué van a pas qué va a pasar con los hilos recurso de memoria compartida compartida los hilos va va a decir el hilo a Oye yo quiero entrar al recurso pero el hilo B a pesar de que ya dejó la herramienta no marcó que ya la había dejado Entonces el hilo a va a decir No es que yo me tengo que esperar a b a que termine y el hilo B va a decir no pero pues es que yo voy formado atrás de a
(19:03) para usarla otra vez sí O sea V no Marco que ya la había dejado que ese sería nuestro unlock nuestro unlock no porque para usarla tienen que usar lock y para marcar que la dejaron y que está disponible tienen que usar unlock normalmente entonces este cuando el hilo a y el hilo B estén queriendo acceder a este recurso de memoria compartida y el hilo B no le da a un lock el hilo a va a creer que este ese recurso sigue siendo usado por B entonces se van a bloquear permanentemente y ya ninguno de los dos va a poder acceder a ese recurso
(19:45) entonces ninguno de estos dos hilos va a poder acceder a la sección crítica Sí si se dan cuenta esto es muy similar a la propiedad de seguridad por qué porque tienen que ustedes o sea los candados que ustedes vayan a a poner lo que tienen que hacer es que tienen que tener que no sea deadlock free esto Qué significa esto básicamente es equivalente a decir que nunca pasa que dos hilos se bloquean mutuamente Sí entonces deadlock free es que dos hilos se bloquean mutuamente entonces en sus candados tienen que este
(20:43) demostrar que nunca pasa que dos hilos se bloquean mutuamente va entonces este También tienen Son tres propiedades las principales de los andados está deadlock free está starvation free y está este exclusión mutua deadlock free acuérdense es que dos se bloquean este pues permanentemente no se bloquean mutuamente entre sí starvation free ya es algo este similar a lo que tenían en la propiedad de viveza se acuerdan Qué decía la propiedad de viveza Ajá muy bien Eduardo muy bien Luis eventualmente algo bueno pasa entonces
(21:43) starvation free es lo mismo pero ya en sus candados starvation free lo que les va a decir es que eventualmente ustedes van a tener esta puerta que es la sección crítica y van a estar todos sus hilos acá formados a b c d e f g y así no van a tener todos sus hilos acá lo que les garantice starvation free que un candado sea starvation free es que eventualmente todos los que están formados todos los que quieren entrar van a entrar sí no sabemos En qué orden Porque esa es otra propiedad que se llama justicia que el primero que se
(22:27) forma es el primero que entra starvation free no nos dice eso starvation free nos dice Oye todos los que quieren que entrar eventualmente van a pasar quién sabe En qué orden quién sabe con o sea puede incluso pasar un 10 veces antes que el segundo de la fila sí no O sea yo no te estoy garantizando que van a pasar en un orden justo esa es otra propiedad lo que yo te garantizo el ser Station free es que todos los que me pidan entrar a la sección crítica van a entrar sí entonces este esto básicamente es libre de inanición o Pues si que satisfaces a
(23:07) todos no que todos los que quieren entrar van a entrar y asegura que todos los procesos que solicitan acceso a recursos compartidos eventualmente van a poder acceder a ellos sí Y eso si se dan cuenta es muy similar a la propiedad de viveza Por qué Porque usamos la palabra eventualmente todos los procesos los procesos que pidan entrar a la sección crítica entrar a la sección crítica eventualmente van a entrar s lo ven después vamos a ver eso de Justicia pero básicamente es eso el primero que se forma es el primero que entra
(23:57) starvation free no es eso si ustedes demuestran que algo es starvation free no significa que vaya a ser justo O sea si demuestran que un candado es starvation free también pueden demostrar que que va que va a pasar el hilo a 10 veces antes que el hilo B Sí una no implica la otra o sea starvation free no implica justicia pero justicia sí implica starvation free pero la no es va entonces starv free lo único que les dice es similar a viveza y les dice Oye eventualmente todos los que pidan entrar a la sección crítica que es un recurso
(24:39) de memoria compartida van a entrar y luego tienen esta parte de exclusión mutua exclusión mutua es un poco diferente a lo que habíamos visto pero tiene las mismas bases qué nos dice exclusión mutua pues nos asegura que cuando un proceso ya es está en la sección crítica o sea por ejemplo si lo ven como una máquina expendedora y están formados todos atrás de esta personita si alguien ya ya está usando la máquina no puede llegar o sea exclusión mutua nos dice que ningún otro proceso va a a usarla o va a acceder ese mismo recurso
(25:18) de memoria compartida al mismo tiempo sí Entonces esto es similar pero no es igual a lo que hemos visto si ustedes demuestran en exclusión mutua van a demostrar que nada más este una persona está o sea cuando una persona entra tienen su su candado no imagínense que tienen su puertita y tienen su candado en la puertita entonces acá van a estar formados todos los hilos que quieran entrar sí van a estar todos los H los que quieran entrar lo que nos dice exclusión mutua es que cuando alguien ya entra automáticamente se pone el candado
(26:10) y excluye a todos los demás sí si alguien ya entra los excluye porque ya está el candado entonces la gente Cuando quiera bueno los procesos cuando quieran entrar a la puertita van a ver si está cerrada y pues si está cerrada Porque alguien ya entró sí lo ven eso es exclusión mutua que cuando alguien ya entra automáticamente Cierra la puerta con seguro y Ninguno de los demás pueden entrar a ese recurso memoria compartida s lo ven va todos sí Julián José Okay Muy bien Entonces ahora vamos a verlo ya con hilos cuando ustedes tienen deadlock
(27:11) free acuérdense deadlock free era similar a Qué propiedad que habíamos visto antes seguridad Exacto muy bien bien hecho muy bien todos José Luis Ken bien y seguridad qué nos dice Bueno qué nos dice deadlock free Ajá Exacto seguridad nos dice que algo malo nunca va a pasar y en deadlock free qué nos dice este como que ya aplicado a deadlock free que nos dice que nunca va a pasar que dos hilos se bloquean mutuamente en este caso sería que el candado nunca va a quedarse Ajá a ver voy voy voy entonces Kenia dice que nunca va a pasar
(28:16) que dos hilos se bloquean mutualmente Exacto eso es lo que nos dice deadlock free y luego suriel en este caso sería que el candado nunca va a quedarse solito más bien sería que cuando tú dejas de usar el candado lo liberas o sea cuando tú sales de esa puerta quitas le quitas el candado le quitas el seguro a la puerta para que alguien más pueda entrar más bien sería eso no que el candado este nunca se va o sea sí que nunca se va a quedar solito pero que que más bien lo que pasa es que desbloqueas cuando sales La puerta sí
(28:55) desbloqueas la puerta cuando sales y luego Luis dice que aj viveza nos dice que Algo bueno eventualmente va a pasar Exacto siempre va a haber algo que pueda tomarlo sin bloquearse Exacto Sí muy bien lo que nos dice tlock free es que si entran ustedes o sea muy como que imaginativo buen no sé cómo se dice pero si ustedes entran a la puerta llega alguien y entra la puerta cuando entra bloquea la puerta pero free lo que nos dice es que cuando sales desbloqueas la puerta Ahí está desbloqueas bueno Ahí está el desbloqueado desbloqueas la
(29:40) puerta para que alguien más pueda entrar sí Si tú no marcas o sea imagínense no s si les ha pasado pero cuando van al baño si están esperando a que haya alguno vacío si hay uno Vacío con la Puerta cerrada ustedes no van a entrar o bueno tienen que asomarse pero en general no entran porque está la Puerta cerrada y creen que hay alguien es la misma idea no tienen que dejar la puerta abierta para que alguien sepa O sea la siguiente persona sepa que es ella está aj Pues sí sí sí sí pero en teoría este o sea lo como que la primera
(30:26) el primer pensamiento Es que ocado saben Entonces el primer pensamiento Es que está ocupado y que pues no lo pueden usar Pero entonces por eso cuando salen tienen que dejar la puerta abierta para que el siguiente sepa que ya está disponible Sí más o menos si ustedes la cierran y el que estaba atrás de ustedes no se dio cuenta que ustedes Acaban de salir van a creer que ese sigue ocupado eso es lo que pasa con los hilos cuando llega alguien y sale y no deja la puerta abierta para el recurso de memoria compartido todos los demás van a creer
(31:03) que ese recurso de memoria compartido está siendo usado Entonces no van a entrar y ahí se bloquean mutuamente si se dan cuenta entonces este imagínense que tienen dos hilos tienen el hilo a y tienen el hilo b y este para completar su tarea tienen este recurso no tienen el recurso x y tienen el recurso Y entonces este tienen dos dos hilos y para completar su tarea los dos Tienen que entrar a x y los dos Tienen que entrar a Y sí hay información importante en x información importante en y que son recursos de memoria compartid o sea
(31:54) estos de acá son recursos de memoria compartidos y este imagínense los siguiente ambos hilos necesitan acceder a una base de datos que sería x y un archivo de registro que sería y si no acceden los dos o sea si a no accede a x y y no puede completar su tarea y si B no accede a x y y no puede completar su tarea sí Y entonces si no pueden completar su tarea al menos uno pues ya valió Entonces el y lo a y como este es un recurso de memoria compartido acuérdense que son qué son son considerados critic section si son
(32:39) considerados secciones críticas no todos los recursos de memoria compartida van a ser así pero la mayoría sí no Entonces como estos son recursos de memoria compartida y no queremos que haya Race conditions y no queremos que haya inconsistencia de datos los consideramos una sección Crí Y qué hacemos si es una sección crítica pues vamos a programarle un candado Ok entonces imagínense lo siguiente imagínense que a llega a no sé si lo puedo Ah bueno llega y como este o sea los dos en un principio estaban disponibles no no hay
(33:22) nadie utilizándolos Entonces los dos están disponibles los dos llega a y dice Oye yo quiero entrar a x Entonces cuando hace eso obtiene el candado de X es decir entra como la puertita de x y la cierra para que nadie más pueda entrar Entonces el hilo a adquiere el el candado en x y luego intenta adquirir el candado en y y luego pasa que el hilo B adquiere el candado en x digo el candado en y y luego quiere obtener el candado en x si se dan cuenta si ambos hilos adquieren uno de los
(34:25) recursos esperan indefinida amente a que el otro a que el otro hilo libere el segundo recurso Entonces miren llega x y le dice Oye yo necesito este candado no y llega B O sea bueno llega digo llega a y obtiene el candado de de a y de y llega a y obtiene el candado de x y de y Ajá entonces llega y dice Oye yo ya tengo estos dos candados y luego llega b y dice Oye pero yo quiero el candado de y no se lo pueden dar no se lo pueden dar porque ya está ocupado y está siendo ocupado por a Entonces si a no registra lo que para cuando pasa deadlock free
(35:19) son errores en el unlock sí Entonces cuando ustedes vean un un algoritmo de algún candado y les pidan ver si es deadlock free tienen que revisar el unlock cuando dejan la puerta abierta entonces imagínense en este caso que llega a y llega a a tener el candado de los dos acá el problema Sería cuando a sale de esos dos recursos si el candado no está bien hecho y no se registra unlock o sea el unlock no no se dispersa para todos o este no se dispersa la información de de que esos dos recursos ya están disponibles B va a esperar
(36:02) indefinidamente a que a le quita le quite los recursos a O sea que a termine de usar los recursos entonces B va a estar esperando y esperando y esperando a que a termine de usar los recursos y a va a estar esperando a que B pase primero Sí más o menos O sea no sé si lo ven o se los pongo otra vez bueno tiene a el candado de los dos sí Y entonces si a sale O sea imagínense que a ya salió o sea ya no tiene nada que hacer pero acá sigue bloqueado y si o sea en teoría no se desbloqueó bien el candado no estaba bien hecho para decirle a todos que ya
(36:56) estaba disponible pero ahorita ya no hay nadie pidiéndolo pero luego quiere entrar B a pedir este candado y a está formado atrás de B Entonces si se dan cuenta se bloquean mutuamente porque B está esperando a que a lo suelte pero a Ya los había soltado nada más que no les aviso a los demás y a se volvió a formar pero a está esperando atrás de b y b está esperando a a sí se dan cuenta y acá ya los dos o sea B está esperando a a pero a está esperando a b sí lo ven Ajá entonces ahí está el deadlock free cuando uno espera al otro pero el otro
(37:44) espera al anterior o sea cuando a espera B pero B Espera a es un deadlock free porque ahí ya se están bloqueando mutuamente no los dos dicen no pues es que yo te estoy esperando a ti y el otro le dice no es que yo te estoy esperando a ti y así se quedan indefinidamente así hasta que su programa crase literal entonces Cuando vean la parte de deadlock free deadlock free es mucho en en la parte del unlock no cuando quieren ustedes ver si algo es deadlock free tienen que cuidar mucho el unlock el método unlock de su candado
(38:20) para ver que realmente todos sepan normalmente el problema se basa en en la difusión de la información no el unlock puede no ser o sea el unlock puede no avisarles a todos que ya está disponible si no les avisa a todos que ya está disponible va a pasar un deadlock free Sí o sí entonces tienen que cuidar mucho que el unlock le avise a todos que ya está disponible ese recurso va entonces pasé monos a starvation free starvation free era similar a Qué propiedad que habíamos visto deadlock free era similar a seguridad que algo
(39:04) malo nunca pasa o nunca se se bloquean exacto viveza y starvation free es similar a viveza por qué Porque nos dice que eventualmente todos los que pidan entrar van a entrar y es lo mismo que nos dice viveza no Bueno viveza nos dice que eventualmente Algo bueno va a pasar y nosotros con consideramos algo bueno como que todos los que pidan entrar en recurso compartido entren Sí entonces imagínense al hilo a al hilo b y al hilo c entonces varios hilos puude en todos siempre puede ser dos o más Sí pero bueno tienen este varios hilos A B
(39:49) y C y necesitan acceder a un recurso compartido pero algunos tienen más prioridad o recursos que otros entonces imagínense que acá está su recurso de memoria compartido recurso de memoria compartido imagínense que ustedes programan que a sea de alta prioridad este y B y C sean baja prioridad entonces si el sistema está diseñado para siempre dar prioridad a los hilos de alta prioridad ahí les Va qué va a pasar está su recurso de memoria compartido que es por default qué es aquí lo vamos a llamar qué la sección crítica
(40:50) no Y si es sección crítica qué tiene por default una sección crítica Pues un candado no entonces las secciones críticas por default tienen un candado Exacto muy bien José tienen un candado entonces imagínense que el candado Está programado para que este siempre le dé prioridad primero O bueno Siempre le de prioridad a los de alta prioridad entonces imag que se forma a se forma b y se forma c Pues el candado va a decir Oigan quién de ustedes tiene el de más alta prioridad a Pues a no Entonces a va a entrar va a obtener el candado va a
(41:44) salir y lo va a desbloquear y se va a volver a formar y el candado va a volver a preguntar Oigan de los que están formados Quién es el que tiene más alta prioridad y van a volver decir a entonces a va a entrar va a obtener el candado va a salir va a desbloquear el candado y se va a volver a formar y el candado les va a volver a preguntar Oigan quién de ustedes tiene más alta prioridad y así se van a quedar en en en un constante de que a va a pasar y pasar y pasar y entonces B y C si se dan cuenta nunca pasan entonces acá el candado no es starvation
(42:25) free Por qué Porque no no se cumple que algo bueno siempre pasa en este caso que todos los que quieren acceder eventualmente accedan no porque siempre va a ser a el que va a acceder entonces b y se van a quedar esperando indefinidamente y aunque ya pidieron y ya se formaron para acceder a este recurso nunca les va a tocar sí lo ven muy bien entonces esa es la idea no que ustedes primero revisen deadlock free Y si ustedes revisan deadlock free van a revisar que el candado o sea que cuando alguien salga del candado todos los
(43:16) demás sepan que está disponible y no se bloqueen mutuamente y cuando ustedes revisen la parte de starvation free tienen que revisar Dead free tien que revisar la parte del método unlock y en starvation free tienen que revisar el método lock si se dan cuenta porque lock es el que les va a dar acceso y si tienen algo similar a esto que nada más le da acceso al de más alta prioridad y siempre es el mismo Pues siempre va a entrar nada más el mismo y todos los demás se van a quedar esperando entonces para deadlock
(43:49) free tienen que revisar el unlock y para starvation free tienen que revisar el lock y ya para terminar tenemos la parte de exclusión mutua imagínense también que tenemos dos hilos el hilo a y el hilo b y otra vez tenemos nuestro recurso de memoria compartida que por default es sección crítica y por default le vamos a poner el candado entonces imagínense que en la sección crítica es es una variable no Entonces a y b los dos quieren escribir en un archivo o en una variable entonces la sección crítica es una variable un archivo y los dos
(44:37) quieren acceder a ella para escribirla no O para actualizarla si no existe la exclusión mutua qu va a pasar el candado no va a estar bien programado para nada más dárselo a uno Y entonces se va a formar a se va a formar b y este candado va a decir Ah sí pásenle pero Pero va a decir que pasen a y b y van a pasar los dos al mismo tiempo y van a estar los dos en la sección crítica escribiendo si se dan cuenta entonces eso es no tener exclusión mutua tener exclusión mutua es lo que les decía llega a b y obtiene el candado entonces
(45:22) imagínense acá que B ya tiene el candado entonces a llega y dice Oye puedo entrar y automáticamente el candado le tiene que decir No porque bella está adentro Entonces exclusión mutua es que cuando alguien ya tiene el candado nadie más puede entrar sí O sea que el candado si el candado ya lo tiene alguien que el candado le diga a todos los demás que ya no está disponible y que ya no lo pueden usar y que no pueden acceder Hasta que el otro lo haga disponible sí y este algo que se me pasó comentarles es que deadlock free también puede ser
(46:02) cuando un hilo se queda esperando indefinidamente en la sección crítica si un hilo se queda esperando indefinidamente en la sección crítica imagínense que está b y su proceso la sección crítica es un ciclo infinito entonces ahí se bloquean mutuamente porque a va a estar esperando y b no lo va a dejar entrar porque no puede salir entonces también es muy importante que cuiden tanto el lock como el unlock como las tareas que hacen dentro de la sección crítica no tienen que tener un orden para que justamente ningún candado
(46:41) ningún digo ningún proceso se quede esperando indefinidamente a que el otro salga y entonces pues todos se queden esperando indefinidamente y se CR su programa Entonces eso es básicamente las las tres propiedades que tienen los candados que van a tener que demostrar en su tarea buen no demostrar pero s este como que explicarlo la tarea le estaba diciendo que yo creo que se las vamos a dejar el viernes y va a venir un ejercicio de esta parte de seguridad y viveza que yo creo que ya todos lo tienen bien dominado y si no me
(47:21) avisan para ayudarles va a venir esta parte de exclusión mutua deadlock free Station free pero lo vamos a ver más a detalle la siguiente clase va para que no se me abrumen con con tantas cosas entonces la siguiente clase ya lo vemos aplicado a un algoritmo bien y este vemos más para para su tarea y les decía que igual en el transcurso de esta semana les voy a calificar su Cómo se llama su tarea entonces para que estén al pendiente Si tienen cualquier duda de la calificación me avisen by cualquier duda de cualquier
(47:58) cosa me avisan Sí entonces va Nos vemos el jueves se cuidan Bye bye [Música] ah al
(49:56) al al al al
(51:56) al al al al
(53:55) al al al al
(55:55) al al al al
(57:55) al al al al
(59:55) al al al al
(1:01:55) al al al al
(1:03:55) al al al al
(1:05:55) ah al al al
(1:07:54) al al al al
(1:09:54) al al al al
(1:11:54) al al al al
(1:13:54) al al al al
(1:15:54) al al al al
(1:17:54) al ah al al
(1:19:54) al al al al
(1:21:54) al al al al
(1:23:53) al al al al
(1:25:53) al al al
