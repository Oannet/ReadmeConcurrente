2024 08 15 10 04 12 - YouTube
https://www.youtube.com/watch?v=dMAjib5fAII

Transcript:
(00:29) al al Hola Hola Hola Perdón perdón se escuchó mi iPad qué tal les va en la vida vier la de Boys laa Y qué tal está
(01:36) Sí porque yo me quedé en el primer episodio y ya no lo he continuado y no sé si seguirlo o no seguirlo sí Ah bueno la voy a ver sí porque el primer episodio no hizo mucho sentido o sea como que me quedé fuera de contexto un rato y este y dije no pues no sé si lo voy a continuar o no la voy a continuar Entonces sí por Entonces sí lo veo sí va s les voy contando Y qué otras series está pendo que recomienden yo Okay la voy a
(02:50) buscar va Bueno este ya regresando a tema quién me recuerda dejen Les comparto pantalla pero bueno yo insisto mucho en esto de que se aprendan la definición de El cómputo concurrente el cómputo paralelo y el cómputo distribuido y sus diferencias porque es este es pregunta de examen eh Bueno es pregunta de examen para cuando ustedes vayan a pedir su cátedra entonces este les van a preguntar y además es buen tema de sobremesa no O sea si ustedes explican a la gente cómo funciona Ticket Master es buen tema y te quedas un rato ahí platicando y la gente
(03:42) se sorprende yo sí lo he intentado y está padre o sea como sobre como un tema de sobremesa Está bien entonces quién me dice la diferencia entre el cómputo con corrente el cómputo paralelo y el cómputo distribuido me sí quién me dice Ajá Joel no no t Dale Ahá Ajá mm
(04:53) Sí Ahá Aha ah muy bien Sí sí sí super bien muy bien j y este zuriel dice distribuid era que diferentes computadoras ocupaban el mismo recurso paralelo era que cada quien tenía sus recursos y con corrente en globa los dos sí Exacto bien hecho
(05:56) muy bien los dos Ay exel eh eh concurrente Cuando ocurran acciones a la vez sobre los mismos recursos distribuido cuando varias máquinas tienen un objetivo en común pero solo trabajan sobre una parte de los dos y paralelo cuando se trabaja a la vez sobre una misma tarea bien Sí sí sí muy bien Nada más que este paralelo O sea la clave de paralelo es que trabajan este a la vez pero sobre tareas independientes o sea son como que subconjuntos de una tarea grande como como tú dices una misma tarea pero trabajan en
(06:32) subconjuntos independientes y no se comunican pero muy bien muy bien Oye quieres que te diga exel Iván en el cómputo paralelo los procesos sí se comunican Ajá no se comunican Lu es como que en el que se comunican es el distribuido o sea el distribuido es una red que que se comunican para hacer una tarea y paralelo es en el que no se comunican entonces paralelo no se comunican y distribuidos s se comunican va va muy bien todos sí pero si apréndela por por puro tema de sobremesa y porque igual es Es pregunta de examen
(07:16) a donde vayan O sea si quieren dar una cátedra se lo van a preguntar si quieren en su trabajo se los pueden llegar a preguntar o incluso Ya nada más por puro Moro que diga así funciona Master no entonces este esta ayudantía lo que vamos a hacer Vamos a ver vamos a ver como que una intro de candados y vamos a ver las propiedades de viveza y las propiedades de seguridad entonces este bueno Primero este los candados surgen Por qué Porque este en el concurrente tenemos principalmente dos problemas que pueden pasar los más
(08:02) como que grandes o los más como que graves que nos pueden pasar cuando estamos implementando cómputo concurrente al s me escuchan porque se trabó mi
(09:25) computadora creo allá Ah es que Entonces desde mi computadora ya no se escucha bueno Se los voy poniendo desde mi iPad no ver ahí les va Oigan y si alguien como que tiene este dudas o algo prenden su micrófono porque desde acá no veo los comentarios entonces prenden su micrófono para que los vea en lo que se destraba mi computadora porf Bueno entonces la idea aquí es que este en concurrente lo que pasa cuando estamos implementando concurrente es que hay dos problemas que pueden surgir esto de Race conditions y y la parte de
(10:31) inconsistencia de datos entonces este para esto funcionan los candados O sea la idea de los candados está pensado justamente en este solucionar este problema de Race condition y solucionar este problema de inconsistencia de datos entonces Race condition Qué es Race condition es cuando dos o más hilos acceden y modifican un recurso compartido al mismo tiempo sin la sincronización adecuada Sí entonces aquí Se los voy a escribir es cuando dos o más dos o más hilos acceden a un mismo recurso compartido o bueno acceden o modifican no acceden O
(11:18) modifican un mismo recurso compartido recurso compartido sin la sincronización adecuada Entonces por ejemplo era lo que platicábamos la clase pasada imagínense O sea si ustedes quieren este imaginarse Race condition pueden imaginárselo así imagínense que acá o sea justamente de este lado de la meta hay un árbitro Uy Me qu bien feo hay un árbitro que está contando el número de personas que va pasando en una carrera no y Acá hay otro árbitro o bueno otro que va registrando el número de personas que va pasando en una carrera Entonces si
(12:16) ustedes pasan O sea si ustedes dejan que dos hilos supongamos que esta personita y esta personita de acá son dos hilos diferentes y si estos dos hilos pasan al mismo tiempo Este lo que va a pasar es que acá imagínense que tiene aquí en su contador voy Poner este AC tiene acá en su contador que ya pasaron 10 personas no y este aritur acá también ya dice que ya pasaron 10 personas Pero cuando pasen estos dos hilos o estas personas al mismo tiempo lo que va a ha serer este árbitro el árbitro a va a ser que va a
(12:56) decir Oye este a este punto ya pasaron 10 y ahorita yo veo que acaba de pasar uno entonces pasaron 11 y luego este árbitro de acá va a decir Ah yo también veo que pasó uno Sí porque su campo de visión es pues nada más esta partecita y el campo de visión del otro árbitro es esta partecita entonces cada quien va a ver que ya pasó uno y los dos van a registrar que este ya pasaron 11 personas el problema cuál es el problema es que este pasaron dos no entonces Race condition lo que va o sea lo que nos dice la Race condition es este este
(13:45) problema de que dos hilos intentan Acceder al mismo recurso al mismo tiempo y eso nos lleva a inconsistencia de datos Entonces si lo ven así la inconsistencia de datos puede ser como que un una una consecuencia de la Race condition pero las inconsistencias de datos también se pueden dar por otras formas que no sean solamente r condition sí todos alguien que me diga que sí porque no los veo Ah gracias entonces Esa es la idea no la idea es que acá ustedes en Java van a tener como que su contador o su controlador y esta parte
(14:43) de acá la la meta va a ser su sección crítica y lo que ustedes no quieren que pase es que entren dos personas o dos hilos al mismo tiempo a la sección crítica a acceder o a modificar en un mismo recurso compartido Por qué Porque si entran los dos al mismo tiempo o sea y resulta que es al mismo tiempo va a pasar que van a tener inconsistencia de datos Porque no tienen la sincronización adecuada o sea todo esto este problema este acá es normalmente sin candados candados entonces para eso o sea los candados surgieron de estos dos
(15:26) problemas de las Race condition y de las inconsistencias de datos sí a todos les queda bien la más o menos que es una Race condition si tienen dudas abren su micrófono o bueno a ver me regreso tantito para ver si no hay comentarios no todo bien Ah Todavía no lo grabamos les voy a pasar las notas y este para cuando lleguemos a los temas que van a venir en en sus exámenes o temas más así serios este las empezamos a grabar pero mientras nada más les paso las notitas en lo que también veo cómo grabarlo no eh Entonces est es una Race
(16:18) condition y las Race condition este surgen Bueno este lo que hacen son inconsistencia de datos pero como les estaba contando las inconsistencias de datos también pueden pasar sin Race condition Qué es una inconsistencia de datos O sea si lo ven este en forma de hilos imaginense Un ejemplo muy común es de las blockchains las blockchains este o bueno en general cualquier transacción bancaria va a necesitar este candados porque están utilizando cómputo concurrente imagínense que tienen ustedes una cuenta de banco entonces
(16:57) imagínense que esta es su cuenta de banco cuenta de banco no Esta es su cuenta y ustedes y dos personas o sea acá están ustedes y acá está otra persona y los dos imagínense que ustedes se imagínense que en su cuenta de banco tengo como 2000 pesos entonces imagínense que tienen 2000 pes no en su cuenta de banco y este llegan ustedes y dicen no pues yo voy a tirar retirar 2000 pesos y llega otra persona al mismo tiempo y dice yo quiero retirar Yo quiero retirar este 100 pesos entonces si se dan cuenta lo que está pasando acá o lo que va a a a
(17:52) suceder si ustedes no tienen un candado es este pues inconsistencia de datos por qué porque imagínense que acá tienen su base de datos entonces en su base de datos Bueno del banco aparece que este ustedes en su cuenta tienen 2000 pesos pero luego llegan dos personas y quieren hacer operaciones diferentes este al mismo tiempo si ustedes no tienen un candado y dejan que los dos hilos o las dos personas en este caso accedan si se dan cuenta es más o menos la misma idea acá dos hilos están intentando acceder a un recurso
(18:40) compartido al mismo tiempo accediendo y modificando entonces este lo que pasa lo que va a pasar acá es que si el banco que eso no pasa pero si el banco no tiene los candados suficientes no tiene la implementación correcta toda su base de datos va a empezar a tener inconsistencia de datos sí lo ven porque este imagínense que yo digo Ah no pues yo voy a retirar 2000 pesos y llega otra persona y dice yo retiro 100 pesos y no tienen los los candados necesarios las las los bancos lo que va a pasar es que al final el banco les va a dar a mí me
(19:23) va a dar 2000 pes y a la otra persona le va a dar 100 pes pero en sí el banco nos dio o sea el banco nos dio en un total 2100 pesos y nosotros nada más teníamos 2000 pesos sí lo ven entonces o sea en este caso Ah a estas personitas les les benefició pero pero pero en el banco en las bases de datos del banco van a tener inconsistencia en los datos porque van a decir Oye este esta persona en esta cuenta de de banco tenía 2000 pes Y ahora resulta que tiene este o sea que le dimos 2100 pesos entonces pues no da no Y eso surge como
(20:14) una inconsistencia de los datos sí lo ven cualquier duda Ah top Muchas gracias entonces Cualquier duda me avisan y por eso Y eso pasa las blockchains no sé quién está llevando acá criptografía Este o o criptografía avanzada creo que es un seminario criptografía avanzada y en criptografía avanzada lo que ven son justamente las blockchains y cuando ustedes estén estudiando las blockchains o si por su cuenta quieren estudiar las blockchains este van a notar que es algo muy padre porque qué Porque este Incluso bitcoin el libro este blanco de bitcoin
(20:58) este se basa en este cómputo distribuido pero como ya sabemos cómputo distribuido es una cara del cómputo concurrente Y si empiezan a buscar más a fondo van a darse cuenta que las blockchains utilizan cómputo distribuido cómputo cómputo concurrente y de aquí utilizan cómputo distribuido pero lo que nos importa en este caso que estamos viendo los candados es esta parte de acá el cómputo concurrente Por qué Porque si ya tenemos cómputo concurrente significa siempre que haya cómputo concurrente lo que va a significar es que nosotros tenemos que
(21:41) implementarlo de forma tal que no haya ni Race conditions ni inconsistencia de datos Entonces siempre que ustedes vean cómputo concurrente en teoría y el deber ser sería que tengan los candados suficientes y la implementación necesaria para que no pase nada de eso Esto entonces las blockchains este por eso la las transacciones son atómicas para que y y sincronizadas para que dos personas no puedan retirar más de lo que tenían nada más por una Race condition o una inconsistencia de los datos Sí entonces y y básicamente todos los
(22:20) bancos deben tener esto para las transacciones para que dos personas al mismo tiempo no puedan este llegar este y pedirle al banco que le saque este o sea acceder a su cuenta de banco en en operaciones diferentes que le saque diferentes cantidades y que el banco no empiece a tener una inconsistencia de los datos Entonces el ejemplo más normal de esto de las Race condition o o el más fácil en el que yo creo que se pueden imaginar es este esta parte de las transacciones bancarias entonces este justamente por estos problemas la
(22:58) concurrencia siempre siempre siempre lleva estos dos problemas a la Race condition y a la inconsistencia de los datos siempre si ustedes no implementan Los candados correctos entonces por eso vamos a la parte de candados la verdad este es una parte muy padre y básicamente es en lo que nos vamos a enfocar Pues todo lo que resta del semestre además de otras este cosas concurrentes pero es una parte muy importante porque porque es lo que les va a hacer que su programa concurrente o que su sistema concurrente tenga o sea de el resultado
(23:37) correcto no con los candados ustedes van a poder garantizar la O sea lo correcto de su programa entonces básicamente Qué es un candado un candado es un mecanismo si lo ven así es un mecanismo que permite la sincronización entre hilos y ahorita vamos a ver por qué la que permite la sincronización sincronización entre hilos entonces acá la palabra clave es sincronización los candados no sé si si ustedes ya han escuchado de de la palabra reservada synchronized no que está en Java pues que o sea nosotros lo lo fácil de meter a un si nosotros
(24:35) queremos hacer un programa concurrente y le metemos synchronized a todo lo que va a ser synchronized es eso que forme a los hilos y que les diga Ah pues tú pasa primero luego vas tú luego vas tú pero eso que nos da o sea si le metemos synchronized a todo si metemos esto todo lo que nos va a dar va a ser una ejecución secuencial sí lo ven entonces este lo que nosotros no queremos y para lo que nos van a servir nuestros bonitos candados es para no tener una ejecución secuencial pero garantizar la correctitud de una ejecución secuencial
(25:22) Sí entonces Este nosotros no queremos meterle sincronización a todo todo toda nuestra ejecución en un programa concurrente porque eso nos va a dar una ejecución secuencial Sí más o menos lo ven imagínense por ejemplo acá Este ustedes Esto es algo concurrente meramente concurrente si lo ven Pero si ustedes le meten synchronized a todo lo que van a tener es una puerta y van a tener una persona entrando una persona entrando una persona entrando después pero este va a entrar después de este y este va a entrar después de este o sea
(26:05) van a ir como que en filita bueno no como que en filita literalmente en filita Y eso qué es eso es una ejecución secuencial Entonces nosotros no queremos eso Entonces tenemos que ser Muy cuidadosos En dónde metemos la sincronización porque podemos sincronizarlos de forma tal que literalmente todos lo hagan en filita pero es pues es este secuencial entonces lo que queremos es que no que entre una sola persona al mismo tiempo pero que los demás vayan haciendo sus cosas simultáneamente ahorita Les explico mejor este pero esa es la idea
(26:47) Entonces los candados son un mecanismo que permite la sincronización entre hilos Y si ustedes lo ven vamos a ver también semáforos y los semáforos son diferentes a los candados pero este pues muy burdamente lo pueden ver como un semáforo o sea actúa como un semáforo que controla el acceso a un recurso compartido básicamente es eso no un mecanismo que controla el acceso a un recurso compartido por eso es muy importante la sección crítica la critic section entonces lo que necesito que se aprendan de acá que les va a ayudar en su tarea
(27:22) es esta parte de la sincronización un mecanismo que permite la o sea los candados son un mecanismo que permite la sincronización entre hilos si ustedes lo visualizan de esa manera les va a ser como que más fácil ver y ahorita vamos a ver o sea acá la palabra clave es sincronización pero la sincronización es como que un arma de doble filo y ahorita vamos a ver los candados no son lo mismo que una ejecución secuencial Bueno hasta aquí tienen dudas Déjenme regreso a esta parte no tien dudas todo bien va Perfecto entonces vamos a
(28:14) regresar la diferencia entre acá candados y secuencial si ustedes se dan cuenta imagínense que está acá su cuartito y acá está la critic section la sección es básicamente el punto o el recurso compartido que no quieren que se pueda modificar al mismo tiempo por diferentes hilos por ejemplo en en nuestro ejemplo de la cuenta bancaria ustedes no quieren que este ustedes la sección crítica es ya el recurso donde aparece su saldo ustedes no quieren que dos hilos entren al mismo tiempo a un saldo sí o a Modificar el
(29:03) saldo de su cuenta entonces la sección crítica es donde ustedes no quieren que entren dos personas o dos hilos a la vez y es muy importante que ustedes la detecten Porque ahí nada más acá o sea esta es la sección crítica y nada más aquí es ustedes van a meter la sincronización nada más acá o sea en la mayoría los casos entonces imagínense que acá hay un buen de personitas o un buen de hilos queriendo entrar a la sección crítica si ustedes no ponen un candado va a haber al menos dos personas que vayan a entrar al mismo tiempo sí Y eso
(29:51) no lo quieren O sea la sección crítica justamente es eso crítica no no quieren que dos personas entren al mismo tiempo entonces acá es donde ustedes tienen que poner su candado aquí por qué Pero por qué los o sea por qué la sincronización es diferente lo secuencial Porque si se dan cuenta Nada más estamos sincronizando de la puerta para dentro Todo lo que pase acá es como no sé si este alguna vez les tocó ir a a la avenida del aspirante para tomarse su foto para para la universidad o algo así a mí me tocó para cuando entré la carrera
(30:36) Entonces sí se O sea si se acuerdan o en cualquier fila si se acuerdan antes de entrar a al lugar donde les tomaban la foto había una fila y ya en esa fila este Cuál era el candado pues había este una persona de seguridad UNAM que ya iba diciendo Ah no pues pasa tú a a a la casilla cinco para que te tomen la foto o a la ventanilla cinco para que te tomen la foto y luego tú a la ventanilla dos Entonces si se dan cuenta esa persona de de seguridad UNAM era la el candado pero por qué no es secuencial porque esta persona que estaba acá por ejemplo
(31:17) este de aquí imagínense que este bueno no le hagan caso a este A B y C entonces supongamos que esta es la línea de tiempo de la persona a esta es la línea de tiempo de la persona B Y esta es la línea de tiempo de la persona c lo que van a la la parte que no fue secuencial Es que la persona A B y C los dos estaban en trayecto imagínense la persona a iba en metro la persona en camión la persona B iba en taxi un taxi y este la persona C iba en su coche e iban al mismo tiempo entonces los tres estaban transportando eh al mismo tiempo
(32:08) los tres estaban ejecutando su tarea de de transporte al mismo tiempo Entonces si se dan cuenta este aquí a y b b y C y A y C Los tres al mismo tiempo Bueno simultáneamente estaban eh este transportándose no Y eso este y ya hasta que llegaron acá a la fila es cuando le dijeron Oigan fórmense porque esta es la sección crítica y no puede haber pues dos personas en una misma foto no Entonces sí más o menos entienden la idea de la diferencia entre este meter un candado y meter o sea y y hacer sincronizado todo porque si
(32:57) sincronizamos todo qué pasaría tendríamos estas otras líneas de tiempo de A B y C A B lo más fácil obviamente siempre es sincronizar todo no O sea si a nosotros no nos sale un un programa secuencial literalmente lo primero que vamos a pensar es gey vamos a sincronizar todo ya y ya quedó y Y sí O sea su resultado va a ser correcto pero eso no es concurrencia por qué Porque lo que ustedes están haciendo es le van a decir ah Oye primero primero transpórtate tú luego ya cuando llegues a tu destino O sea ya cuando estés
(33:39) aquí Entonces está a está b o nada más con a ahorita porque no me cabe entonces lo que ustedes están haciendo Es que le van a decir a O sea si sincronizan todo le van a decir No pues tú llega a donde tienes que llegar y ya cuando llegues en pieza B pide tu taxi y llega y luego empieza c y luego cuando termines empieza d y si se dan cuenta Eso no es concurrencia o sea eso es puramente secuencial y nosotros no queremos secuencial bueno no queremos que sea secuencial no Entonces lo importante acá es que solo sincronicen
(34:27) la sección no queremos sincronizar esto no O sea nosotros no tenemos problema con que a b c y los las 1 personas que se van a ir a tomar la foto hoy este vayan a o sea se sincronicen cuando estén transportándose a nosotros no nos importa si a y b están al mismo tiempo en un transporte s o sea realmente nosotros no no tenemos ningún problema no nos genera ninguna condition y no nos genera ninguna inconsistencia de datos que a eh esté yendo en camión que B esté yendo en taxi que c esté yendo en su coche y que de esté yendo en metro al
(35:08) mismo tiempo al mismo lugar si se dan cuenta lo que nos genera problema es que los cuatro quieran entrar al mismo tiempo a tomarse la foto ahí sí ya no ahí sí ya no lo podemos permitir y es donde ponemos nuestro candado y nuestra este sincronización entonces la sincronización solo va a estar en la sección crítica en la la mayor parte de las veces y Y esto es para evitar que meter un candado sea diferente a meterlo secuencial por eso es muy importante que ustedes primero vean el pseudocode y identifiquen dónde va a estar su sección
(35:50) crítica Cuál es la sección que ustedes no quieren que modifiquen dos personas a la vez por ejemplo o sea es que si se dan cuenta ustedes ya lo tienen este pues inato o es una lógica muy Pues que o sea fácil de de imaginar porque si se dan cuenta y ustedes piensan en en esta parte de de las fotos no pueden O sea no no hay forma de que si tú le quieres tomar la persona a por ejemplo a Kenia No hay forma de que llegue al mismo tiempo la foto y la foto se la toman a los dos sí Entonces es muy fácil saber acá Cuál es la sección
(36:34) crítica nada más queremos que Kenia llegue a la a la ventanilla en su momento y luego vamos a pasar a Joel y luego vamos a pasar a Luis y luego vamos a ir pasando diferentes personas para este o sea al final vamos a dejar pasar a todos que es la propiedad que vamos a ver ahorita pero lo importante es que nada más puede pasar uno sí es como una fila normal pero la lo importante acá es que todo lo que hagan antes de llegar a la sección crítica o todo lo que hagan después porque si se dan cuenta después de pasar a la foto después de pasar a
(37:07) cualquier fila o sea incluso la fila de las tortillas si ustedes van ya cuando cuando pidieron su kilo de tortillas y ya se los dieron al final no les importa si si yo y la persona que iba atrás de mí nos vamos a transportar al mismo tiempo a nuestras casas o vamos a ir caminando al mismo tiempo a nuestras casas Sí o sea eso no nos va a generar inconsistencia de datos lo que nos va a generar inconsistencia de datos es la sección crítica antes no importa que sea simultáneo este o este pues sí concurrente y después no
(37:43) nos importa que sea concurrente sí lo ven todos Sí sí o que en un programa concurrente algunas partes pueden tener comportamiento secuencial en la sección crítica sí básicamente o sea este la sección crítica ustedes la pueden ver como como secuencial literalmente lo que pasa en esta fila va a ser secuencial lo que pase Entonces cuándo conviene usar syncron en la sección crítica nada más O sea bueno también depende de la lógica Cómo vayan a implementar su su este su problema Porque si hay O sea si es un problema de
(38:30) dos hilos normalmente el peterson lock es mucho más eficiente que synchronized pero synchronized conviene solamente en la sección crítica O sea si tu problema está para usar synchronized o sea que lo más eficiente sea usar synchronized la idea es que solo lo metas en la sección crítica antes y después no lo vas a querer meter porque si no vas a sincronizar todo y vas a hacer algo secuencial o sea antes de la sección crítica que todos los hilos hagan su trabajo ya sea distribuido paralelo este como sea y después de la sección crítica igual que
(39:09) cada quien haga su trabajo pero dentro de esa o sea imagínense que es como como como el baño no si ustedes este se van a una fila en el baño eh La idea es que la sección crítica nada más sea el baño no nada más una persona puede entrar al baño entonces la parte secuencial es que Ah Sí justo la parte secuencial es que nada más una persona va a entrar al baño dentro del baño Eso secuencial sí porque nada más yo o nada más tú o nada más una persona va a entrar al baño ya saliendo puede haber 10 personas lavándose las
(39:48) manos al mismo tiempo lo que no queremos es que haya 10 personas en un mismo baño entonces synchronize conviene nada más dentro del baño o o cuando dentro de la sección crítica si tú metes synchronize antes de la sección crítica o después de la sección crítica vas a tener algo secuencial y no es lo que queremos sí la sección crítica está después de que un H tome el candado o puede estar antes de a ver voy dejate comparto la pantalla la sección crítica es la sección crítica es esta parte de acá la puerta entonces lo que tú vayas a hacer de la
(40:46) sección crítica es Pues sí la la puerta o o dentro del baño una vez que tú entras al baño y Y cierras la puerta eso es la sección crítica O sea ya literal como que El inodoro no des antes la fila puede haber 100 personas formándose al mismo tiempo y luego puede haber 100 personas lavándose las manos al mismo tiempo y eso no tiene problema la sección crítica es lo que tú no quieres es que entren dos personas al mismo tiempo y nada más es ahí o sea por ejemplo en la fila de las tortillas nada más quieres estar despachando a uno
(41:24) cuando te toman la foto nada más quieres estar tomando la foto a uno entonces la sección crítica nada más va a ser ese trayecto de tomar la foto ese trayecto de despachar o ese trayecto de de ir al baño Todo lo que pase antes debe ser simultáneo y todo lo que pase después debe ser simultáneo para que sea un programa concurrente bien hecho sí la sección crítica nada más es esta puertecita de acá y nada más para entrar o sea el candado se usa para entrar el candado se utiliza para entrar a la sección crítica Entonces el candado y acá cuando
(42:09) tú sales pues tienes que desbloquear el candado pero cuando tú vas a entrar agarras el candado cuando tú sales ya lo dejas pero el candado o el synchronized como preguntaban se utiliza antes de la sección crítica nada más en este trayecto de tomar la foto de despachar las tortillas de todo eso sí serio Ah ya va si no cualquier duda me regreso va todos los demás bien Sí seguras Okay si no igual me pueden mandar mensaje y y este para ver sus dudas entonces esa es la diferencia entre meter o sea entre sincronizar y hacerlo secuencial que no nos importa si
(43:10) antes vayan a estar al mismo tiempo o después vayan a hacerlo simultáneo lo que nos importa es acá esto es simultáneo esto es simultáneo pero nada más esta parte de acá la la sección crítica es secuencial eso es un programa concurrente bien hecho no porque eh este o sea no no los juzgo ni nada porque a mí me pasó va a haber veces en las que ustedes estén tratando de hacer un programa concurrente y van a decir Oye pues no me sale voy a meter sincronize a todo y y a ver o sea se vale Pero si le meten sincronize a todo
(43:57) literalmente están haciendo algo secuencial no Entonces lo concurrente se basa en tener antes simultáneo después simultáneo y solo en la sección crítica la parte secuencial va y de esto surge lo que decimos la propiedad de viveza y la propiedad de seguridad si se dan cuenta este acá en este ejemplo de acá vamos a usar el de el del baño no la propia de viveza nos dice que Algo bueno va a pasar eventualmente en este ejemplo de acá pues si una persona escala una montaña así o bueno Camina y Camina y Camina y Camina y camina eventualmente o sea va a
(44:44) llegar a su destino Sí qué es lo que nos dice la propiedad de viveza eventualmente esta es la palabra clave entonces en su tarea cuando les pregunten de de viveza o de seguridad acuérdense de viveza es eventualmente va a pasar si ustedes están formados para ir al baño eventualmente Tienen que salir todas las personas que están en el baño y tienen que pasar todas las personas adelantes de ustedes y eventualmente van a pasar al baño sí Entonces eso es la propiedad de viveza eventualmente van a pasar eventualmente
(45:22) van a agarrar el candado en O sea ya ya formalmente bueno for pero más como que aterrizado lo que nos dice la propiedad de viveza es que eventualmente un hilo va a agarrar el candado y va a poder hacer lo que sea en la sección crítica sí Entonces este pues sí la palabra clave aquí es eventualmente entonces en su tarea se tienen que fijar en esta palabra y eventualmente es una palabra muy bonita porque al final todos Esperamos que eventual ente nos pasen cosas y y eventualmente van a pasar entonces lo que lo que pasa en en los
(46:06) programas concurrentes es que van a estar aquí los hilos los hilos A B y C y para que este candado sea un buen candado lo que tienen que asegurar son dos cosas primero la de viveza y esto Qué significa que este candado eventualmente tiene que pasar o sea eventualmente tiene que llegar al c eventualmente lo tiene que tener b y eventualmente lo tiene que tener a para que eventualmente c entre a la sección crítica luego B entre a la sección crítica y luego a entre a la sección crítica entonces un buen candado tiene
(46:48) que tener esta propiedad de viveza para que eventualmente se entre eventualmente o se eventualmente todos los hilos que quieran entrar a la sección crítica entra eso es lo que nos dice la propiedad de viveza y lo que nos dice la propiedad de seguridad es este no no lo puesto pero nos dice que algo malo nunca pasa acá la palabra clave es nunca no entonces lo que ustedes quieren garantizar también para un candado es este por ejemplo acá de la bibliografía de de The Art of multiprocessing nos dice que lo correcto de un programa
(47:34) concurrente se basen garantizar la seguridad de un programa a pesar de la gran cantidad de formas en que los pasos de subprocesos pueden estar intercalados Y eso es lo difícil del cómputo concurrente para garantizar lo correcto de un programa no tienes que solo garantizar que que una línea de tiempo o sea que una ejecución esté bien tienes que garantizar que no importa por ejemplo acá en nuestro ejemplo de este no importa si si c Llega antes o si hay ve se están transportando al mismo tiempo o si a los tres se les hizo tarde
(48:09) o si a los tres se les hizo temprano no importa en qué secuencia vayan a llegar lo que tienen que garantizar es que nunca van a ha dos personas en una misma foto sí y es lo que nos dice la seguridad nunca puede haber tal cosa entonces por ejemplo acá en la parte de semáforos nunca va a pasar que aunque se descompongan los semáforos va el semáforo va a poner verde en todas las direcciones Entonces eso nunca va a pasar entonces cuando ustedes estén haciendo algo concurrente tienen que enfocarse en garantizar estas dos
(48:52) propiedades y estas dos propiedades lo bonito de la concurrencia Es que solo se tienen o sea lo por eso lo vamos a estudiar mucho este semestre porque tienen que garantizar tienen que cuidar muchísimo muchísimo muchísimos sus candados entonces lo que ustedes quieren garantizar o sea las propiedades que quieren garantizar van a estar en los candados Entonces si se dan cuenta es bonito porque nada más tienen que hacer un mega candado y con eso básicamente ya tienen la garantía de que su programa concurrente es correcto pero sí la
(49:28) seguridad O sea la propiedad de seguridad nos dice que no importa imagínense acá están las líneas de tiempo a de B de a de B de a de b y de c entonces lo que nos dice es que no importa qué esté pasando con A qué esté pasando o sea imagínense que en una la primera vez que lo Ejecutan tienen esto y luego la segunda vez que lo Ejecutan tienen esto y la tercera vez que lo Ejecutan tienen esto lo que tienen que garantizar es que independientemente En qué orden llegue A B y C en nuestro caso o sea nuestro ejemplo de las fotos nunca va a haber
(50:23) dos personas en la misma foto lo que tienen que garantizar es independientemente En qué orden llegue A B y C O si llegue b y se salga de la fila Nunca van a a a pasar dos personas Al mismo baño independientemente de cómo esté la fila o sea de cómo lleguen a la fila de las tortillas nunca va a haber dos personas al mismo tiempo pidiendo la misma cosa no entonces este Esa es la idea no no importa qué pase antes y qué pase después O sea Esa es la lo difícil la seguridad se basa en no importa En qué orden lleguen o En qué orden se
(51:03) vayan en la sección crítica nunca va a pasar que entren dos personas o nunca va a pasar que entren dos hilos o nunca va a pasar que dos hilos accedan a este recurso al mismo tiempo Entonces si se dan cuenta la palabra clave aquí es nunca sin importar En qué orden lleguen y sin importar En qué orden se vayan nunca va a pasar que entren dos al mismo tiempo es eso es lo que tiene que tener su candado y en la propiedad de viveza tienen que asegurar que sin importar En qué orden lleguen y sin importar en que bueno no sin importar En qué orden
(51:37) porque s va a haber candados justos pero bueno lo que tienen que asegurar en viveza es que eventualmente todos van a pasar a la sección crítica entonces en viveza es eventualmente en seguridad es nunca y en seguridades sin importar En qué orden la seguridad es lo primordial o sea esta propiedad de seguridad es lo primordial para garantizar que su programa concurrente es correcto esta propiedad es este o sea esta propiedad es la fundamental pero esta propiedad también es este importante Entonces lo primero que tienen que que ver es sin importar
(52:16) En qué orden lleguen y sin importar En qué orden se vayan Nunca van a entrar dos a la sección crítica y acá eventualmente todos van a entrar a la sección crítica sí lo ven todos Sí todo claro Va perfecto muy bien chicos Son increíbles Entonces este pues yo creo que hasta aquí lo dejamos la siguiente clase el martes vamos a ver más de estas propiedades de seguridad y beza y este vamos a empezar con deadlock free y Cualquier duda me avisan va va Nos vemos la próxima semana Suerte en su en su fin de semana se
(53:23) cuidan Bye Bye
