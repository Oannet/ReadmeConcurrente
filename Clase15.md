2024 08 23 10 04 28 - YouTube
https://www.youtube.com/watch?v=dH5O1MzbdOo

Transcript:
(00:01) creo que es mucho pero de a dos sí se este ya con eso tienes al menos con quien discutir los ejercicios y ya con dos es su Bueno o sea con dos siento que ya con eso es mejor Vale entonces e ya le subí su segunda tarea Ojalá la hayan este ojeado tantito y bueno la leemos ahorita que acabe ya este este o sea el segundo tema bra Bueno entonces este Ah bueno igual No si alguien más le falta equipo Pues ahí hay un equipo de dos vale Okay este entonces bueno nosotros habíamos visto el primer problema que yo les había comentado que hecho es Yo creo que
(01:02) el primer problema o sea bueno nosotros vimos el primer problema pero justo coincide con que es el primer problema este que se formaliza y que pues forma parte del del cómputo concurrente No ya como disciplina de hecho este tienen resultados muy importantes por ahí de los 70s que es esta esta prueba al final no que si ocupas resolver el problema de la exclusión mutua y garantizando al menos deadlock free para un número n de hilos ocupas al menos n localidades de memoria es como el gran resultado la gran Cota Cota
(01:43) inferior no es una es una Cota bueno como como computos computas bien sabemos no que las cotas son sumamente importantes no O sea ya con eso nos dictan qué tanto podemos mejorar algo y ya no seguir intentando no eh entonces bueno este problema este pues fue resuelto también desde el 81 por peterson por por este por lamport con el candado del panadero de Bakery también este y bueno habíamos visto que la diferencia de peterson o sea bueno de la generalización que es del algoritmo de filtrado que es la generalización de
(02:25) peterson aery se acuerdan que nada más bueno la única diferencia o gran diferencia es que la propiedad de Justicia es este sí se garantiza en Bakery pero pues en filter no Entonces es algo que nos gusta yo les había comentado que en realidad ese algoritmo no s o sea bueno lo vimos como de forma pues eurocódigo no teórica sí Ay que bonito pero la realidad es que no se aplica tal cual en la práctica Entonces en realidad este pues aquí lo que nos comentan es que ha habido varios Este algoritmos basados en el de Bakery
(02:59) y a la fecha De hecho hay unos unos candados que se llaman Spin locks que yo creo que algunos los han escuchado los spinlock simplemente este pues son candados que nos brindan una ventaja que pues es que si no Ob tienes el candado pues te vas a quedar por allí espineando o sea como dando vueltas no y más o menos Creo que estos que vimos son así no O sea no no tienes el candado pero andas dando vueltas en un pero bueno hay les digo que hay distintos tipos de candados nosotros ahorita vimos como la base pues teórica
(03:35) no lo que salió primero y que coincide con que pues es lo más eh sencillo oa lo introductorio para nosotros de entender Vale entonces no no se estresen no de que ay Quiero ver yo candoos increíbles Pues sí pues vamos a ver no este bueno candados que realmente se ocupan en la práctica y que pues si les interesa sea hay análisis de Ay que otro output no de rendimiento de Cuántos este puede Cuántos este hilos puede manejar ya o sea otras cosas Pero bueno ahorita nada más este con esta esta introducción teórica Vale y ya este vamos
(04:14) avanzando entonces eh el siguiente problema es un problema también muy muy famoso y que se usa un montón en el cómputo concurrente y es el de los productores y consumidores y esto sí O sea bueno Yo quiero ponerles El ejemplo de que pues puede ser que por ejemplo productores puede ser pues una una en una cola por ejemplo en una cola bueno en una no este el método enq por ejemplo y los consumidores Pues en esa misma col sería el método de que como que o sea es como sient el ejemplo más fácil el método en que le da cosas o le
(05:10) da ems no que consumir al método de que eso es por ejemplo así como para que se den una idea no de estos productores y consumidores otro ejemplo Pues sería O sea ya más aplicado este por ejemplo en el en el El tcp Bueno sí tcp protocolo tcp de redes no e este protocolo Simplemente nos dice que vamos a enviar paquetitos en orden y que el otro nos debe dar un acknowledge no O sea un Ah sí lo recibí en ese orden Entonces nosotros le mandamos más no como que ahí también se ve como de yo te yo yo que hago yo produzco paquetes é
(05:57) los consume no y de hecho no voy a producir más hasta que él me diga que realmente funcionó no Entonces sería como que pues el que envía bueno el que envía sería el productor y el que recibe sería el consumidor y de hecho el que recibe pues le da este da unn no esto de en redes por ejemplo no Entonces digamos que yo produzco paquetitos de información el que envía y el que recibe Pues los cons y de hecho dice Ay me llegaron bien Mándame más no y ya entonces el otro le envía a otros y así no un problema este como bien clásico no de la computación
(06:42) en general Vale entonces bueno por eso también el cómputo concurrente nos importa solucionar este problema bueno como nos gusta este Bueno a mí me gusta no este la forma en la que se escribe el libro con al no creo que como que nos da el chance como de analizar los problemas como desde más arriba no no ni siquiera a una situación como muy de algoritmos de vamos a hacer las variables no sea como que nos permite como abstraer un poco los problemas entonces ahí va otra vez no imagínense que otra vez tenemos a alis
(07:18) Bob se acuerdan que compartió en el patio que sus perros su perro y su gato no se llevaban entonces por eso teníamos este problema de exclusión mutua no O sea queríamos que el patio era la sección crítica y el perro y el gato solo entraban este no podían estar al mismo tiempo en esta sección crítica bueno Pues resulta que Alice y Bob se casan no y pues resulta que también como que el perro y el gato se casan o sea como que este de repente se llevan bien entonces pues se divorcia no se separa y son vecinos entonces las mascotas se
(07:52) quedan con alif por ejemplo porque pues ya se aman las mascotas es así no se pueden separar pero el juez no ahí en los litigios y todo pues le dice a Bob tú te encargas de la comida no y resulta que las mascotas se ponen de lado de Bob y perdón de Alice Y pues ahora no quieren ver a Bob no Entonces ahí como que hay una una exclusión muua no ent así pues se casa se separan y las mascotas Ahora son amigas sí pobre Bob no siempre siempre de amable y así pero bueno entonces Alice e quiere que o sea por tienen este reglo dicen okay Bob se
(08:30) encarga de la comida porque pues también es tu perro y ahora es tu gato también entonces Alice quiere que cada vez que que saque sus mascotas pues ya est la comida en el patio no es lo que espera Alice y Bob dice bueno eh yo quiero que pues que Alice al menos me limpie los los trastes no O sea que estén listos y que estén vacíos no así por Entonces eso eso quiere Bob no O sea que que Alice quiere que la comida ya esté y Bob quiere que el que ya no haya este comida en los trastes no para poder sacarlos entonces diseñan este protocolo
(09:07) no entonces Alice qué va a hacer pues va a ser primero Ah bueno van a poner una lata hagan de cuenta que se ve esto así este tienen la casa de no sé de Alice de Bob y van a poner una lata en medioa Entonces esta lata pues es como una en realidad es como una bandera no eh Bueno ahorita van a ver entonces la ponen en el centro de del patio y van a esperar alguien se espera que la lata esté horizontal si está horizontal pues la saca sus mascotas y cuando las mascotas regresen y no haya comida en la este no haya comida pues va a bajar la lata la
(09:42) va a poner como vertical no entonces como que nada más ponen la lata horizontal y vertical no como true Y false entonces qué va a hacer pues al revés no va a esperar la que lata este vertical si está vertical va a poner comida y este y finalmente cuando haya comida pues va a poner la lata en horizontal no entonces como que la lata horizontal pues significa que que hay comida no y y en vertical implica que está vacío simplemente así funciona y entonces e bueno nosotros tenemos aquí un mini protocolo no y un protocolo A diferencia
(10:27) de los otros que vimos de candados este protocolo pues pues es como distinto también no no O sea digo los hilos no hacen lo mismo Alice tiene como su propio protocolo tiene el suyo Pero bueno al final la lata es nuestra variable compartida Vale entonces bueno Ustedes es el Quiz para que para que analicemos consideran que que se cumplen las propiedades uno starvation free estas dos nada más vale Y les digo la propiedad de productor consum entonces creen que se cumpla esta a la sección crítica dice Camilo es que
(11:14) Bob y al no se vean aj s exacto no pues en s exclusión mutua se cumple O sea pues no se ve nunca o sea Alice solo sale con la lata horizontal y solo con lata vertical no y ya entonces exclusión mutua se muy bien starvation free creo que no a ver starvation free Por qué no se cumpliría entonces Déjenme Esta sí Alice sale eh con la lata vertical horizontal horizontal y Bob con la vertical esto Sí se cumple puede pasar que alguien no ponga la lata vertical Pues sí pero por ejemplo en
(12:20) este caso e como que o sea como Pues en realidad estamos otra vez en un escenario Pues que es bloqueante no entonces podemos pensar que bueno starvation free queé nos decía la definición era que eh todos tienen éxito eventualmente no Entonces digamos que como que est eventualmente lo que nos dice es que si eventualmente Alice pone la lata en vertical Bob sale No Bob sale y viceversa No si Bob eventualmente pone lata en horizontal al y Sale entonces como que le suena no como que sí porque o sea no aquí por ejemplo no es como que
(13:21) Alice pueda salir muchas veces no O pueda salir muchas veces porque ambos se necesitan no O sea como si como que esta situación de eventualmente O sea si eventualmente pues al sale no quiere comida pues Bob sale no Y también este o sea bueno Bob tiene que poner comida eventualmente no sabemos cuándo no pero si el protocolo este o sea si ambos quieren no avanzar Pues eventualmente el otro va a hacerlo no y eventualmente va a salir como que se refiere esto starvation entonces bueno y ya entonces esta propiedad última de productores y
(14:06) consumidores consiste en que este los consumidores no hará nada mientras no hay algo que consumir no y viceversa e los productores este son los encargados de proveer no Y entonces también los productores No pondrán nada Por ejemplo este si no hay espacio Vale entonces Okay entonces por ejemplo es como interesante ver esto O sea eh la exclusión mutua pues simplemente es pues no hay dos en la en la misma sección crítica no O ya dicho de forma así más este más formal las secciones críticas de dos o más hilos no se traslapan vale entonces eso eso es Y
(14:54) acá es pues no voy a consumir Mientras no haya algo que consumir y los productos no van a proveer Mientras no haya espacio no para proveer entonces este problema de productor y consumidor ocupa o se sirve de la exclusión mutua no digamos que lo necesita Por qué Porque por ejemplo ahorita pues se ve muy fácil no como que pues solo tenemos dos hilos y garantizarles este pues como que sal no sale mientras no ponga y al revés no pero se dan cuenta si tenemos una un concurrente y hay varios hilos que encolan y varios hilos que des encolan
(15:35) no tenemos varios productores y consumidores Entonces qué podría pasar en este caso este que como es concurrente puede ser que dos hilos consuman lo mismo no O que dos hilos Eh bueno sí creo que es el problema no produzcan lo mismo Pues no cada quien va a poner este entonces puede ser no que dos hilos consuman lo mismo no puede ser entonces ahí y a fuerzas necesitamos exclusión mutua o sea siempre que solucionemos un problema de productores y consumidores vamos a ocupar exclusión mutua porque pues sí no sea para que realmente podamos cumplir
(16:11) esto ocupamos que no haya dos consumidores que consuman lo mismo ya entonces Bueno hay varios problemas que surgen de la exclusión mutua no ent Bueno les quería poner un ejemplo no de de de si se hace esto de forma concurrente como o sea bueno este un problema que utiliza la exclusión mutua Pero bueno o sea les digo es muy importante este problemita porque ya vieron no por ejemplo para hacer un contador pues decimos Ah Mira pues Pon exclusión mutua y ya está no solucionado e y mil cosas que quieren hacer por ejemplo en la práctica dos que
(16:50) que va a ser voy a dejar el siguiente jueves de la siguiente semana vamos a hacer una cola concurrente Cómo pues conus mutua o sea vamos a ocupar candaditos y los vamos a poner a correr no a todos los hilos Y no van a pasar cosas raras porque tenemos código delicado no este entonces así funcionaría y Bueno les digo no es como una solución así como Ay tengo un problema concurrente Bueno Ponle un candadito no es Es como una solución y una solución así muy Eh pues la verdad no que parece como este algo muy trivial Vale y Okay
(17:34) entonces siguiente paso eh vamos a leer la tarea este Okay entonces lo primerito es es este el primer punto es identificar e el tipo el tipo de propiedad vale Y también dependiendo No si si es una propiedad segura deben o sea por ejemplo no sé la inflación sube cada sube año con año no Entonces me tienen que decir bueno Esta es una propiedad de seguridad o de viveza y si es segura pues me tienen que decir la cosa mala que nunca sucede pues es no sé que la inflación sube año con año no O sea bueno que la inflación no
(18:23) suba año con año es la cosa mala que nunca suceda o la cosa buena que sucederá no en sí es de viveza Aunque Bueno creo que ya lo ven así como muy fácil no O sea bueno lo ven así a simple vista está como que la ven no de seguridad pero bueno entonces cada una de estas de estas Este de estos enunciados Okay Eh responder esto y muy importante parece que eh Por ejemplo esto no O sea como ustedes me dirían Eh bueno como que tiene truco e porque cuando dicen la cosa mala que nunca sucede es que la inflación no suba no pero pues eso no nosotros o sea como
(19:08) en nuestra lógica no es malo vale pero aquí digamos que se tienen que fijar en argumentar no O sea que es una propiedad segura No tanto como en lo que es bueno o malo en el mundo vale Porque sí No no es bueno que no no es bueno que que suba no pero bueno este entonces son esas me preguntan vale o sea me dicen si si no entienden la redacción ahorita de algo vale Okay entonces el segundo punto también es como sencillitos bueno siento Entonces nada más es Mostrar un ejemplo de una ejecución de filter en donde un
(19:54) hilo a lo rebasa más de una vez cualquier otro hilo B eh Y entonces Eh hay que considerar un número n de yos consideren un número n mayor a 10 no O sea como que pues es un sistema grande se y y explican Por qué no se cumple la propiedad de Justicia no entonces bueno yo aquí les puse que pueden mostrar una imagen de una ejecución o describirla pueden ser 10 Ajá sí sí O sea pero les puse 10 para que no quede como tan tan trivial no porque pero o sea no no crean que tienen que describir todo lo que hacen 10 hilos no Simplemente me refiero
(20:33) a que si son n = 10 quiere decir que va a haber niveles nueve niveles no por eso por eso les puse O sea no es como que ay Este somos 10 hilos y el hilo uno hace muchas cosas o sea no pero entonces me describen como una ejecución no sea pueden dibujarla no de así de Ah bueno así como hilo 1 dos así no pero bueno se les digo no tienen que Mostrar justo todos los hilos o sea cuando la dibujen sea pueden poner aquí como bueno Y aquí están los demás Vale entonces como que si de Mostrar cómo cómo van avanzando Pues no sé los
(21:22) hilos En los niveles no sea puede ser que pues el hilo un se quede en el nivel No sé no est ejecutando sí entonces hilo uno como que no acaba no Y ese es el hilo a y el hilo B no entonces el hilo B acaba y acaba No tarar tarara él acaba muchas veces o sea eh puede tomar el candado muchas veces antes que que a lo logre porque ya resulta que es bien lento para cambiarse de de este pues es la es la razón no por la que un hilo B podría aventajar varias veces a un hilo a no pero o sea bueno me gusta este ejemplo o sea bueno como que ustedes lo
(22:10) armen para que buo vayan analizando no O sea bueno sí dónde Pero dónde es donde B puede tomar ventaja de a y además este en la clase vimos nada más un ejemplo en donde a Pues empieza primero y termina al final no pero ahorita como darse cuenta que en realidad podría ser que a a lo rebasen en realidad muchas veces y un mismo hilo vale porque pues si son por ejemplo 10 niveles ocupa ponerse siempre o sea bueno ocupa no ser siempre la víctima no para no quedarse entonces así este como que considerar no como que si ve puede puede terminar
(22:47) varias veces eh de ejecutar el lock antes que bueno y pensando que an más es lento O sea no que se queda ahí como detenido por siempre vale este entonces bueno eh después creo que vieron con Isabel Creo que este mismo problema o uno similar Pero bueno en la ayudantía Y es justo no Argumenta si la siguiente implementación que es victim around este de un candado para dos hilos cumple con y van a tener que ver no si cumple con exclusión mutua con deadlock free con estation free Vale entonces este si no lo cumple pues simplemente
(23:33) como que Mostrar un ejemplo vale o sea como este no sé pues no se me dicen mir no es starvation free Porque si tenemos una ejecución de dos hilos este Bueno sí pues no hay más No o sea est un cado para dos hilos entonces pasa que no sé me dicen no pues que a ejecuta el lo y y en la línea en la línea justo la línea no sé la línea si se nombra como víctima Entonces ve no puede salir y entonces B no puede tomarlo ni a o sea como que me digan no este o que que a siempre lo toma antes que b o sea como o sea me den
(24:07) un ejempl ito vale Si no lo cumple y si lo cumple eh Pues como vimos o sea por ejemplo si cumpro exclusión mutua pues decir bueno eh tenemos que usar en variantes Ajá pero si te das o sea bueno se dan cuenta no es así como que no las hayamos visto no por ejemplo para demostrar exclusión mutua pues lo que me tienen que decir es y como solo son dos hos o sea no hay que usar inducción vale o sea pues no no es como que o sea como que tengamos ahí filter no O sea varios varios s los n los No aquí solo son dos Entonces por
(24:41) ejemplo para exclusión mutua me tienen que decir No pues la sección crítica de a este por contradicción se acuerdan por contradicción eh suponer que la sección crítica de a es concurrente a la de B no a la sección crítica de B Ay sí miren otra vez mi reunión gratuita otra vez me nos va a sacar en 10 minutos Pero bueno no sí entonces un problema tengo que volver a a comprarlo Bueno acab yo creo me da tiempo de ver la tarea eh Okay entonces eh es encontrar esto no O sea bueno suponer por contradicción que ha Vale
(25:26) entonces este es es describir esto si cumle deadlock free por ejemplo Mostrar no que que un hilo siempre lo toma no y por ejemplo un el el hilo a siempre que quiera eventualmente es distinto no como son de viveza mucho este eventualmente lo toma no o él y lo ve dependiendo vale este o unilo siempre tiene al menos éxito no no no los dos y ya demostrar por ejemplo decir como supongamos que Nilo a ni el hilo B O sea por contradicción no que ni el hilo a ni el hilo B logran tomar el cado vale eh ent Por contradicción
(26:26) este ah y ve se congelan entonces así por ejemplo en eh Eso es para demostrar Esto vale o sea es la invariante ya en realidad ya las vimos este o sea siempre se cumple no Entonces como tal no ser invariantes para mostrar los ciclos todo super formal solo hacer contradicciones Ajá es que por ejemplo en este caso la invariante como solo son dos hilitos pues no es como que tengamos que hacer una inducción No simplemente es como algo que o sea una invariante es algo que siempre se cumple vale aquí es como muy fácil porque solo tenemos dos no Ajá
(27:04) y no no super formal o sea No pues no pero sí que la idea principal esté ahí no O sea que realmente es esta cont O sea que mira tengo esta contradicción no eh Y no podría pasar porque en la línea si o en la línea Eve sucede Esto entonces si el hilo a toma antes eh olee la víctima del otro no y ve busy o sea como que Sí vale pero no muy formal sí exacto no no muy formal Pues creo que ni libro es tan formal o sea pero sí O sea que que se note que saben Por qué vale bueno y obviamente pues que si realmente sea de loock free o no no O sea que no
(27:44) no tengan el error vale que sí sea O sea que sí realmente sea de loock free Y pues su argumentación este o que no sea y entonces pongan su ejempl no miren aquí encontré una ejecución en donde se ve claramente que no es fre Vale entonces [Música] Bueno luego el problema cuatro esta muy divertido este problema s es muy famoso de hecho entonces este problema es el de los prisioneros le puse nuevo problema porque en el libro hay uno simplemente aquí son más variables pero pues se resuelven de la misma forma entonces en
(28:24) una cárcel hay n prisioneros y dos guardias vale Entonces los guardias les dicen Pues vamos a jugar algo no Y si nos ganan Pues los liberamos Entonces miren Cómo es Pues resulta que el Guardia ahí tenemos el Guardia a y el B entonces ambos van a llevar un prisionero a la vez a un cuarto en el caso de a El guardia a va a llevar los prisioneros a un cuarto e y les van a dar pues í alimento no y el Guardia B los va a llevar a F y ahí les van a Bueno les van a dar cosas para que se bañen no es como que pues ahí la presión entonces en cada
(29:09) cuarto existe un interruptor en el cuarto a existe el interruptor l1 y en el B existe en Perdón en el cuarto e o sea del guardia el l1 y en el cuarto del guardia B el cuarto F existe L2 vale entonces eh Y bueno aquí les puse como las este como que las las probabilidades o bueno la la Cómo se [Música] llama la frecuencia si la frecuencia con la que los pasan Vale entonces este Guardia pasa cada prisionero al menos una vez cada do n veces o sea cada 2n prisioneros vale Y este otro los pasa una vez cada TR n veces prisioneros vale
(30:00) o sea como que por ejemplo si son 10 10 prisioneros pues este puede ser que repita uno pero no va a repetir uno más de dos veces o sea más de más de 20 veces o sea bueno más el más del número de veces que están los demás vale Y también por ejemplo este no O sea no puede repetir un prisionero o sea puede pasarlo varias veces Este pero no no cada tres n veces prisioneros vale o sea O sea no puede ser que solo lo pase a él o sea sí como que varía Pero puede ser que pase a uno y lo vuelva a pasar luego luego no O
(30:37) solo pase otro y pum lo vuelve a pasar a ese mismo entonces bueno eh Y los prisioneros digamos que viven aquí en el cuarto r Aquí están los prisioneros y ellos prisioneros tienen un interruptor l3 vale Enton entonces bueno los guardias les dicen la condición para que los liberemos es que todos estén bañados y alimentados Okay entonces reglas los prisioneros no hablan no O sea no tienen lengua este eh Bueno o sea como que no sé bueno no que no tienen lengua pero no pueden hablar o sea es cero cero cero pueden hablar
(31:22) entre ellos pero pues les dicen Pónganse de acuerdo antes de empezar este juego y este pero pues ya una vez que empieza no pueden hablar Vale entonces yo les doy todavía una suposición Bueno una suposición más que es que el estado inicial de todos los interruptores es off Vale entonces su su objetivo es diseñar una solución un protocolo para que los prisioneros puedan liberarse entonces Bueno después Argumenta porque su solución es correcta es decir tienen que decir bueno no todos los prisioneros tienen Ah bueno
(32:04) eh para argumentar esto pues este es como decir no que su protocolo satisface eh su Bueno tu protocolo satisface esta línea no que una vez que alguien dice ya estamos bañados entonces e realmente Qué hacen entre sí O sea pasan solo los apretan sí ha de cuenta que todos los interruptores l1 L2 y l3 Pues en realidad son como buanos no pues o sea son tienen dos estados estados son on y off vale o sea como que pues solo es uno u otro y ya entonces este [Música] si lo pensamos así como en hilos Pues los o sea los prisioneros son hilitos y
(33:05) las los interruptores son variables guanas Y pues son un solo bit no sea es cero o es Uno Vale entonces e en realidad hay varias soluciones porque les puse muchas variables no O sea el problema así pues este que manejan en el libro Pues solamente hay un cuarto y y solamente hay un guardia no entonces Bueno pero aquí hay como les puse varias este cosas no sea este hay o sea los prisioneros pueden solucionar bueno pueden ustedes hacer un protocolo para Bueno más bien varios no O sea pueden no hacer el mismo todos
(33:47) Ah por ejemplo lo que nos ayuda un montón es que sabemos el estado inicial de todos los interruptores vale muy bien lo de las frecuencias Okay lo de las frecuencias es que por ejemplo es que pongo con otro colorcito por ejemplo no tenemos n = 10 prisioneros entonces e puede ser no que pase 20 veces no O sea aquí si docena 20 veces entonces en esas 20 veces puede ser que eh Por ejemplo vamos a nombrar los prisioneros no pasa el prisionero uno pasa el tres pasa el cuatro pasa el el no sé eh Ay
(34:55) Bueno voy a empezar de de cero vale pasa el al Hola de
(36:11) nuevo No no sí es un problema Entonces Bueno lo soluciono No ya el lunes yaos nos va sacar les digo que te registras y luego todavía que te registras tienes que hacer que validar algo para que te den el tiempo que quieras y no solo 40 minutos Pero bueno Okay entonces seguimos no tenemos Si consideramos n Ah voy a grabar grabar si consideramos n prisioneros no entonces en las 20 veces por ejemplo pasa el prisionero cero el prisionero cu el prisionero luego el uno luego pasa el prisionero no sé el s luego pasa el nu
(36:59) eh luego vuelve a pasar al cero no sé Luego pasa otra vez al se y luego al 5 Entonces si se dan cuenta por ejemplo no ha pasado al dos no pasa al tres y luego otra vez pasa al cero y pasa al cuatro Aquí vamos 1 2 3 4 5 6 7 8 9 10 11 y no sé luego otra vez pasa al 5 al 3 al 1 al 7 al nu 14 15 6 7 eh 19 y al menos por ejemplo pas al al dos una vez cada 20 veces en este caso por ejemplo no O sea pensando ay tienes razón este viernes 31 puse m ahorita lo reviso pero si les dejo el sábado
(38:03) va Lo corrijo para que quede todo el sábado el sábado este Okay s Que bueno que me hir gracias entonces este tenemos no que que cada 20 veces pasa al pasa al menos una vez a cada prisionero por ejemplo en este caso pues se había saltado el prisionero dos no Pero al menos cada 20 veces va a pasar el prisionero dos Vale entonces imagínense si son 100 prisioneros al menos cada 200 veces va a pasar a uno puede ser que repita todos vale los repita los repita Pero al menos va a pasar a uno más o menos este porque se me borró el chat Entonces el que
(38:55) preguntó de la frecuencia más o menos O sea si se dan cuenta Ah qué bueno Eduardo sí se dan cuenta en realidad este problema puede ser resuelto gracias a la frecuencia por ejemplo podemos contar este pues Una vez que se cumplan las dos por n veces no en loa que Y cómo Contamos con el interruptor no como está en off e Entonces todos pasan y cada vez que que que pases pues cuentas no siempre que pasas al cuarto cuentas cuentas cuentas cuentas ú sabes que eh Y por ejemplo Pon alguien a contar es muy importante o sea para solucionar este
(39:30) problema eh No todos los prisioneros deben hacer lo mismo porque si se dan cuenta eh podemos poner Bueno o sea la solución podría ser los ponemos unos a pasar lista y a otro lo ponemos sí que pase lista pero que ese cuente no O sea no todos tienen que contar vale o sea como cada vez que me pasen voy a contar voy a contar voy a contar no Bueno de hecho podría ser así sí podría ser que todos hagan lo mismo pero es bueno Hay muchas formas no O sea una forma Sí podría ser porque dice zuriel Por qué era 1 7 nu pasaban dos veces antes del dos Ah
(40:13) porque la frecuencia en que los pasa es uno o se es al menos de uno cada dos n veces no es decir que por ejemplo si son 10 prisioneros y o sea estas dos n veces son 20 veces quiere decir que al menos pasa una vez a cada prisionero no entonces tiene que a fuerzas pasar al dos al menos cada 20 veces no O al o al Siete o al nueve o sea todos tienen que pasar al menos una vez cada 20 veces vale o sea por eso pero no crean como que que justo Yo sé cómo los deben pasar no Solamente era un ejemplo no de por ejemplo puede ser que repita el cero que
(40:49) repita el nueve que repita o sea puede ser que repita varios no este pero siempre siempre siempre tienes que pasar una vez cada 20 veces no Y si son 100 prisioneros tienes que pasar al menos una vez cada 200 veces Vale y y así Entonces en este caso el otro pasa una vez cada 300 veces no es como que o sea podemos como pues pasarnos no O sea e podemos ir contando no qui quien ya cuente que pasó este una vez cada do veces no podemos ya terminar o podemos nada más contar no que solo contemos la primera vez que pasamos a cada cuarto y este o sea solo
(41:38) pasamos lista no cada vez que pasamos la primera vez a cada cuarto y que alguien cuente vaya a contentando esas veces que pasó el otro no O sea un prisionero que cuente y los otros pasan lista Entonces el prisionero que cuenta este registra no dice Ah mira el interruptor está en on entonces alguien pasó lista y yo qué voy a hacer lo voy a resetear para que alguien más pueda pasar lista y así O sea por ejemplo sería otro no otra solución y también dependiendo o sea por ejemplo podría ser no que cuentes lo que
(42:09) hizo eh cómo nos ponemos de acuerdo no que alguien cuente lo del l1 y alguien lo del L2 y al final nos decimos en l3 no O solamente pasamos lista en l3 vale o sea como que así hay opciones pero igual bueno vean ustedes Cuál les gusta más para redactar y también para argumentar que su solución es que sea correcta vale o sea cómo vamos a argumentar esto pues vamos a decir mi protocolo realmente satisface que siempre que cada que un prisionero avisa este dice esta línea o sea que todos estamos bañados y alimentados quiere
(42:44) decir que este que realmente o sea es cierto no porque ya pues entonces argumentan no porque siempre en cada ciclo Ajá Ajá bueno está garantizado que al menos Sí o sea cada 20 veces está garantizado que todos ya pasaron Ajá Exacto sí sí sí sí sí sí sí o sea puede ser que repitan a alguien no pero pero este pero de que ya pasamos todos Ya pasamos todos no entonces esa es una opción por ejemplo Eduardo no contar Pues bueno este hay que que alguien cuente las 20 veces no de alguna [Música] forma Vale entonces esa esa sería el cuatro el
(43:43) cuatro siento que es el más divertido no Bueno o sea como que este está divertido no como para discutir con sus compañeros No que es es lo mejor pero si parece un acertijo Bueno este luego tenemos este último ejercicio que es el de peterson que bueno este cómo va esto no eh Bueno es el Double peterson así le puse lo bautice Eh entonces este este candadito lo que hace es que ocupa tres candados peterson vale tres cs peterson Entonces por qué Porque peterson es para dos hilos Entonces yo lo que quiero es hacer Bueno o sea lo que sucede aquí es
(44:31) que hacemos un candado para cuatro hilos entonces ocupamos usar tres tres peterson por ejemplo lo que hacemos Es eh Este es un lock no bueno los locks todos son de peterson vale o sea son para dos hilos Este es otro lock Este es otro lock vale entonces sabemos que peterson pues puede hacer solo para dos hilos Entonces tenemos hilo uno hilo dos y luego tenemos al hilo tres y al hilo cuatro Entonces el ganador de estos dos o sea del primer lock va a pasar entonces por ejemplo no sé si gana el hilo uno pues se va a enfrentar con el
(45:14) que gane de acá no se el hilo tres no entonces enfrentan y al final solo va a pasar uno el hilo no sé el tres imagínense no Entonces es una forma de hacer y se parece en realidad si se dan cuenta filter pues es una generalización de peterson y se parece como un poco no O sea como que en realidad lo que va haciendo es que Siempre va dejando a uno por nivel Entonces se podría ver peterson de esta forma no O sea como que es muy bonito verlo así O sea en realidad sacrificas a uno por nivel y es como ponerle un candadito peterson en
(45:47) cada Pues en cada como pues hacer un árbol no poner un cada un cado peterson en cada este Eh nodo no de este árbol y sabemos que siempre va a ganar uno no Entonces ese uno se va a enfrentar con nosotros y así pum pum pum o sea podremos hacer una generalización norment pero bueno es solo es para cuatro hilos este candado entonces Bueno lo que tenemos que hacer aquí eh Bueno y aquí se ve el código vale o sea Tenemos aquí se ve eh variables compartidas tenemos tres candaditos eh luego yo les puse que aquí o sea esud
(46:24) código vale o sea no si lo ponen en Java no va a correr así T cual entonces cada quien tiene su propio ID Vale entonces tenemos un ID único vamos a suponer no que el ilo uno pues tiene el uno el dos el dos tres y cuatro Vale entonces si tengo el ID un o el dos voy a tomar el candado uno si tengo el tres o el cuatro voy a tomar el candado dos y al final el que pueda salir de este digamos que del de la línea el que el que el ganador de la línea 10 no que va a ser pues el que tenga el ide1 o el dos y el ganador de
(46:57) la línea 12 se van a enfrentar para tomar el de la línea 13 el candado 3 y también se van a dejar en esa forma primero se deja el candado tres y luego dependiendo si tomaste el candado uno pues lo dejas o si tomaste el candado dos lo dejas vale es como este una forma no de de reciclar el hilito o sea de usar peterson para cuatro imagínense también se podría usar para 8 hilos o para 16 no Okay entonces eh van a ustedes a demostrar analizar si se cumple con uno exclusión mutua deadlock free estv free y Justicia o sea sobre
(47:39) este sobre el Double peterson entonces aquí les puse que Pues en realidad [Música] este o sea si cumple con con la propiedad Pues otra vez no muestra la invariante que se mantiene no en este caso pues si son más pasitos no O sea pero no son igual muchos no se somos cuatro hilos entonces también pues no hay necesidad como hacerlo generalización no pero pues sí O sea como que algo se mantiene en en cada paso va de o sea de este arbolito y sabemos que en cada noo tenemos un peterson Ajá se ve tar chudo ese no pero
(48:21) bueno ustedes como lo ven así fácil ahorita como se si yo les digo a ver eh sabemos peterson cumple con estas tres no peterson será que será que esta generalización cumple también con estas tres pues es como esta Double peterson cumple con estas tres vale Y bueno este y bueno no hace falta que que demuestren peterson peterson ya lo demostramos Vale pues si me dicen este este candado como nada más mantiene Ay miren hay un r este candado como mantiene lo mismo en cada nivel y peterson lo mantiene Entonces se cumple
(49:02) no O sea no no me no me hace falta que que me pongan otra vez la demostración de exclusión mutua de peterson ni nada de eso vale o sea n más como considen no que que sabemos que peterson sí cumple con estas tres y ya entonces bueno importante no notar si peterson este cumple con justicia o sea ustedes lo ven así no peterson cumple con justicia eso no aná analizamos filter y analizamos bery no peterson cumple con justicia es la pregunta no y luego no peterson si cumple no con justicia eso nos amerita que peterson
(49:44) también Vale y ya pues me argumentan Pues sí o no No porque vaen no lo siendo tan largo la verdad no está como hacerlo no como que pues no es muy eficiente Pero bueno o sea como que como que este como que se implica no de se implica de de peterson no al menos exclusión mutua siento que está así como Ah muy directo vale Y pues sí se parece a filter Okay entonces alguna duda Vale pues creo que aún no no pero cualquier cosa Me comentan va por mensaje privado del discord o en el discord en el general vale Y este igual
(50:50) de su práctica si todavía tienen dudas No este pues no hubo dudas el jueves en realidad o sea como sobre la práctica pero pues bueno siento que está muy sencillita esta no pero igual no importa si tienen dudas este o cosas así como de la entrega algo así Me comentan va el próximo jueves hay la Sí sí sí hay la y ya se les dejo su así su práctica dos igual no revisamos los ejercicios y este tenemos les doy igual este que es la entreg del sábado o sea de este sábado al siguiente más o menos es lo que les dejo en prácticas está un
(51:27) poquito más larga Pues sí tampoco mucho Vale entonces nos vemos el lunes que tengan buen fin Bye bye
