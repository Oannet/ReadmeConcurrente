(61) Clase 10 2024 08 19 - YouTube
https://www.youtube.com/watch?v=C6oNr8S0gbg

Transcript:
(00:01) entonces bueno la clase pasada habíamos yo les había presentado esta ejecución en donde el hilo a Se nombra como víctima e en este caso no se nombraba bueno se nombra eh como víctima de nivel uno y desafortunadamente el c este al final no Eso era lo que pasaba Y entonces el hilo c se quedaba en este nivel uno como víctima y mientras los demás iban avanzando entonces después teníamos la fortuna de que el hilo haí se ponía como víctima primero entonces pues terminaba no siendo el último siempre había alguien distinto que era
(01:02) la víctima por ejemplo en este caso pues de se quedaba como víctima Y en este caso como a este obtiene primero bueno se pone como víctima Primero este y ve después entonces se puede pasar no Okay entonces Bueno ahí este habíamos tenido una discusión no bueno ustedes me habían comentado sobre todo creo que hab sido suriel y me había dicho Bueno pero este o sea siempre el hilo que entre primero va a ganar no la respuesta ya habían comentado ustedes y habíamos visto un ejemplo que podría ser que no podría ser que no pero bueno este ahí
(01:46) nos quedamos la vez pasada Entonces primero para demostrar exclusión mutua vamos a primero demostrar este lemita que nos va a llevar ya como corolario a que se cumpla la exclusión motosa ya es muy directo Entonces como este sí es un algoritmo para n hilos y pues de hecho hay n niveles no O sea n men Un niveles de acuerdo a los n hilos e tenemos que demostrarlo por inducción Okay entonces como nosotros nos Este ya ya hemos visto pues la exclusión mutua es este una propiedad segura entonces como que la lógica aquí
(02:39) es decir nunca sucede algo malo Eso era lo que nos dice es decir que siempre se cumple una invariante Vale entonces esto es como la lógica en la que nosotros queremos demostrar esta propiedad no Entonces qué tendría que pasar para que nos pasara algo malo que por ejemplo si lo vemos así en la lógica esta que van avanzando en el for podría ser no que que más hilos en un nivel de los que realmente deberían estar por ejemplo s si son n niveles no n = a 4 niveles bueno no tres niveles no eh Entonces sería n - 1 vale son tres
(03:42) niveles hilos entonces e quiere decir que bueno voy a ponerlo así nivel uno aquí debería haber e este nivel dos nivel tres no en el nivel tres debería quedar un hilo bueno dos dos hilos en este nivel pueden y en este nivel pueden haber hasta cuatro no pero no puede ser que en este nivel que en el nivel dos por ejemplo e Bueno voy a ponerlo así sería contradicción que existieran este por ejemplo cuatro hilos no O sea quiere decir porque si no se
(04:48) filtró O sea si no se quedó realmente hay uno pues tenemos un problema no O sea hay cuatro y también aquí otra vez no pues sería una contradicción que existieran tres hilos no se supone que solamente pasa uno de dos eh Cómo estaría la lógica y no si solamente víctima por nivel o sea como que esa sería la la como lo que debemos asegurar que nunca pase okay cada nivel tiene definido Cuántos hilos pueden estar Pues digamos que como o sea sí En realidad no no no tanto así como Oye escribe una variable con el nivel de de
(05:24) hilos que permite un nivel no pero es por la por la lógica no este de las variables compartidas y del número de niveles que hay Porque por ejemplo sabemos nosotros que Level este bueno Level va hasta n no hasta n de tamaño y también V es es una y además son n hilos que iteran de uno a n - 1 no entonces si en cada hilo eh Si en cada Perdón en cada nivel se queda uno por esta línea
(06:29) no en en el nivel n-1 debe haber máximo 2s hilos no es como la lógica de haberlo diseñado de esta forma no O sea en realidad pues no es como que hay pues nivel tres solamente no sé depende no del número de hilos que se solamente Este no es algo así ya este Pero si son si este es el nivel Entonces por ejemplo si tenemos voy a copiar
(07:41) esto por ejemplo yo ahí les dije no que había si si n ig 4 quiere decir que hay n men Un niveles o sea 3 no Y entonces quiere decir que en el nivel un va a haber cu en el dos TR y en el nivel dos así este perdón el nivel 3 dos hilos no pero pues por ejemplo para n no O sea en generalidad no O sea no nombre por ejemplo quiere decir que vamos de niveles es no el nivel J Bueno voy a por fin no n -1 que es el último Okay entonces son los niveles que hay Y tenemos un número de hilos en el nivel un tenemos en el nivel dos tenemos No puede
(08:43) haber más de n men1 no en el nivel 3 No puede haber de n-2 OK Por qué Porque vamos a demostrar que alguien siempre es la víctima Entonces digamos como se van quedando por nivel entonces ahí se quedó uno otro y finalmente en el n men1 sería n men y men 1 o sea porque siguiendo la lógica de esta serie y este finalmente acá sería n menos este n men 2 este dos no
(09:47) hilos Vale entonces finalmente uno de esos dos hilos uno de los dos a la sección crítica o sea termina de ejecutar el Loc Entonces ya vieron como que se ve con esta lógica este no definimos la capacidad pero en realidad sí hay una o sea un siempre siempre tenemos que dejar a una víctima no siempre se queda una entonces bueno de eso va de eso trata la demostración e Entonces por ejemplo el lema diría este para cada J entre 0 y n-1 o sea para cada nivel J Ah importante nivel J existen a lo más n - J hilos en el nivel J no Bueno ahí
(10:41) Cómo dice la cuenta Ah bueno si lo toman de Ajá sí entre 0 y n-1 no yo lo yo empecé desde uno por eso se consideró así vale Pero bueno ellos toman el el este desde cero no por eso se ve distinto Pero bueno si Si consideras desde cero Pues en cero tiene cero hilos no y así así vas bueno sea en el cer n men J men 0 entonces así está bien entonces en el caso base pues dices Bueno en en el J igual a 1 pues existe o sea sería como el caso trivial no pues sí claro existen todo todos están todos los hilos en el primer
(11:32) nivel no Ah bueno y aquí lo Tom alés existe en elos inducción discp Es que aquí este inducción inversa no Entonces al nivel cero como el nivel más cercano no O sea donde quedan digamos que aquí lo voltearon lo voltearon Entonces sería en este caso pues lo hicieron de esta forma no sería este nivel No simplemente y luego men2 y hasta cer simplemente y ya tenemos los hilitos Entonces tenemos aquí n hilitos n n -
(12:42) 1 entonces aquí finalmente en el nivel uno no sí quedan dos y en el nivel cer0 por eso cuent en el nivel cero queda uno y entonces en el nivel Cero en realidad se refieren a la sección crítica vale pero no haber hecho bolas Pero bueno sea nada má les digo nada más es voltearlo y considerar que el nivel n men1 pu es el primerito Aunque en el for pues no no pero aquí para el análisis lo consideran así y el nivel un si es este no O sea ser digamos que sería equivalente a este el nivel un y ya el nivel este cero pues
(13:20) ya no existe nivel no sería lación crítica Ahora sí como que pues realmente uno solo uno pasa vale en la demostración y aquí sería la lógica del for vale lo podríamos hacer Igual yo creo que lo hacen así para que quede bonita la demostración pero bueno entonces en el nivel un solo existe un solo hilo no en el nivel cer y entonces pues es la idea como si se van quedando Pues sí y ahora sí no El Paso inductivo es que existen a lo más este n - J + un hilos en el nivel J - 1 no O sea cada vez quiere decir que este bueno
(14:18) implica que se quedó uno siempre no en cada nivel vale Entonces por contradicción asumimos que hay más Hilos de los que debería haber O sea que hay este n men J má o sea lo mismito pero en el nivel J no se el nivel J men Okay entonces asumimos que hay más de los que deberí Y entonces para demostrar esto pues decimos no que que pasado no Entonces por ejemplo podríamos decir bueno tenemos a que es un hilo cualquiera en el nivel J Entonces vamos a suponer que que a no solamente es un hilo cualquiera sino que
(15:21) es el último hilo que se escribió como víctima Vale entonces para cualquier otro hilo B otro hilo B no a otro H cualquiera otro H cualqu este la víctima del nivel J este bueno sea la lógica no de cómo se escribió B sucedió antes en el tiempo no o sea es algo que precede a que ha se haya escrito como víctima entonces la realidad no es que cualquier hilo a que se haya escrito como víctima al final no puede estar en el mismo nivel que ve Vale entonces esa es la la O sea como la el gran Este clave de la demostración en
(16:10) realidad Está en la lógica en Cómo se escribe victim si se acuerdan en realidad peterson también estaba en esa lógica no de bueno es que no podemos o sea por qué se cumple exclusión mutua para dos hilos Pues porque no no vitim solo equivale a uno o a otro y aquí también entonces también Aquí nada más que hacen esta cosa como de los niveles porque pues ahora tenemos muchos hilos no Entonces entonces decimos no es una contradicción que ha es eh Porque qué sucede Bueno e para que ya se haya quedado en ese nivel se tuvo que haber
(16:50) cumplido este enunciado no O sea sí es la víctima Pero además este tuvo que haber visto alguien nivel igual o mayor no para quedarse podr decir bueno se escribió Pero tiene que cumplir además esta otra parte de delante no eh Y bueno entonces si si este Bueno vamos a escribir esto no si victim del nivel J de bueno si B se escribió como víctima del nivel J antes que que a no de el nivel J Si eso sucedió entonces Level de B también se escrib 14 O sea primero te escribes del nivel y luego te escribes como víctima entonces también sucedió antes no que
(17:52) voy a ponerlo como que todo esto entonces sucede antes a fuerzas Entonces cuando cuando a le eh la línea 17 no a fuerzas tiene que ver que ve es de un nivel igual a él Okay entonces este que B tiene un nivel igual en este caso no ahí e y ya pues por lo tanto se cumple e el ciclo gu no se es verdadero se va a quedar ahí dando vueltas Entonces no puede ser Vale entonces más o menos como que si este como que me cacharon Cómo va la demostración y Bueno les digo como
(18:57) que se parece un montón o sea todo el tiempo hemos estado diciendo pues no puede haber dos víctimas no entonces bueno como al final lo que demostramos es que realmente en cada nivel se va a quedar uno se cumple así como corolario este la exclusión mutua Vale y finalmente no satisfaz Star Vision free este Por qué Porque bueno todo hilo que que llega a un cierto nivel este eventualmente debe entrar a la sección crítica lo manejan así por qué no así hay que suponer no que que todo lo que llega al J +1 pues no O sea va a
(19:52) avanzar no Entonces por contradicción podríamos suponer que que alguien se quedó atorado en el nivel J no que no pasó al J + 1 este bueno Al contrario no sería que del J + 1 no pasó al J no entonces eh qué podría pasar no Uno que alguien se quedó atorado solito y dos que hay dos saturados no y Bueno en realidad es una contradicción o sea es una generalización No si hay dos saturados pues puede haber tres o cuatro Por qué un hilo a no podría estar atorado o sea como y atorado me refiero no decir a que está atorado es decir Bueno voy a
(20:44) poner no existen hil los adelante io que a no es la víctima Vale entonces eso sería como estar aturado o sea no que a no quiera pasar no a realmente lo quiere hacer este y está como libre el camino no O sea pero por qué no se mueve o bueno qué podría pasar o hay un deadlock pu es como la pregunta y la razón no de que no no no se no se puede quedar es porque O sea si si existe algú otro hilo por ejemplo uno no este de J del nivel J es No si esto sucede qué tendría que
(21:50) ha para que fuera la víctima este y estar como atorada a ver alguien con un nivel igual o mayor no Entonces si cualquier hilo B Bueno si todo hilo no en un nivel mayor en la línea 22 no resetea de B igual a c no Entonces eso tiene que pasar a fuerzas vale la otra por lo que podría estar atorado no O sea bueno atorado no como avanzando pero es la
(22:53) única comoa pero como que aquí tenemos que demostrar que en realidad pues es es porque alguien más tiene el candado no como que bueno no puedo avanzar yo pero es porque alguien más tiene el candado No no es como que nadie o sea como que nadie pasa no O sea hay alguien que que está teniendo éxito por eso yo no lo tengo no y en cuanto ellos tengan éxito yo voy a avanzar es como la idea como de demostrar que realmente hay un progreso y que todo aquel que quiere avanzar o sea bueno que quiere progresar progres eventualmente
(23:32) no momento no O sea qué podría pasar no que por qué se quedó este atorado no O sea como eh o sea bueno como que que eventualmente no va a dejar de estar atorado No como ya no va a haber eh o sea bueno o adelante no O sea no es porque yo no quiera se realmente voy a eventualmente hacer Progreso O sea ya no ya no va hay más hilos o yo no soy la víctima no Entonces eso podría pasar o este bueno eso Eh bueno sí yo soy la víctima pero llega unilo c eh tal que victim de J no No ahora se escribe como s y enseguida este ah sale de
(24:34) gu o sea así O sea no puede ser No que los demás estén haciendo progreso y ya alguien se haya puesto como no avance Entonces no no podría pasar como que A eso me refiero no que está atorado y la otra es que este el otro punto no sería imagínense que tenemos dos hilos no O sea bueno ya vimos que un hilo a pues no puede quedarse como ahí este siendo que tiene como digamos que la puerta abierta no O sea no puede quedarse ahí no puede no puede ser que él no avance eventualmente vale Porque eventualmente alguien se va a nombrar
(25:27) como víctima como vimos no o sea eventualmente puede llegar otro yoc y nombrarse como víctima y sacarlo de víctima o eventualmente los demás y los que están en un nivel mayor o igual y y eventualmente ya se va a mover no es no puede quedarse ahí y este tampoco podría ser mucho menos que dos esperando en un nivel Vale entonces bueno por qué porque solo uno es eh víctima del nivel J no o sea es a o es B pero no los dos no O sea si se va a quedar alguno este esperando a que suceda el primer punto No pues va a ser
(26:19) uno no no no es posible que sean dos entonces bueno eh Como que además o sea nos ayuda la elema anterior de exclusión mutua donde yo les comenté Bueno siempre uno se queda y los demás avanzan y starv nos dice aún más no sí y no nadie se va a quedar atorado o sea eventualmente van a llegar no no sé dependiendo qué t pero si se cumplen O sea no puede ser que dos hilos se queden puntos no dos o más o sea en en una en un nivel no puede ser y a la vez no puede ser que o sea si es que realmente están avanzando no puede ser que yo me
(27:01) quede ahí nada más y tampoco puede ser que ha este que un solo hilo a como que ya los demás se estén moviendo y ya no se mueva no Bueno A menos que ya no quiera La idea es como si tú quieres puedes avanzar vale Okay entonces Bueno ya la vez pasada me habían contestado esto eh Bueno eh Fil pues cumple exclusion mutua no cumple starv free y como cumple con starvation free o sea como todos eventualmente pasan Entonces cumple con deadlock free no eh Y bueno esta propiedad de Justicia lo que nos dice es que eh digamos que los
(27:45) que sean primeros no eh terminarán primero también o sea los que empiecen a ejecutar antes el candado deben deben terminar deben tomar primero el candado no O sea Entonces digamos que eh como habíamos comentado la vez pasada el hilo a si se nombra como víctima del primer nivel La idea es que al final termine de tomar el cado antes que todos no esa sería como un cado fif ustedes pero bueno aú así no s si hay algú este alguien despistado que no lo vio la vez pasada o que no estuvo Entonces filter cumple con ser
(28:30) no y y este o sea cumple con esta justicia la pregunta y bueno y por no y bueno por sea lo podrías poner así en palabras Como por ejemplo teniendo aquí nuestro algoritmo dijer en lae pasada pero como una frase como no es que todo se concentra en la variable tal no o de Ay pues no sé alguien como esa frase o se tiene la frase exacta no Ajá bueno digamos que todo está en la lógica en Cómo se van tomando este e puede regresar un segundo a la definición Ah claro sí O sea Bueno nada más aquí les presento la definición de
(29:27) forma intuitiva vale como ya escrit entonces bueno est la prop aquellos que empiezan a ejecutar el candado el método a eso se refiere o sea como que sea fifo pero mir este este este ejemplo simplemente lo que representa no es que el hilo a pues es medio lentito no O sea está como es medio lentón no Entonces a pesar de que él se escriba como víctima del primer nivel voy a escribir esto a pesar de que Ah este escribe bueno se escribe primero como
(30:35) vctima nivel un este puede ser que se escriba como víctima del siguiente cualquier nivel y adelante entonces puede ser del nivel dos no se escriba como víctima se escribe al final del nivel dos no Y entonces él se quede y como hay dos hilos más entonces quiere decir que el hilo b y el hilo d van a tener éxito antes no O sea sí o sí pues Ya no quedan muchos niveles en este caso que este bueno que se escriba primero supongamos que que fue B no entonces B
(31:39) pasa a la sección crítica sección crítica termina de ejecutarlo Entonces él ejecuta aquí lo que está en Sección Lu viene D este y d se va a mover hasta que el Level del que está sea cero no entonces una vez que que el hilo ve acabe Pues él va política Pues por acá en el tiempo Bueno o sea en el tiempo no por acá porque no pueden traslaparse las secciones críticas este y así y hasta que de acabe Pues entonces a va a poder salir No de ser víctima este Por qué Porque d va a resetear su nivel acero Y entonces ya no
(32:27) va a haber alguien con un nivel mayor y a pesar de que es la víctima pero ya no se cumple Esto entonces avanzar no dice Entonces es como aleatorio el que un escriba como víctima aj Pues digamos que no aleatorio así como que yo o sea bueno este yo ahorita porque ya se en la clase PR sea Como pasan cosas abajo pero la línea tal o sea como que todo el tiempo estamos así haciéndole zoom no entonces este yo no más les estoy como diciendo Ah se escribe como víctima aquí luego b y luego c o sea como esto Pues en realidad soy yo no contándoles qué
(33:21) podría pasar si consideramos tal o sea como yo suponiendo si los H los Ejecutan de esa forma No van a ejecutar así o como que van a lanzar doos Simplemente que cuando cuatro hilos hacen cosas al mismo tiempo pues pasan cosas raras se entrelazan de formas distintas Eso es bueno es eso y además este si en realidad en laos pues más rápidos que otros no O sea s realmente pasan así cosas extrañas no O sea en realidad el primera seguridad de que va a pasar primero porque entonces tendría que escribirse como víctima primer creo que
(33:58) todos no en cada nivel y no quedarse nunca él al final o sea como que no nada más es echarle ganas al inicio o sea como el nivel uno sino echarle ganas en el nivel n men I men Un no se hasta el hasta el n men1 ya que es el último si te quedas como víctima en realidad Pues sí te vas a quedar esperando í un rato no O sea tienen que pasar este dos cosas tiene que ser Eh pues que venir alguien a salvarte no alguien que se ponga como víctima Atrás o que los demás realmente avancen y se resetee su su nivel bueno y se reset su nivel
(34:38) no vale entonces Este sí O sea en este caso les digo no O sea pues ha hace escribe primero en el nivel uno pero en el nivel dos le ganan los otros como que se alenta No porque si se dan cuenta qué tiene que hacer para volverse a escribir este tiene que verificar que no es no y luego después tiene que entrar al for tiene que escribirse como suib y después en la línea 15 tienes que escribirse como víctima no O sea pero no lo hace como enseguida o sea va siendo como este pues tiene que hacer tres pasos al menos
(35:14) no bueno son más pero son tres líneas de código no 17 y luego ha la 13 y luego la 14 para volver escribir como víctima qué tal que el otro hilo lo hace más rápido no y este o que otros podría ser no entonces Eh pues le pueden ganar Entonces es como por lo que no se cumple no O sea ha ejecutó Primero lock este pero como pues se alentó en el nivel dos pues no terminará primero no a pesar de que él empezó primero entonces este este protocolo no es muy Justo a Bueno no es justo no entonces bueno esa es la definición este Ah pues como estaba
(35:57) igual este libro nada más le dice screenshot no pero eh Miren qué dice un candado este ah esto es muy importante no todas las propiedades que estamos viendo son sobre los candados ent un candado es es este es fifo no O sea el primero que entra es el primero que se sirve no el primero que tiene éxito si si este cuando un hilo a termina sudor antes que un hilo empiece su entonces a no puede ser aventajado por es lo que nos di ahorita vamos a hablar también de la la puerta de entrada digamos la puer no que consiste en el número de pasos
(37:04) limitados que tienes que hacer vale Y Okay entonces como que el número de pasos acotados No pues miren si se dan cuenta de nuestro código y en la computación en realidad pues este tenemos hasta lo que hemos visto tenemos pasos siempre acotados por ejemplo Este voy a escribirlo aquí en rojito Entonces por ejemplo leer una variable no bueno se escribir una variable pues no es un paso acotado no lo escribes y ya está ejecutar un método for No pues sí O sea nada más vas cambiando de de nivel no O sea pues está acotado No no
(37:50) es como la gran ciencia simplemente ponemos el contador en uno o sea y y este y simplemente en la línea 14 también no escribimos una variable está acotado escribimos otra variable está acotado O sea me refiero a que simplemente e tu compu o sea bueno el programa lo hace no pum escribir leer o sea todo eso está acotado el problema de no estar de algo que no está acotado por ejemplo es es voy a escribirlo en aquí no este no está acotado no O sea acaban bueno se termina voy a poner se termina de ejecutar en un número
(38:49) finito de pasos No pues sí O sea pues nada más Leo escribo y ya está Vale y y en cambio camb Esta no es una doorway Vale entonces bueno la doorway dice hay que repetir la definición Entonces miren la dway simplemente es el intervalo de ejecución que consiste en el número finito no o acotado de pasos Vale entonces la doorway en este caso de nuestro problema Pues sería esta no esta es la dway dejen se lo escribo todo con rojito Para que vean que es lo mismo vale la doorway section este su inito no Entonces vamos a denotarlo como DEA vale
(39:37) la doorway Entonces esta es la doorway de nuestro algoritmo lo que está en rojo va es algo que acabamos en un número finito de pasos y en cambio la la este la Wi in section Okay la section O sea lo que no es la doorway es es es ese intervalo de ejecución que notaremos como doa que se hace o que puede tomar un número no acotado de pasos y a qué nos referimos eh a la línea 17 Por qué Porque en realidad eh Por ejemplo no puede voy a escribirlo puede llevarte un paso no O sea pues nada más hacer un ciclo o o infinito no O sea te puedes quedar ahí
(40:30) como víctima hasta que los otros acaben no O sea no está acotado a eso se refiere por el nombre pienso que es la puerta de la sección crítica es correcto Eso sí sí se refiere a eso Ajá sí sí sí es como la puerta la sección crítica pero es curioso como existen algoritmos no eh Bueno sobre todo en el mundo secuencial en donde A veces tenemos puertas no sea porquees una puerta simplemente como siento que eso se refiere una puerta simplemente la abres y pasas no pero digamos que lo interesante no como de los algoritmos
(41:09) concurrentes es que como somos un montón y no dependo O sea mi Progreso mi Progreso no como hilo a veces depende de otros Entonces si me gusta mucho la lo que dice no O sea por ejemplo si este es la sección el cuarto de la sección crítica y pues aquí hay código no hay código código peligroso que queremos ejecutar Entonces nosotros ponemos un candado no este Y entonces nuestro candado tiene este es nuestro candadito nuestro cado tiene dos cosas tiene la la no la se s No pues nada más como que la abres no Pero además digamos que adentro
(42:12) es como la filita del seguro tienes aquí este la section Por qué Porque digamos que pasas no sea pasas y y te sientas en una Waiting section entonces a pesar de que abras la puerta no O sea así como di no abres la puerta pero te tienes que sentar no y tienes que sentar a esperar entonces lo malo de este protocolo no O sea y en realidad pues de los candados o sea eh nosotros nos nombramos como víctimas no del nivel uno Este bueno Nos nombramos este primero tenemos el nivel un víctima del nivel uno no Y si Entonces te vas la sillitas a sentar no
(43:08) y la señora de la ventanilla te dice adelante puedes pasar al nivel dos pero en realidad en la línea 17 te puedes quedar esperando un número no acotado de pasos no O sea bueno aquí tardaste que 1 dos 3 cu cuatro líneas de código y aquí te puedes tardar una no O sea nada más leerla o te puedes tardar 10 o te puedes tardar 10,000 no O sea como en realidad quién te asegura Cuántas veces vas a dar vueltas en ese ciclo No pues nadie o sea en realidad depende de que no haya este hilos arriba no o que no seas tú la
(43:40) víctima este Y bueno ya haya hilos arriba no oa que se cumplan las dos entonces este y a la señorita dice no pues pasa la de la ventanilla pasa y y nmbr te otra vez no este Y entonces otra vez eh haces un número acotado de pasos y y otra vez te quedas esperando no en la en las sillitas y así est es como que un lock room no O sea se ve como de este estilo Claro que hay protocolos que tienen má más acotada esta Waiting room no O sea est esta sección de espera no acotada la tienen más la tienen distinta No pero en
(44:20) este caso pues sí es muy curioso no como esor eh si se ve así vale entonces es es a eso se refiere entonces bueno ahora sí no la justicia ya que sabemos bien como que es una dor gey y que es una este Waiting section Bueno espero más o menos si no me Me comentan vale hay que repetirla como dice Ajá sí entonces unilo antes de entrar a la sección crítica estuvo en la Waiting sí no forzosamente depende cuánto estuvo pudo haber estado una una un ciclo no del gu o pudo haber estado 10,000 o pudo haber estado no sé un montón no eh Y también
(45:03) si te das cuenta en este protocolo sale de la Waiting section no y vuelve a entrar a una doorway o sea una a una a un número de pasos finitos no y otra vez vuelve salir de la O sea entrar a la Waiting section no entonces en el nivel uno puede ser que el hilo a haga dos ciclos no en el nivel dos se tardó 10 no y en el nivel tres no se tardó otra vez uno y en el cuatro tardó 10,000 no o sea puede ser que eh estés Bueno o sea en realidad sí no antes de entrar a la sección crítica estás en la Waiting Pero además Entras y sales de la Waiting no O
(45:38) sea entras a la doorway a la doorway y entras a la Waiting y así está sea como número de pasos acotados y luego no acotados no en lo que te dan chance de avanzar al siguiente nivel no y eventualmente a llegar a la sección CR Vale entonces bueno este un candado ahora sí no es First come First es el primero en entrar el primero en salir sí cualquier hilo a que termine la doorway no antes del hilo B antes que el hilo B empiece su doorway entonces a no puede ser aventajado por B vale o sea a eso se refiere si alguien Abre primero
(46:19) la puerta no de la doorway este quiere decir que eh se va a sentar en lating que esperar y que va a pasar sí o sí antes que el hilo que entre después a la dor okay O sea como que eso se refiere que siempre que tú siempre que un hilo a por ejemplo no sea sería justo este protocolo si siempre que un hilo a empiece a ejecutar el protocolo No desde el nivel uno Este termine antes que otro hilo cualquiera no que empiece a ejecutarlo después vale Pero lo malo bueno Entonces lo escribiríamos así no el hilo a si el hilo a si la dor del hilo a la
(47:04) jima empieza antes que la dor del hilo B la caima no entonces la sección crítica jima del hilo a sucede antes no precede a la sección crítica del hilo B la caima eso se ref vale es como la definición así formal este de lo que significa justicia Okay entonces e entonces bueno así lo puse no el a puede terminar primero la Zona Roja este y aún así B podría tomar el candado primero no es la razón por la que filter no cumple con justicia no aj s porque por ejemplo no bueno así lo podemos ver no elad de a por ejemplo
(48:00) este la dway un no el nivel uno del for si sucede esta antes que la dor de B de1 O sea digamos que a termina Dear antes que B en el nivel uno nada más entonces no no se cumple no se cumple pues siempre no o sea puede ser que sí pero pues puede ser que no que la sección crítica de a este sea la sección crítica antes que la deb O sea no no van a llegar exactamente así puede ser que el nador gey de por ejemplo del siguiente ciclo no O sea del ciclo dos o del ciclo 3 o así pues Ve ahora suceda antes no y que de ahí pues Le le empieza a tomar
(48:57) ventaja Entonces digamos que por eso la propiedad de Justicia dice no un hilo a no puede ser aventajado por otro hilo B siendo que a empezó antes que que B vale muy bien entonces este e Bueno vamos a seguir ahondando esta propiedad de Justicia sobre todo con este candado nuevo del candado de B no de la panadería o del panadero le llaman el candado del panadero Sí entonces bueno esto en 3 minutos No no se preocupen la siguiente clase Los vemos pero para dejarlos con la intuición de de bueno de que si hay algoritmos justos
(49:42) no entonces eh este algoritmo de Bakery vamos a ver qué es justo no O sea ya ya desde ahorita les estoy diciendo que sí es porque miren en filter Pues en realidad hacíamos no que que las personitas no bueno los hilos se movieran desde un nivel uno hasta el nivel n-1 y y que en cada nivel se fuera quedando uno no pero como que digamos que al cambiar de nivel eh Como que lo malo no de filter al cambiar de nivel eh te pueden aventajar no es lo malo como que haces que los hilos se muevan e y que y que y que peleen como que en
(50:37) cada nivel no por no ser la víctima Entonces tienes que ponerte buso en cada nivel y en cambio lo que hace Bakery es que e digamos que si el hilo por ejemplo llega el hilo a es es el hilo y Y entonces simplemente lo que hace es que ubica no sé la fila de la bu ahora que yo voy a la San Pablo tienen este este modelo no se tú llegas a la farmacia tomas un una etiqueta o sea ahí en la esta una maquinita de etiquetas la tomas y ya te dicen no sé tienes laa la Fil el número 38 no y ya arriba está la pantalla y te van diciendo no pues
(51:17) ahorita está el 36 en la en la este atendiéndose no ya como que uno sabe no que faltan dos personas más para para que pases Entonces es lo que haceer o sea es como la fila de la San Pablo la fila de del jamón no antes en el súper e entonces este Lilo llega no Y dice Bueno a ver Denme mi número no Entonces le dan el número dos le dan el número dos y luego dice el hilo yo yo también ya llegué no le dan el tres y así entonces lo van formando ya luego llega el hilo B le dan el 20 no porque pues ya aquí hay hay más hilos
(51:58) entonces imagínense Si te dan la etiqueta quiere decir que ya no va a haber nadie más O sea tú pasas a fuerzas después de Por ejemplo yo tengo el 38 sé que a fuerzas voy a pasar después del 37 no Y sé que ese 37 llegó antes que yo o sea no le pudieron dar un número menor a alguien que llegó Después que yo no Entonces si se dan cuenta como que con esta lógica se cumpliría justicia no y así funciona el cand de Bakery entonces este Bueno ya la siguiente clase empezamos a ver el código y yo no había comentado que iba a haber
(52:36) ya otra tarea no al finalizar esta esta tema este Pero bueno yo creo que así como voy tal vez se las dejo el viernes no y el viernes empezamos con el siguiente tema vale
