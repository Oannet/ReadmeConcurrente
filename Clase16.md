(61) Clase 16 2024 08 27 - YouTube
https://www.youtube.com/watch?v=mbipqHLiJh0

Transcript:
(00:00) puedo seguir entonces acá ya entra la sección crítica y luego pasamos con b b tiene que hacer exactamente lo mismo que sea true se pone como víctima y luego para que entra la sección crítica vuelve a entrar a este ciclo y revisa no dice Oye si la bandera es del otro o sea si si la bandera del otro o sea si es la bandera del otro entonces y la víctima soy yo pues paso a la sección crítica el problema acá es que para o sea en este punto de aquí si se dan cuenta lo que hace es Lee este que a b Lee
(01:05) que este que la víctima es a no porque de otra forma se quedarían ese mismo ciclo Y eso pues no jala no entonces ahí llegaron a una contradicción y por eso o sea por esa ya pueden bueno demostraron que es exclusión mutua entonces básicamente lo que tienen que hacer es poner las dos como que ejecuciones ideales en las que se cumple exclusión mutua y encontrar una contradicción y es casi lo mismo con este starvation free igual suponemos que no se cumple starvation free Y eso qué significa Ajá que hay un
(02:24) doctorado Sí muy bien Luis porque exacto porque starvation free acuérdense que lo que nos dice es que siempre que un hilo pida entrar a la sección crítica va a entrar no entonces para que starvation free no se cumpla Pues hay de dos Bueno realmente hay de una no que la más común es que ya se quede atorado aquí y no no pueda pasar a la sección crítica no que de alguna forma a esté atorado y no pueda pasar a la sección crítica entonces lo que tienen que revisar es justamente esta partecita de acá cuando ustedes estén viendo estaion free Y
(03:17) ahorita lo vamos a ver en el ejercicio de su tarea entonces tienen que encontrar ahí bueno igual ha en las dos ejecuciones suponen que no se cumple pero tienen que revisar la parte del lock para este para verificar si de alguna forma se puede quedar un doctorado va entonces la única vamos a dar como que la ejecución este ideal en la que a se ejecuta infinitamente dentro del Loc entonces a se ejecuta y infinitamente inf infinitamente dentro de loco entonces para que eso pase En qué paso se debe estar o sea en qué paso se
(04:19) debe atorar para que ha se ejecute infinitamente dentro de lock qué tiene que pasar en el 10 muy bien en el While Ajá para esto tiene que estar en el While en este de acá Este esperando hasta que el indicador deb se vuelva falso o la víctima sea B No hasta que este sea falso o la víctima ya no sea yo es decir sea B para poder pasar sí tiene que pasar alguna de esas dos para que yo deje de estar atorado Entonces como estamos suponiendo que no se cumple vamos a suponer que nunca pasa que la bandera se vuelve falso o la víctima es el otro Sí lo
(05:20) ven entonces mientras o sea Ahí está a atorado infinitamente en el ciclo Y si está atorado infinitamente en el ciclo es que B nunca puso su bandera en falso y que B nunca se digo B nunca puso su bandera en si B nunca puso su bandera en falso y b nunca se puso como victima Pero entonces si B no hizo eso qué está haciendo B entonces puede ser que B esté entrando y saliendo de su sección crítica así como que repetidamente no que se haya trabado y esté ingresando y saliendo de su sección crítica un bu de veces no pero
(06:12) dense cuenta o sea ve entra y sale entra y sale a la sección crítica pero si ve entra y sale a la sección crítica de ley que va a estar haciendo B va a asignarse aí mismo como víctima en el momento en el que trate de entrar a la sección crítica sí lo ven entonces lo que está pasando Es que a es aquí no a se ejecuta infinitamente dentro del Loc entonces a está leyendo que la bandera de B es falsa digo es verdadera y está leyendo que la víctima es justamente a si lo ven pero lo que puede estar haciendo B
(07:19) durante mi aquí a Está trabado no a está pues trabado Y qué está haciendo B mientras pues B entra y sale de la sección crítica pero para entrar y salir de la sección crítica B tiene que escribir a la víctima como el mismo entonces y ya ve escribe la víctima como el mismo y de ahí ya puede pasar a la sección crítica no cada que trata de entrar a la sección crítica se tiene que escribir a sí mismo como víctima por la línea nu entonces Entonces si se escribe Así mismo como la víctima este pues cada que entra y sale de la
(08:07) sección crítica no puede ser que a esté leyendo que la víctima es el mismo si B se acaba de escribir como víctima sí lo ven entonces acá ya llegamos a una contradicción porque para que ha se quede ahí tiene que estar leyendo que él es la víctima pero mientras a está ahí B está entrando y saliendo de la sección crítica Y eso implica que ve se está escribiendo a sí mismo como la víctima Entonces no puede ser que él se escriba como la víctima pero a lea o sea se lea no lo lea como la víctima me explico B se está escribiendo a sí mismo como la
(08:52) víctima y ya no lo está leyendo como la víctima Y eso acuérdense que no se puede porque acá tenemos que nuestra variable es volatile entonces pero si ve no quiere entrar Ah Exacto muy bien y eso es justamente como lo tienen ahí vamos eso es justamente o sea justamente así como pensaste Valera tienes que pensar en tu ejercicio porque en el ejercicio de la tarea porque eso les va a dar como que la respuesta supongamos que ve no quiere entrar no ahí les va si bien no quiere entrar Qué pasa llega a llega a así llega a y este si peterson es solo
(09:50) para dosos Exacto vamos paso paso entonces llega a y dice oye Mi bandera es true no por la la fila och luego la víctima soy yo y luego vamos a revisar la bandera del otro entonces a lee la bandera de B pero como B no quiere entrar así como dices la bandera es falsa entonces Entonces ya no entra este ciclo porque ya no se cumplen las dos condiciones que se deben de cumplir para que se quede esperando en ese ciclo While entonces automáticamente a pasa a la sección crítica sí lo ven todos Pero acuérdense de ese razonamiento que hizo Valeria porque
(10:53) justamente así lo tienen que razonar cuando estén viendo el ejercicio de de su tarea y ahorita vamos a ver por qué pero justamente ese razonamiento es el que tienen que o sea acuérdense de ese razonamiento va entonces si nada más a quiere entrar y pues están de acuerdo no que podemos suponer que a quiere entrar sin pérdida de generalidad Porque si B solo quiere entrar sería Exactamente lo mismo entonces Si un solo hil lo quiere entrar a la sección crítica no va a entrar a al ciclo While entonces va a entrar automáticamente a la sección
(11:28) crítica Y eso es y luego si los dos los dos hilos quieren entrar suponemos que este hace que se ejecute infinitamente dentro de lock y llegamos a una contradicción No porque no hay forma de que a se quede dentro del While y ve esté entrando y saliendo sin que a pueda entrar si lo ven va todos sí Perfecto entonces Ah otra vez p Este es el ejercicio tres de su tarea y lo que les dicen dejen pongo esto acá lo que les dicen es eh similar a lo que hicimos y similar a lo que hicimos el juego es pasado les dicen argumenten si
(12:32) la siguiente implementación victim round de un candado para dos hilos cumple con exclusión mutua con deadlock free con starvation free no entonces exclusión mutua pues igual lo hacen por contradicción eh ven o sea ponen las dos ponen acá su ejecución de a ponen acá su ejecución de b y ponen las ejecuciones que tiene tiene que tener tanto a como B para que este se cumpla que los dos están en la sección crítica Y si encuentran alguna contradicción en estas dos ejecuciones como lo hicimos ahorita con con peterson
(13:15) pues ya demostraron que es exclusión mutuo por contradicción Sí entonces este por contradicción bueno todos revisen sus este las ejecuciones o sea pongan las dos ejecuciones que tiene que tener eh tanto a como B para que no cumpla con esa propiedad y si Encuentran una contradicción pues ya lo demostraron no Entonces eso es por contradicción y deadlock free también por contradicción quién me dice o no ustedes qué creen que es deadlock free o que no es deadlock free no Por qué no me dice dice que sí por el du muy bien Ajá Y qué
(14:26) más muy bien miren este tienen que poner Exacto tienen que acuérdense Qué significa que sea deadlock free quién se acuerda quién se acuerda que Qué significa que sea Der free Exacto que la sección crítica de doos no se traslapan o que no se bloquean entre sí no entonces este tienen que poner o sea en los tres en los tres tienen que poner cuando vayan a demostrar ustedes exclusión mutua deadlock free y starvation free tienen que poner las dos ejecuciones e de dos hilos porque o sea pueden suponer sin pérdida de generalidad que son dos
(15:18) hilos no porque lo O sea si lo hacen con más ya lo único que tienen que hacer es como que trasladarlo pero en sí pueden suponer pérdida general que son dos hos entonces acá para demostrar deadlock free igual siempre siempre siempre en su último ejercicio También tienen que poner las dos ejecuciones entonces ponen las dos ejecuciones y ponen el ejecución para a y ponen la ejecución para b y las ponen de forma tal o sea suponiendo porque vamos a demostrar por contradicción entonces suponemos que no se cumple suponemos que no se cumple y si
(16:06) suponemos que no se cumple esto implica que o sea si suponemos que deadlock free no se cumple eso implica que este que no se bloquean no que no se bloquean entre sí pero ahí les va ustedes tienen que ponerlas la la forma más fácil de ver si es este exclusión mutua o del lo free observation free es que Ustedes pongan las dos ejecuciones no pero entonces acá vamos a poner imagínense supongamos que no se cumpla entonces tenemos que a quiere entrar a la sección crítica acuérdense que este tu abarca de aquí hasta acá y este du de
(17:10) acá abarca desde aquí hasta acá sí es un do entonces lo que van a revisar es que suponer que si se choca Ah sí Perdón perdón implica que este si se bloquean entre sí si Perdón perdón entonces tienen que poner las dos ejecuciones donde la O sea para que se bloqueen entre sí la forma fácil es que uno se quede pegado no como en Station free por eso Si no es deadlock free eso implica que no es free si lo ven porque si no es lock free significa que a está bloqueando a b y si a está bloqueando a b significa que ninguno de
(18:08) los dos va a poder entrar entonces también cumple que no es Station free porque los dos quieren entrar pero no pueden entrar Entonces si no es deadlock free pues no es starvation free entonces lo que vamos a ver acá es este dos ejecuciones de de B donde sí se bloquean entre sí entonces imagínense que llega a y a quiere entrar a la sección crítica no entonces lo que hace es que a entra en este do y pasa acá pasa a la línea siete
