(6) Clase 55 2024 10 17 - YouTube
https://www.youtube.com/watch?v=RR5_Pp6oO7c

Transcript:
(00:00) este ya ahora lo que sí hacemos es bastante bastante sencillo esta parte de para los dos porque lo que nosotros tenemos en la pila es este para dos hilos inicializa Pues con dos elementos le inicial primero con luz con luz y luego le inicializo realmente es nada más tienen que argumentar porque miren dense cuenta la primera o el primero que vaya a llamar a propose lo primero que va a hacer es esto de acá bueno el primero que vaya a llamar después aquí en este punto llaman a propose aquí entonces cuando se hace un deside lo primero que
(00:47) se va a hacer es que se va a hacer un pop sobre la pila entonces quién haga un pop primero claramente va a tener el elemento de hasta arriba Entonces el primero que haga Pop el primero va a obtener Win y el segundo va a obtener luz Sí entonces básicamente eh tienen pop y nada más tienen que argumentar porque esto jala s lo ven o sea realmente el primero que lo hace pues es el primero que hace pop y claramente va a obtener Win entonces va Vamos a saber quién es el ganador entonces hacemos pop sobre el siguiente elemento hasta arriba de la
(01:45) pila de la pila y tenemos dos casos No si es Win entonces fue el primer hilo fue el primer hilo en sacar un elemento y si no pues Por default si es Luz el otro hilo fue el primero sí lo ven entonces básicamente Esta es la argumentación que tienen que sacar de este de la pila y claramente este protocolo pues es wiit fre porque es wiit fre por es free Y por qué nos importa que sea free ahorita porque si termina
(02:52) aj si tienen que decir esoy tienen que decir que el protocolo es por porque cuando nosotros estemos tratando si porque no giren ciclos muy bien y porque la pila es weight free no St es we free y no tiene ciclos muy bien muy bien José entonces tienen que decir que es weit free o sea nos interesa que sea weight free por qué porque acuérdense que todos los lemas que tenemos en en el libro de El Art of multiprocessor programming básicamente todos los lemas que nos llevan al Estado crítico se basan en en este su esto de
(03:31) un protocolo weight free si se acuerdan sí sí sí sí que no se tiene que no se espera indefinidamente entonces e para nosotros poder ver que no existe un protocolo para tres hilos tenemos que ver que es weight free pero realmente es muy fácil ver que es weight free aquí lo único que tienen que poner es es wiit free Y entonces por qué es wiit free otra vez por dos razones ajá No hay ciclos no hay ciclos enide y muy bien muy bien y stack es wait free entonces ahí nada más ponen el
(04:36) protocolo es wait free porque la estack es Wi free Y di no tiene ciclos y esto lo vamos a usar para poder sacar el lema de este los lemas que nos llevan al Estado crítico porque acuérdense que siempre que nosotros queremos ver es igual que como demostramos que no existe o sea que con solamente registros atómicos no podemos hacer un protocolo de consenso de más de dos no es Exactamente igual acuérdense que lo que nosotros queríamos era llegar a un estado crítico donde podamos ver que el resultado de ese estado crítico no nos
(05:15) dice Quién fue primero sí lo ven Sí todos hasta acá Okay si no me avisan y va otra vez eh Pero entonces ahorita Nuestro objetivo eh Ahorita ya este ya lo terminamos de demostrar no nuestro primer lo primero que tenemos que hacer ya quedó Entonces ahora vamos a lo segundo y que era lo segundo que tenemos que demostrar que era nuestra segunda parte Exacto muy bien muy bien bien hecho eh tenemos que ver que no existe un protocolo para tres hilos entonces
(06:20) eh lo primero que tenemos que hacer es claramente tener tres hilos no supongamos que tenemos tres hilos A B y C Entonces tenemos A B y C y lo que nosotros queremos es un estado crítico acuérdense de esta parte este lemo es muy importante siempre que utilicen consenso Entonces por el lema 5.1.
(06:51) 3 debe existir el Estado crítico Y ustedes no pueden referenciar este lema sin haber visto lo anterior de de que el protocolo es wf debe existir el estado crítico y este estado crítico es justamente ese entonces tenemos ya tres hilos y tenemos que debe existir el Estado crítico entonces ahorita lo que tienen que hacer en toda esta parte toda esta parte es hacer una ejecución de estos tres hilos para que cuando lleguen ustedes al Estado crítico e ustedes puedan ver que eh el estado crítico no les dice Quién fue primero va entonces lo que vamos a hacer es bueno
(07:38) sin pérdida de generalidad claramente pueden suponer que el movimiento eh de a lleva un protocolo cerov Valente Y el siguiente a un no Val Valente no O sea el siguiente movimiento de B lleva a un estado no Valente eso es como que por default y lo pueden suponer y eh además Qué saben Además de que eh un movimiento del Estado a los lleva a un estado cero Valente Y que un movimiento de B los lleva a un estado uno Valente Pues básicamente ustedes saben que las llamadas no pueden comunicarse entre sí lo único compartido que tienen durante
(08:18) estos protocolos de consenso Qué es qué es lo único que tienen compartido Durante este protocolo de consenso Ajá muy bien la pila y proposed bien hecho Entonces esto que implica esto implica que este necesitan hacerse claramente necesitan hacerse llamadas a la misma pila y pues estas llamadas no pueden ser registros porque los registros tienen un consenso de uno entonces nada más pueden eso no pueden ser registros por lo que ya vimos Y entonces estas llamadas deben estar hechas al mismo objeto de pila
(09:21) Entonces hasta aquí ya tenemos O sea ya tenemos todas nuestras suposiciones tenemos toda la base que necesitamos para nuestra demostración tenemos ya nuestros tres hilos tenemos eh que podemos entrar a un estado crítico tenemos o se suponen acá que a lleva un estado cero Valente Y que B el movimiento deb lleva un estado un Valente eso sin pér de generalidad no si no lo intercambian y realmente no afecta nada e tienen que el único las únicas cosas compartidas es justamente el arreglo propost y la pila Y eso implica que necesitan hacerse
(10:03) llamadas a la misma pila y además tienen que estas llamadas no pueden ser registros porque eh los registros tienen e un consenso de uno entonces con base en esto ya ustedes pueden demostrar que no es para tres va va por casos Si lo ven hasta acá lo lo importante de este o sea lo lo difícil de de este problema era la base porque hay muchas cosas que van a hacer en sus casos en los tres casos que no pueden suponer saben o sea bueno no pueden suponer cuando ya estén acá a menos que lo hayan explicado Pues en su
(10:48) base Entonces lo importante de este era tener la base bien y ya de aquí son los tres casos y son más o menos un poco más simples no entonces tienen el primer caso es que tanto a como B llaman a pop no entonces tienen tanto a como B llaman a pop y eh [Música] acá lo que van a hacer es nada más revisar sus o sea los estados cero Valente o uno Valente entonces ahí les va tienen bueno ver ahí les va tanto a como B llaman pop y imagínense que tienen es prima el estado del protocolo si a hace pop antes que b y s prima si
(11:51) [Música] B hace pop antes que a no entonces tienen esos dos estados y lo que tienen que revisar bueno acá como como ya lo supusimos en nuestra hipótesis s prima es cero Valente no como es prima o se es cero Valente porque justamente a lo hizo primero Entonces como es prima es cero Valente si el hilo c acá es donde entre el hilo c si el hilo C corre ininterrumpidamente desde s prima corre desde s prima entonces decide cer0 porque tiene ya un estado cero Valente Y luego cómo igual si c corre desde s prima Entonces qué va a decidir s
(13:00) prima que este s prima que Qué estado tiene ese digo es doble prima Sí muy bien s do prima Es uno Valente porque acuérdense que s prima es cero Valente por a y s do prima es un Valente por B Entonces si c corre ininterrumpidamente desde s prima va a decidir cer si si c corre digo este ininterrumpidamente desde s prima va a decidir uno entonces ya en base en esto ahí les va s y s do prima es es la parte donde llegamos a nuestros estados críticos no s muy bien s s y s primas son indistinguibles bien hecho ibles indistinguibles
(14:04) para c y por qué son ind indistinguibles para ser Exacto muy bien Luis muy bien José Porque para este punto imagínense que tienen su pila entonces eh tienen acá sus elementos de la pila y para este punto de aquí tanto para ese prima y para ese doble prima qué pasa para este punto los dos mismos elementos se removieron los dos mismos elementos se quitaron entonces este punto es Exactamente igual desde el punto de vista de c porque cuando llegue a este punto la pila va a estar igual tanto
(15:07) para es prima como para es doble prima porque para este punto los dos removieron los dos mismos elementos entonces c lo que debería hacer es o sea debería decidir el mismo valor en ambos casos Y eso que es es una contradicción sí lo ven Sí muy bien los demás todos sí seguros si no nos regresamos va Imagínate que bueno Tú tienes tu pila no Entonces tienes tu pila por acá y tienes los elementos de tu pila entonces entonces s prima es el estado en el que a lo hace primero y o sea a hace un pop y luego B hace un pop y s do prima es
(16:11) donde B hace un pop y luego a hace un pop o sea en s do prima el primero fue b y en ese prima el primero fue a no entonces e básicamente cuando llegues a s Prima tú tienes tu tu cola digo tu pila tu pila tienes tu pila es que similar a las colas Tú tienes tu pila y cuando llegues este es s prima y este es s prima el estado en el que está acá Ah ya hizo pop O sea imagínate que tú tenías wil no Y tienes bueno tienes wil sí Y otra cosa por acá tienes Win bueno así ya para ese prima lo primero fue que a hace pop Entonces esto y luego
(17:05) B hace pop y luego para ese doble Prima tú tenías igual wil y lo primero es que B hace pop y a hace pop después entonces al final los dos estados te dan exactamente la misma pila porque se removieron los mismos dos elementos si tú ves esas dos pilas e Kenia si tú ves esas dos pilas tú sabes quién lo hizo primero O sea están así exacto no puedes porque se removieron los mismos dos elementos Entonces al final ese prima y ese doble prima te van te van a dar exactamente la misma eh o sea el mismo estado de la pila y es por eso que es indistinguible
(17:57) para C ya oiste Ajá muy bien Eduardo ahí s no puede porque este o sea cómo si podría o o por qué no puede o sea Ah no puede porque o sea tiene C tiene estos dos estados Tú tienes tu pila inicial A ver vamos tienes tu pila inicial Imagínate que tienes tu pila inicial en Ahí está en win win Lu y para este punto o win win para este punto si si a hace primero pop y luego B hace primero pop qué te va a quedar te
(19:05) va a quedar Win Y si B hace primero pop y luego hace primero pop te va a quedar Win independiente o sea te va a quedar el último elemento y ese elemento te van a quedar estos dos o sea las dos pilas si ya lo hizo primero o v o primero te va a quedar exactamente la misma pila no Entonces cuando cuando c los vea tanto si a lo hizo primero o b lo hizo primero c va a ver exactamente la misma pila que es esta entonces aquí no puede decidir quién lo hizo primero porque es exactamente lo mismo para los dos Entonces si es el mismo estado
(19:50) Acuérdate que por los lemas que vimos se tendría que decidir el mismo valor en ambos casos pero eso es una contradicción entonces ahí no puede decidir 01 porque es exactamente lo mismo y no sabe quién fue primero sí lo ven sí Eduardo Por qué se decido un valor distinto dependiendo si está el estado s o s prima o sea aquí ah eh Esa es la suposición O sea eso es lo que debería pasar ahí estamos o sea es una forma es más o menos como que por contradicción lo que debería pasar si son dos estados diferentes pues claramente debería decidir cosas
(20:43) diferentes no Entonces eso es lo que debería pasar pero acá como s prima y s prima son indistinguibles entonces este se debe decidir lo mismo Y eso es una contradicción o sea esta parte de acá es lo que debería pasar aj pero como son indistinguibles pues se tendría que decidir lo mismo y entonces llega una contradicción Este es el deber ser deber ser y a ver dejen agrego otra hoja Ajá acá seguimos no con con esto el otro los otros dos casos son tienen los otros dos casos que ya son casi iguales a a este
(21:47) acá tienen el caso dos y el caso 3 tienen imagínense o sea después de Queen el caso de cuando a hace pop y luego B hace pop o al revés Entonces ahora van a poner que a hace Push y este luego B llama pop luego B después B hace pop entonces eh acá es casi lo mismo tienen s prima el estado después de que a hace Push a hace Push y b hace pop y este hace pop sobre el elemento que está hasta arriba de la pila no y luego tienen s prima el estado después de que veas al elemento que está hasta arriba
(22:52) de la pila y luego a hace Push o sea tienen a veren vamos a ponerlo así tienen aush luego bpop y luego aop si existe y el otro es este bp aush y luego a si existe no entonces acá tienen estos dos para tienen que considerar todos los casos o sea todas las formas en las que se puede hacer pushy pop e para poder demostrar que al final son indis indistinguibles para c es casi el mismo argumento entonces tienen estos dos casos tienen s y s prima y luego hacen Exactamente lo mismo que hicimos bueno hace rato no lo
(23:57) mismo que hicimos y dice dice o sea Tienen que llegar a tienen que concluir tienen que argumentar acá porque y tienen que concluir que para c s s prima y s prima son este indistinguibles y esto claramente implica que tendré que decidir el mismo valor el mismo valor y est claramente nos lleva a una contradicción entonces Ese es su segundo caso que tienen que argumentar y el tercer caso o sea la última combinación que pueden tener es Eh si ambos H los llaman a Push No si se dan cuenta es si ambos y los llaman a pop Luego si se
(24:52) combinan Push y pop y luego si ambos s los llaman a Push y si se dan cuenta Son los únicos son las únicas combinaciones que pueden tener entre esos pushy pop entonces tienen este prima el estado después de que a hace Push y luego B hace Push este y claramente hace pop y luego B hace pop y s prima el estado en el que hace Push a hace Push o sea igual pero al revés y luego Eh ve hace Push y claramente hace pop y luego ve hace pop entonces aquí igual tienen que concluir lo mismo esto mismo de acá y ya nada más concluyen después de
(25:55) hacer estos tres casos que no hay otro caso en el que se intercambien pushy pop de forma tal que no entren en alguno de estos tres casos y como en ninguno de estos tres casos se puede distinguir Quién hizo primero un pop no puede existir un protocolo de consenso para tres ilas si lo ven dudas hasta acá todo bien los demás tienen que considerar todos los casos en los que porque por ejemplo el primer caso que hicimos fue cuando los dos hacen pop no pero tienen que considerar todas lasb que puede haber entre Push y pop o sea
(27:01) de que a haga primero Push y luego B haga pop o todas las combinaciones que existan entre esos dos Hilos de Push y pop para este para poder demostrar bien que no Existe alguna combinación en el que cuándo los hilos hacen Push e en el primero lo hacen en la inicialización O sea acá es có lo inicializan si se dan cuenta en el protocolo de consenso anterior eh en el de la pila normal se hace al inicializar lo entonces meten luz y meten Win pero consideran tres casos porque tienen que considerar todas estas combinaciones si si o sea puede
(27:42) llegar a pasar que exista una forma de inicializar lo en lo que por esa inicialización sí sepas quién fue primero Entonces tienes que considerar todas las combinaciones entre Push y pop para que no se te pase ninguno de estos casos y Y estos tres casos engloban todas las combinaciones de Push Pop por eso son tres casos sí Eduardo va los demás sí todo bien entonces va muy bien eh pasamos a nuestra parte de la construcción universal e O sea la la construcción universal nada más para para que se acuerden un poquito nos dice que todo objeto se
(28:45) puede implementar para n yos de forma W free lo free con el objeto de consenso más poderoso y yo quería explorar con ustedes Cómo podemos entrar a a esta parte de de consenso y de construcción universal o sea dónde metemos el consenso y la construcción universal cuando estén ustedes en un proyecto si les piden un proyecto lo primero O sea no sería lo primero que les venga a la mente me explico que tengan que meter consenso Entonces es a lo que voy Cómo podemos meter el consenso y todos estos lemas del consenso y de la construcción
(29:23) universal para cuando les pidan algún proyecto cuando les pidan algún desarrollo y básicamente esto que implica la construcción universal es muy bonita Porque implica que si ustedes tienen un objeto de consenso que puede resolver el consenso para n hilos entonces pueden utilizarlo para construir estructuras de datos concurrentes o sea pilas colas listas lo que se imaginen de forma weight free o lock free para esos eneos si se dan cuenta este es un eh o sea la construcción universal Es una proposición muy poderosa porque una
(30:03) vez que nosotros tengamos un objeto de consenso podemos utilizar este objeto de consenso para construir todas las estructuras de datos concurrentes que nosotros queramos sin preocuparnos o con la garantía de que este cada uno de esos va a ser wiit free o lock free para nilos s lo ven Entonces lo único que nosotros necesitamos lo bonito que nos da la construcción universal y el consenso es que nosotros Solamente necesitamos un objeto de consenso para n hilos para los hilos que vayamos a tener y de ahí ya no nos tenemos que preocupar
(30:40) porque la construcción universal si utilizamos estos objetos para construir nuestras estructuras de datos nos va a garantizar las propiedades que nosotros queremos que cada una de nuestras estructuras de datos tenga entonces básicamente la donde se usa más el consenso es en en transacciones bancarias para evitar el problema del doble gasto se acuerdan de que era el problema del doble gasto El problema del doble gasto sí de los pagos entonces bueno en general el consenso siempre cuando ustedes estén trabajando con bases de
(31:33) datos concurrentes ustedes siempre tienen que pensar en consenso Entonces dónde meten consenso en su vida cotidiana como programadores en las bases de datos concurrentes Entonces siempre que ustedes tengan o vayan a diseñar eh alguna base de datos concurrente ustedes tienen que considerar el consenso siempre siempre siempre entonces entonces eh El problema del doble gasto básicamente es que ustedes tienen una cuenta o ustedes tienen su cuenta y eh es algo o sea su cuenta realmente es un registro de la base de datos pero es
(32:15) una base de datos concurrente que esa la palabra clave entonces varias personas o varias sucursales pueden acceder a su cuenta al mismo tiempo Si paralelamente llegan ustedes a a retirar eh los 100 o los 10 pesos que tienen en su cuenta y paralelamente llega alguien que quiere transferir estos 10 pesos a otra cuenta el problema del doble gasto es que si no se maneja el consenso si no se tiene un consenso lo que va a pasar Es que le van a transferir a la otra persona 10es y a ustedes van a retirar 10es Y eso es como si ustedes tuvieran
(32:59) 20 pesos pero en su cuenta nada más tenían 10 Entonces es un doble gasto si lo ven entonces acá si se dan cuenta este son la normalmente o sea el ejemplo más más fuerte es de los bancos porque son o sea el problema el doble gasto llevaría a un buen de problemas financieros no pero siempre que ustedes estén utilizando eh bases de datos concurrentes en en esta parte de acá en esta parte de aquí donde alguien o donde varias personas o donde varios hilos o donde varios procesadores pueden acceder a la base de datos de forma
(33:39) concurrente esta parte de acá tiene que llevar un consenso Entonces ustedes tienen su base de datos ustedes tienen eh todos los procesadores o los usuarios o los hilos que van a entrar de forma concurrente ese registro o esa base de datos y entre ellos oa entre el usuario los hilos o los procesadores y su base de datos tienen que meter la Barrera de consenso ahí es donde entra consenso en nuestra vida cotidiana o como como programadores o diseñadores de de bases de datos y de software Entonces siempre siempre siempre
(34:17) acuérdense porque Qué puede pasar el consenso acá lo que les ayuda acuérdense que el consenso de forma general lo que les dice es eh o sea al resolver el problema del consenso lo que ustedes tienen es que están resolviendo e O sea la toman una decisión común entonces eligen un valor entre varias alternativas y para eso se necesita un protocolo de consenso Entonces cuando ustedes protocolo de consenso e los protocolos de consenso que nosotros estábamos viendo eran para decidir quién había primero para que huer en consenso sobre quién fue primero
(35:00) sobre una decisión común y los protocolos de consenso que ustedes van a utilizar cuando ustedes estén diseñando sus bases de datos enormes concurrentes es justamente un protocolo de consenso nada más que en vez de decidir eh Quién fue primero van a decidir pueden decidir qué transacción fue primero y esa es la transacción que se va a llevar a cabo si lo ven Entonces el consenso aterrizando nos sirve siempre siempre siempre que emos que estemos utilizando bases de datos concurrentes Y cuando estamos utilizando bases de datos
(35:43) concurrentes cuánd o bueno cuándo han visto que no usemos bases de datos concurrentes han visto alguna base de datos que no sea concurrente Exacto Entonces nunca y nunca la van a ver porque e si ustedes no tuvieran una base de datos concurrente Exacto A menos que sea lo que hacen en primeros semestres y nada más lo estén modificando ustedes si ustedes mandan a este o sea si ustedes mandan un desarrollo y lo lanzan siempre quieren que sea una base de datos concurrente Porque ustedes quieren tener varios usuarios o varios procesadores o
(36:42) varios hilos ustedes nunca van a querer tener solo un usuario solo un procesador y solo un hilo Entonces siempre siempre siempre que ustedes estén desarrollando un proyecto tienen que meter el protocolo de consenso entre la base de datos y el usuario o o todos aquellos que entren de forma concurrente a su base de datos Y para eso le sirve el diseño de de este cómo se llama el diseño de protocolos de consenso porque va a ser igual o sea cuando ustedes les pidan diseñar una base de datos muy grande concurrente va
(37:19) a ser idéntico su protocolo de consenso va a ser idéntico a lo que ustedes ya saben hacer nada más que transformado a que en vez de que quieran saber eh qué ilo fue primero quieren saber o igual no quieren saber que ilo fue primero para saber qué transacción fue primera Y entonces qué transacción van a decidir que se lleve a cabo no O o qué operación van a decidir que se lleve a cabo y pasa lo mismo en las aplicaciones financieras no tanto en transacciones como en las aplicaciones financieras ustedes siempre
(37:52) van a querer bueno en general ustedes siempre van a querer que haya cierto tipo de consenso porque si no hay consenso entonces los hilos no se pueden coordinar para modificar el estado compartido el consenso en en nuestra vida cotidiana el consenso pasándolo de de la teoría a la práctica lo que nos hace o lo que nos ayuda es este que los hilos o todos nuestros usuarios o todos nuestros procesadores se coordinan para modificar para modificar el estado compartido y si se dan cuenta eh siempre van a tener un estado
(38:37) compartido entonces además esto es muy bonito porque no Solo lo pueden utilizar para bases de datos concurrentes también lo pueden utilizar para este seguridad si ustedes bitcoin es o bueno la la idea de las blockchains y la idea de bitcoin es muy muy segura por qué porque justamente hace este consenso tiene un mismo protocolo de consenso donde deciden qué transacción hacer y ustedes nunca van a poder hackear bitcoin A menos que hackeen más de la mitad de de todos sus procesadores Y de todos sus sus nodos que están haciendo el consenso
(39:19) porque mientras no O sea mientras no estén infectados más de la mitad de los procesadores entonces van a ganar eh los procesadores en este protocolo de consenso van a ganar y van a decidir correctamente Quién fue o van a decir la transacción de forma correcta No Ajá sí sí sí el consenso o sea las blockchains y eh todo eso las blockchains y las bitcoins y todas las criptomonedas se basan en este un protocolo de consenso distribuido y acuérdense que lo distribuido es una subrama de computación concurrente Entonces esto O sea lo que hay debajo de
(40:07) todo eso es algo Es un protocolo de consenso esto evita el doble gasto y Esto hace que sea s seguro Porque mientras la mayoría sea Leal o mientras la mayoría no esté infectado ustedes siempre van a decidir o bueno los procesadores siempre van a decidir eh las Qué hacer o cómo se van a coordinar para modificar el estado compartido de forma correcta y es muy muy difícil que ustedes puedan eh meter esta parte o bueno que puedan infectar a más de la mitad justamente porque utiliza curvas elípticas entonces para empezar a entrar en un problema de
(40:47) logaritmo complejo eh Por las curvas elípticas y luego cuando ustedes ya entran y empiezan a infectar se tardan décadas en tratar de infectar a a más de la mitad y cuando ustedes están tratando de infectar a más de la mitad ya se dieron cuenta y ya lo sacaron sí lo ven Entonces si ustedes les piden algo de seguridad o algo de bases de datos concurrentes o tienen que de alguna forma coordinar para modificar el estado compartido siempre diseñen su protocolo de consenso es idéntico al que ya saben hacer y este va
(41:25) van a tener un sistema super robusto y realmente nunca o Bueno al menos una vez en la vida les va a pasar que tengan que diseñar una base de datos concurrente o algo de seguridad porque nuestra vida en general se basa en en cosas concurrentes no en Estados compartidos O sea la vida de de los sistemas eh se vuelve grande por todos los estados compartidos que se modifican sí lo ven y entonces eh los lemas que ustedes aprendieron hasta ahorita que les dicen cuando ustedes o sea esta parte ya es de la construcción
(42:06) universal cuando Ustedes ya tienen eh un objeto de consenso para n hilos Ustedes ya tienen la garantía de que si ustedes construyeron sus estructuras de datos con est eh va a ser lock free y wiit free Entonces al momento de ustedes diseñar su sistema o su base de datos o su programa o su desarrollo cuando ustedes utilicen un objeto eh que resuelve un consenso para n hos es automáticamente les va a garantizar esta consistencia de que es lo free y wiit free y es algo muy bonito no porque ya ustedes tienen esa garantía en el diseño
(42:46) y básicamente Cómo porque nunca nos dicen cómo no O sea nosotros salimos así a la vida y realmente nunca nos dicen Cómo aplicar lo que aprendimos en escuela a en en nuestro en todos nuestros proyectos y después de a cierto error te acuerdas que eso lo aprendiste en la universidad y terminas aplicándolo pero si nos dijeran Cómo están de acuerdo básicamente lo primero que tienen que hacer es identificar la la parte concurrente siempre que ustedes estén diseñando todos sus sistemas tienen que identificar cuál es la parte concurrente
(43:23) y para identificar la parte concurrente ustedes tienen que identificar eh Cuáles son los recursos compartidos Cuántos hilos y procesos porque en base a cuántos hilos y procesos van a tener eh es que ustedes van a tratar de hacer el objeto de consenso que que se resuelva para nilos y aquí es cuando van a aplicar la construcción universal sí lo ven entonces tienen que considerar todo esto cuando ustedes estén diseñando su programa tienen que saber todos los hlos todos los procesadores y todos los usuarios y tienen que dividir las tareas
(44:03) tienen que saber qué tareas van a recursos compartidos qué tareas no van a recursos compartidos qué tareas se hacen secuencial Cómo se juntan las tareas que no se hacen de forma secuencia lo que se hacen de forma concurrente y este cuando tengan eso identifican los puntos de acceso esto es muy importante Por qué tienen que identificar los puntos de acceso porque justamente como estábamos viendo acá Este si se dan cuenta este de acá es un punto de acceso sí lo ven el usuario accesa o accede a su a su cuenta a su cuenta de banco eh en este punto de
(44:40) acceso Entonces cuando ustedes identifiquen los puntos de acceso en su programa lo que ustedes van a tener Es que en base en esos puntos de acceso es cuando ustedes van a meter esto de acá mecanismos de sincronización y y acceso seguro a recursos compartidos por qué usted es muy importante que ustedes identifiquen todos los puntos de acceso porque lo esos o sea los puntos de acceso los van a llevar a dos a que ustedes tienen que saber dónde meter los mecanismos de sincronización Y dónde meter la seguridad porque si se dan
(45:16) cuenta siempre que eh o sea la única forma de que alguien entre a ese servidor o de que alguien entre a su programa es por un punto de acceso entonces aquí en estos puntos de acceso es donde ustedes tienen que meter el consenso sí lo ven por dos cosas Ese consenso les va a ayudar a que su su sistema sea s seguro super robusto y les va a ayudar al acceso seguro a recursos compartidos Porque si ustedes meten el consenso aquí lo que les va a ser el consenso y su protocolo de consenso es que va a permitir que todos los hilos y
(45:55) todos los procesado todos los procesos todos los procesadores y todos los usuarios se coordinen y el acceso a los recursos compartidos sea seguro y sea consistente y sea consensuado en todos los hilos Entonces es muy importante el consenso porque el consenso les da seguridad y les da eh consistencia la construcción universal y el consenso son cosas que normalmente nosotros lo dejamos en la teoría pero eh son cosas que no tienen Que quedarse en la teoría y que siempre que ustedes vean los puntos de acceso siempre que ustedes
(46:31) diseñen cualquier programa que ustedes tengan tienen que diseñar un protocolo de consenso es como eh Como por default cuando ustedes tienen su programa Eh Pues diseñan los los modelos de sus bases de datos no tienen su modelo relacional tienen su modelo entidad relación tienen todo eso por default es igual cuando ustedes diseñen su programa tienen esa parte del diseño de la base de datos y por default tienen que tener sus protocolos de consenso entonces para esto nos sirve el protocolo de consenso los protocolos de
(47:03) consenso y la construcción universal en nuestro día a día y ya después de que tienen toda esta parte del consenso lo único que tienen que hacer es sincronizar pero esa parte ya yo creo que ya para ustedes es superfácil entonces pero sí tienen que aplicar acuérdense de aplicar siempre el consenso nunca o sea cuando cuando entramos a a desarrollar un proyecto realmente nunca se nos pasa por la mente agregar el consenso la construcción universal pero es lo primero que tienen que hacer o sea por default siempre que
(47:35) lo diseñen diseñen su protocolo de consenso Ah Ajá sí es es análogo Sí el protocolo de consenso para pile y cola es análogo Entonces igual la demostración es análoga y ya quedó tienen dudas está acá de de su tarea o de cualquier cosa no va entonces yo creo que hasta acá lo dejamos si tienen cualquier duda de su tarea me escriben eh cualquier duda de cualquier cosa me escriben y nos vemos el siguiente martes va cuídense mucho Bye an
