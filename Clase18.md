(61) Clase 18 2024 08 28 - YouTube
https://www.youtube.com/watch?v=X_XyykLzpn0

Transcript:
(00:22) Hola buenos días recording in progress ok a ver entonces empecemos la clase anterior nos quedamos en que este Bueno yo les había dicho presentado por fin este este cuadrito no entonces habíamos visto e que había bueno se les había comentado y habíamos sido testigos de que de una
(01:27) implementación no bloqueante no pero bueno yo les había comentado que los objetos concurrentes este llámense las colas los candaditos no eh las pilas otros que no conocen probablemente como los snapshots este y así Bueno hay muchos muchos objetos Entonces todos ellos e eh se implementan se implementan Por qué Porque en realidad el objeto como tal pues tiene una descripción así abstracta no entonces hay que hacer aquí hay que escribiendo lo que vimos Okay entonces uno habíamos presentado este objetos concurrentes yo les había comentado así
(02:14) este ejemplos no candados pilas eh colas snapshots y bueno también De hecho hay primitivas estos me imagino que han de ser nuevos no para ustedes pero los vamos a ver entonces hay objetos concurrentes luego los objetos con concurrentes este se implementan implementaciones Okay se implementa Por qué Porque los objetos concurrentes en Sí pues es una descripción abstracta por ejemplo pues qu qué queremos de una cola que sea fifo qué queremos de una pila que sea lif eh qué queremos de un contador Pues que realmente vaya de cero a infinito no y
(03:04) que vaya de uno en uno de dos en dos o como sea no este entonces son descripciones abstractas ya las implementaciones pues ahora sí es el código o específico O sea ya como tal nuestro algoritmo concurrente no eh Es decir nuestro algoritmo concurrente y además yo les había comentado Que bueno hay que para para analizar la corrección de los algoritmos de los objetos concurrentes de estas implementaciones tenemos Bueno vamos a ver si lo pongo así entonces para analizar la corrección de sus implementaciones este yo les había
(03:56) comentado que [Música] tenemos condiciones de Progreso como esta de aquí y tenemos condiciones de corrección entonces en eso nos habíamos quedado eh Y entonces tenemos condiciones de Progreso y de corrección de Progreso Esta es una tablita que resume no es lo primero que hemos visto las de corrección ahorita voy a ello vale pero las de Progreso es lo que es lo que llevamos vale es como en este punto estamos Entonces por qué porque las implementaciones pueden ser con un progreso no bloqueante o con un progreso bloqueante habíamos visto la
(04:46) clase anterior que pues haí el tip no para saber si es bloqueante pues es si tiene candados si tiene candados Pues sí no va a ser no bloqueante O sea un candado a fuerzas es bloqueante por qué porque tiene el progreso de los demás detiene Bueno este un hilo puede detener el progreso de los demás A diferencia de lo no bloqueante no Entonces lo bloqueante este eh andamos en ese mundo desde el tema anterior no candad too des bloqueante si ya se detiene y ya iba a agarrar el candado era el siguiente en el no este de Bakery
(05:30) no del panadero Pues ya ni modo o sea nos vamos a esperar a que Ya despierte porque le va a él no este esas cosas Eh entonces para estas algoritmos bloqueantes habíamos visto starvation free y deadlock free vale Y para los algoritmos no bloqueantes las implementaciones no bloqueantes este habíamos visto solamente una implementación para dos hilos weight free de una cola es lo que llevamos no lo que sabemos de este mundo Entonces el ejemplo de esta implementación lo habíamos visto Ah mira aquí está no es la implementación Por
(06:08) qué Porque no usa candados entonces Eh puede ser que un hilo este bueno estén los hilos p y hilo q el Q se detenga y no va a haber problema para p No él va a seguir haciendo sus cosas no importa va a regresar casi siempre vacío no porque pues no si el encolador se detuvo y no encola nada pues eventualmente regresar a vacío pero este no hay problema O sea no no se detiene el otro si siq se detiene entonces habíamos visto esta implementación que justo no le le ponen weight free la cola weight free Bueno entonces qué era weight free
(06:46) era que era el análogo no de starvation free we free era que si este sí Bueno garantiza que todas las llamadas O sea que todos los Silos terminen su ejecución en un número finito de pasos es decir que O sea qué implica no que alguien se quede un número infinito de pasos pues que no acaba no Entonces garantiza que todos acabamos y garantiza que cada hilo progrese o sea en otras palabras la diferencia con lck free con esta otra que no hemos visto ahorita ejemplos implementaciones así pero los veremos Es que este dice que Bueno les
(07:29) digo la definición es así como muy este muy matemática siento no O sea si lo leemos así como garantiza que infinitamente seguido alguna llamada un método acabar en un número finito de pasos No pues simplemente lo que nos dice es que algún proceso debe acabar en un número finito de pasos cada cuá pues infinitamente no es como acordándonos este de cómo debe ser vale la definición Entonces si un método es we free Pues también es lo free es como la implicación de que si Station free Pues también es lo free porque pues
(08:02) simplemente wiit free es la generalización no wiit fre te dice que todo es lo free dice alguien algún hilo alguna llamada a método entonces pues realmente Este nosotros bueno Yo me imagino no como decimos Bueno pues lo que más nos gustaría es que todo se acabe no que qué chafa un protocolo que pues que existan y los que no acaben no pero bueno este sí son más atractivos los métodos free no O sea como Pues sí que todos acaben pero eh la realidad es que a veces para permitir que todos acaben como que ocupas pues más
(08:42) este pues ocupa diseñarlos de esa forma No y regularmente suelen ser más ineficientes O sea como que entre más le pidas un algoritmo más ineficiente va a ser vale o sea más más se va a tardar entonces a veces por eso la gente prefiere que sea lo free no O que igual la relación no entre starvation free deadlock free a veces se prefiere que simplemente no haya un deadlock pero de ya que todos acaben Pues no sé no este entonces bueno otro ejemplo de Otra condición de Progreso no bloqueante es obstruction free esta digamos que es otra Como otra
(09:23) pero casi no Bueno vamos a ver en el capítulo 4 una implementación sigu es en el siguiente este obstruction free Entonces esta esta propiedad lo que simplemente nos dice es que garantiza que cuando un proceso va solo pues termina su ejecución en un número finito de pasos eh A qué se refiere con que va solo simplemente que es que este por ejemplo tienes alelo a b c no Entonces por aquí aquí están ejecutando métodos no se entrelazan Este es un relajo pero cuando a finalmente va solo acá este en este punto a va solo no
(10:19) este entonces termina algo así sea pero mientras aquí pues como que se tardan más no supongamos así ent lo que nos dice obstruction free es que si el hilo va solo si no se entrelaza con alguien más termina es lo que nos dice esta propiedad qué nos decía nos dice que alguien termina en un número finito de pasos infinitamente seguido No eso nos dicef este que por ejemplo infinitamente seguido alguno llamado un método acabará en un número finito de vale o sea que alguien acaba es lo que nos dice y Qué tan seguido pues infinitamente seguido
(11:05) siempre siempre alguien acaba es lo que nos dice [Música] vale No sé por qué les puse esta aquí pero bueno un ejemplo de una cola pero este nada más lo puse como ejemplo pero bueno vemos ejemplos de esto okay Entonces esto se ve así no lock free todos acaban y nad nadie bloquea a nadie todos acaban y puede ser que alguien bloquee el retraso de alguien lock free este alguien acaba y nadie bloquea el retraso de alguien Y deadlock free alguien acaba y este y pues si alguien se detiene todos valimos no O sea igual este El Progreso no de este lado
(11:59) pues Progreso en la detención de alguien detiene el progreso de todos y aquí si alguien se detiene no nos Afecta no como que es así el resumen no de las de Progreso ahora las de corrección vamos ahora sí no a esta otra partecita las de corrección a ver este vamos a ver estas tres que son linealiza consistencia secuencial y consistencia en la quietud son tres condiciones de corrección la laliz habilidad es así la estrelar no nuestra estrella Esa es la que vamos a haer nosotros por qué porque simplemente porque estamos en
(12:41) alto nivel vale o sea estamos Este programando en alto nivel estamos viéndolo todo así a nivel de estructuras de datos si nosotros nos bajáramos a a caché no O Pues sí a caché memoria a Baja memoria pues probablemente anduviéramos acá O de hecho ya ni siquiera se considera a veces esta se considera todavía cosas más más este más ligeras Pero bueno Entonces nosotros vamos a andar acá pero vemos estas para para ver las diferencias entonces estas las implementaciones de concurrentes de objetos tienen pues ya vimos no de condiciones de Progreso y de
(13:25) corrección estas de corrección tienen que ver con propiedades de seguridad es decir decir nos dicen no que algo malo nunca va a pasar entonces eh la idea de estas tres propiedades va a ser esta palabra tan importante que va a ser transformar Qué vamos a hacer transformar la historia concurrente a una secuencial y simplemente vamos a analizar si esta historia secuencial es correcta la diferencia entre estas tres nada más es que tienen distintas reglas para transformar Pero la idea es esa Vale entonces Bueno vamos a ver
(14:07) yita voy a hacer como este bueno es que la definición así como ni siquiera está tan formal mi libro pero este como que hay mucho concepto ahorita entonces espero como que mantenerlos no que no se me aburran pero ahí vamos no eh voy a irles preguntando van a ver un squiz ahorita entonces vayan poniendo atención Eh entonces un objeto como tal pues ya vimos no que provee un conjunto de métodos y es la única forma en la que nosotros podemos este modificar a a este objeto entonces eh Y pues estos métodos definen el
(14:46) comportamiento del objeto un ejemplo de ello pues es no sé esta una cola una cola nos dicen que es fifo en que consiste en insertar un elemento de que consiste en regresar el primer elemento insertado eso es una una descripción de un objeto Vale entonces los objetos además tienen estados bien definidos y a qué se refiere esto eh Por ejemplo este el estado de una cola en este caso sería una sería la secuencia de ítems que están en esa cola entonces una cola por ejemplo Ay qu no la cola tendría como así no x este así e Pues no sé el elemento c el 1
(15:40) el dos no Entonces primero está x después está y no sé no entonces sabemos que si se aplica un enq no sé de Z pues entonces el estado de la cola cambia así no o sea esto es el estado de del objeto y así o sea es como pues lo Cómo se refleja la cola después de haber ejecutado pues sus métodos No simplemente es eso entonces e hay hay precondiciones en el mundo secuencial por eso por eso se llama así esta esta diapositiva en el mundo secuencial Eh pues como nada más hay un hilo que está ejecutando cosas Pues digamos que el estado de esta cola va a
(16:31) ser uno antes no de ejecutar por ejemplo un enq enq no se en cola x va a ser un estado y después de que hagas ese en qx pues esperas que el X esté en la cola no entonces eh podemos describir un objeto en el mundo secuencial Pues en precondiciones y en postcondiciones simplemente las precondiciones describen el estado del objeto antes de invocar el el método y las postcondiciones escriben el estado del objeto después y además te dicen si se regresa algo no entonces eh Como les había comentado no sea pues si tenemos la
(17:13) cola este Tenemos aquí la cola no Y si se por ejemplo esta sería estamos grande sería esta la postcondiciones el método y este Perdón la precondición sería esta y luego ahora sí no la pues condición simplemente sería pues ahora ya cambió el estado de la cola y ahora hay Z no y se regresa Pues nada no como un verdadero como dec se pudo se [Música] regresa voy a ponerlo así se regresa y ya está entonces sería la postcon entonces a este estilo como de documentar las cosas se va a conocer
(18:17) como especificación secuencial Entonces digamos que la especificación secuencial simplemente también lo podríamos ver como como el conjunto de historias válidas para una un objeto vale en este caso pues es una cola un objeto Pues en este caso es una cola no Entonces por ejemplo el que tengamos nuestra cola así y luego hagamos un en qz y después se ve así pues es correcto no entonces la especificación secuencial es lo que nos va a ir diciendo si nosotros hacemos Esto entonces debemos obtener esto y si hacemos este conjunto no sé de 10 eh
(19:06) llamadas pues la cola se debe ver de esta forma Esa es la especificación secuencial vale es muy importante en en el mundo concurrente o sea regularmente van a escuchar No este sequencial specification así así le llaman Vale entonces bueno ahora sí como viendolo aplicado no eh este digamos que esta esta descripción esta descripción esa es una descripción noo letras descripción de una cola una descripción de una cola entonces la especificación secuencial es el conjunto de historias que
(20:10) parten de esta descripción O sea que son válidas digamos no para esta descripción así le podemos decir entonces por ejemplo eh yo les había comentado que estas estas condiciones de corrección que vamos a ver simple ente lo que hacen es transformar ejecuciones concurrentes en secuenciales Entonces por ejemplo tomando la ejecución que nosotros vimos la ejecución concurrente no ejecución concurrente cuando la analizamos Pues en realidad parece una ejecución secuencial Por qué Porque pues se forman no O sea primero se ejecuta este y luego
(20:56) este y luego este Entonces si nosotros analizamos esta ejecución secuencial Ustedes es la pregunta no esta ejecución sería correcta con respecto a una a la descripción de una cola es decir con respecto a la especificación secuencial de una cola Esa es la pregunta por ejemplo si consideramos que la cola inicialmente está vacía es correcto decir que sucede esto en ese orden dice que no entiendo Dónde está la especificación secuencial aj es que Haz de cuenta bueno que por ejemplo si escribimos todas digamos que esta es la descripción
(21:56) de la cola no entonces especificación secuencial es el conjunto de historias que se pueden hacer a partir de esta descripción pero imagínate que es Ese Conjunto pues es enorme no imagínate si las escribimos no O sea como si suponemos no que se llama ese no el conjunto Entonces sería como Eh Pues no sé enq a no y que se regrese es correcto esa es una historia no otra historia sería que se regrese en qa y luego se haga de q de a es correcto entonces imagínense todas las combinaciones de historias que podemos crear no partir de
(22:46) de Pues en realidad de esta definición No si nos vamos a lenguajes Pues en realidad esto es un lenguaje no una cola es un lenguaje es que esta especificación secuencial se refiere a esto no digamos que esta es la descripción del lenguaje Y entonces la especificación secuencial es el conjunto de cadenas que podemos hacer a partir de ese lenguaje vale Y entonces Eduardo dices faltan las precondiciones Ajá pues justamente las precondiciones y las postcondiciones viven en Este lenguaje no O sea eh el estado de la colol es uno
(23:26) y si se ejecuta en qa pues yo hago un deq a hago un dq me debe devolver a no O sea pues está vacía debe suceder esto O sea digamos que aquí se ve una postc no y una este Perdón una precondición y una postc no lo que sucede Pues es que obtengo a vale o sea es el resultado y así O sea digamos que las postcondiciones y las precondiciones viven en la especificación secuencial y la especificación secuencial simplemente es todas las cadenas que podemos hacer a partir de Este lenguaje no que aquí lo vemos más bonito no no me estoy metiendo
(24:04) ahí como definamos la el lenguaje Y entonces las permutaciones o se no estamos como tan abajo no pero es para que lo vean de esa forma y así es como definen la analizaba y todas estas vale H entonces las dos que están ahí son solo postcondiciones no que solo Ah bueno pero sí ya ya cachaste verdad Ajá entonces este por ejemplo dice dice dice Camilo dice asael que que sí no Y sí La respuesta es Sí sí es correcta con respecto a la especificación secuencial de una cola no eso sería como y vamos a vamos a empezar a escuchar esto mucho es correcto con
(24:57) respecto a no es lo que se espera de una cola está bien no cumplimos con esto vale Okay entonces eh est eso está o sea como que esta ejecución está fácil porque en realidad esta ejecución concurrente parece que se ejecuta de forma secuencial porque ocupamos candados vale Ah dice zuriel podemos ver por qué Ajá porque sí es correcta sí te refieres a eso verdad bueno es correcta porque si la cola o sea consideramos que la cola primero está vacía No cola vacía Entonces si primero se hace un deq y se obtiene estado de la cola en este punto
(25:55) este pues nada más está así no vacía luego el estado de la cola K sería que tiene B no hace un enq de B luego acá el estado de la cola sería B a no y el estado de la cola aquí si tiene sentido que lo que se desen Cole el lo que obtiene se a b no entonces el estado de la cola en este punto Pues sería a y entonces la postcondiciones pues es B Entonces es correcto no con respecto a la definición de una cola que es esta de acá enus Este inserta el elemento este Okay entonces esta ejecución está
(27:08) como facilita no porque pues se forman sucede una operación después de otra por qué Porque seamos candados no O sea se forman pero como que aquí La pregunta sería Okay pero si la ejecución es concurrente o sea realmente concurrente como algo así no O sea aquí Cómo cómo armamos nuestra historia secuencial no O sea quién decimos que pasa primero O sea por ejemplo decimos que esta pasa primero y esta después y esta después no O sea cómo cómo armamos nuestra historia que realmente sea secuencial no que vaya una después de otra porque pues esto es
(27:45) meramente o sea puro concurrente no entonces esa es la como es lo que vamos a ver ahorita no eh las reglas para transformar cualquier historia concurrente como esta en una secuencial Vale entonces eh este primero vamos Bueno les voy a definir aquí varias cosas en sí los métodos las llamadas a métodos creo que ya las había definido Pero bueno lo vuelvo a poner acá una llamada a un método pues es un intervalo vale que Inicia con un eh método de invocación y termina con un evento de con un método de respuesta no evento de respuesta
(28:29) Bueno en realidad aquí me equivoqué es evento por un método pues es el intervalo pero el evento pues es un punto vale una disculpa entonces empieza con un evento de invocación y termina con un evento de respuesta Así va entonces en el mundo secuencial las llamadas a un método Pues sí son secuenciales no O sea como estas precondiciones y postcondiciones que vimos no este pues ejecutas el de a luego el de B y así no pero en el mundo concurrente pues existen interacciones o sea se traslapan entonces hay que analizar estas interacciones no Qué pasa
(29:08) si estas se Ejecutan al mismo tiempo no ahí son se traslapan y esta se traslapa también entonces cómo analizamos eso Entonces bueno en este es la notación que se usa en el libro en la mayoría bueno Y la que yo suelo usar también pero van a encontrar como también varias formas luego no sé este escriben luego los métodos bien extraños no como W este escriben que según se escribe uno así no en vez de poner el el el parámetro de entrada Aquí Pero bueno o sea como consideren Esto vale Y ya si no les este me preguntan y les digo
(29:48) cómo cómo nombran a sus métodos porque s varía de libro a libro pero bueno entonces este sería el parámetro Eh bueno Bueno sí parámetro de entrada de entrada Esta es la llamada al método Este es el objeto porque ahorita hemos hecho todo en un mismo objeto por eso no lo hemos puesto y este es el hilito y acá también el hilo el objeto y aquí ya no ponen como el este en el libro ya no ponen la llamada al método o sea como la respuesta ponen nada más este a si la llamada porque pues no sé si se ejecuta este enq no La respuesta es como de Pues sí
(30:43) lo logré no Y regresas vacío y ya está es como se refiere a esto evento de invocación sería este de aquí y evento de respuesta sería como al final lo que regresas simplemente regresa un vacío Vale entonces cómo se diría lo que devuel bueno sí lo que devuelve gu respuesta no Entonces por ejemplo otro otro sería como de el hilo p hace a hace un dq no y qu devuelve el Pues sería este del hilo a Pues no sé un valor x no Y así también se vería como inicia aquí y termina acá vale es como la anotación para referirnos a estos eventos Entonces este
(31:46) ya les hablé ahorita de historias no pero bueno les he dicho bien Qué es pues una historia simplemente eh Es una forma de hablar de una ejecución en realidad una historia y una ejecución ambas son una secuencia finita de eventos ambas son eso vale o sea por ejemplo esto de aquí pues sería una historia Entonces cómo sería esta historia pues por ejemplo primero tenemos un evento evento de invocación no y luego en la historia en el tiempo por ejemplo lo siguiente sería esta tenemos un evento de invocación otra vez luego los siguiente en la historia
(32:29) sería por ejemplo este que es el evento de respuesta Así ya vieron entonces una historia es un una secuencia finita de eventos de invocación y de respuesta no precisamente seguidos no puede ser que haya dos de invocación o tres o un buen y luego uno de respuesta o varios de respuesta Así entonces Esta es una historia la diferencia simplemente entre ejecuciones e historias porque a veces van a escuchar van a leerlo en el libro este o lo escuchan de mí es que simplemente la historia se refiere más como a como el modelo matemático
(33:07) vale Cuál es la definición entre un evento de invocación y un evento Cuál es la definición de un evento de invocación porque pensé que el enq era diferente a un deq Ajá sí sí sí este digamos que el evento de invocación simplemente es el inicio de una llamada un método okay O sea por ejemplo e método un método un método es enq No ese es un ejemplo de un método pero también otro método Pues es de q no ese es otro método eh simplemente entonces e con su descripción y todo no imagínense que acá tenemos la descripción descripción de ambos métodos
(34:03) no O sea si no sé en Java tenemos Ah okay Entonces no importa si en q deq ambos invocan a un método a sí digamos que pues el método es así pues la descripción no y luego la llamada un método pues ahora sí es invocarla en el tiempo no o sea es La invocación en el tiempo Esa es la llamada un método Pero además esta llam un método tiene un inicio y un final el inicio es el evento de invocación Y si el final es el evento de respuesta Okay entonces dice orel Ah okay Entonces no importa si es enq deq ambos invocan a un método Ajá sí o sea
(34:45) los los los hilos van a aj van a invocarlos Exacto Okay entonces este Ajá sí Entonces estamos en las historias yo les había comentado no que tanto una ejecución como una historia son simplemente secuencias finitas de eventos como este Esta es una historia no vista como bonito no vista de forma gráfica pero pues la podemos escribir Ay la podemos escribir así no Así tal cual entonces eh la diferencia entre estas dos Es que la historia pues es el modelado como más matemático Vale y la ejecución es tal cual así como la vemos o sea pero a
(35:29) veces las usan de forma indistinta vale Si no es muy formal el como que lo que leemos entonces sea si consideramos no que sea he una historia entonces una subh hisoria de H pues simplemente será una subsecuencia de eventos no por ejemplo estos tres serían una subh hisoria no si la cortamos aquí sería una subh hisoria de la historia grande Vale entonces así primero historia secuencia eh de eventos entonces una llamada a un método en una historia pues simplemente eh Como ya vimos no tiene un evento de invocación y
(36:06) de respuesta entonces simplemente este y aquí la diferencia bueno mucho texto Pero bueno la diferencia simplemente Es que este hacen match Okay por ejemplo este es el evento de invocación no hago yo un deq invocación y el evento de respuesta es que obtengo Uno Vale es como este invoco de que y y La respuesta es uno y hace match Por qué Porque comparten vamos a ver si lo escribimos así comparten el mismo objeto y el mismo hilo Vale entonces por ejemplo supongamos que esta implementación de aquí pues se hace todo sobre el objeto q
(36:51) no de cola Entonces si quisiéramos escribir esto así con la nota simplemente sería q no punto de q bueno Esto lo hace el hilo p y la respuesta sería p sobre q y el resultado es un entonces este es el evento de invocación y este es el de respuesta hacen por porque ambas son hechos por el mismo hilo y están aplicados al mismo objeto entonces una invocación pendiente simplemente es una es una invocación que no tiene respuesta con match no por ejemplo esta de aquí Esta es una invocación una invocación pendiente simplemente pues este el hilo
(37:50) q hace hacia el objeto q mayúscula el hace un en q de dos y pues ya no no tiene ahí como una respuesta se queda ahí pues pendiente No qué esperaríamos una conch Pues sería como que regrese este q y que diga pues vacío no lo logré pero pues no digamos que no tiene no no tiene esto Ah en la nota tendría que decir entonces si no tiene una respuesta no Ajá sí sí también no Ajá Es que aquí como que bueno es como el formalismo como que dicen eh este bueno siento que lo hacen así porque por ejemplo tienes una un evento
(38:42) de invocación y un evento de respuesta y esperas que sean sobre el mismo no pero por ejemplo puede ser que existan en esta historia Pues también existen respuestas de q no pero tiene que hacer match porque tiene que ser del mismo proceso no y hacia el mismo objeto puede ser que tengamos de distintas no entonces dices Bueno mira aquí hace mach Sí pero o sea bueno est es una Este es un evento de respuesta Sí pero no hace match porque no lo hizo el mismo proceso vale ent nada más como que una una notación como formal no O sea tiene que
(39:16) ser del mismo proceso y tiene que ser del mismo objeto y ya o sea solo a eso se refiere pero sí En realidad podrías decirlo es pendiente si no tiene respuesta y ya entonces este vamos a ver no una extensión H prima de una historia H simplemente se construye a partir de Añadir algunas respuestas a operaciones pendientes Entonces por ejemplo en esta historia tendríamos si de una vez lo escribo H sería Este ahí les va ahí no p este el hilo p hace un deq Ah bueno todo es al al objeto q vale m objeto entonces p hace este un
(40:16) dq y luego eso sucede No aquí luego por ejemplo se hace un enq q hace un en hace q punto en q de 1 no luego por fin se obtiene la respuesta de p p q punto eh se regresa uno y luego la respuesta acá sería este p no p este se regresa vamos a pensar Ah no es q Ah bueno aquí por ejemplo regresa verdadero y luego ahora sí vamos acá no p hace q de q luego
(41:21) Q en q2 no me cabe un poquito más error luego p este la respuesta de p simplemente aquí es dos no y ya Ya acaba Esa es la historia Vale entonces la extensión H sería simplemente Añadir cero o más respuestas cero porque puede ser que no añadas nada vale pero por ejemplo una extensión de esta historia podría ser eh simplemente pues la historia completita no puede ser esta No simplemente así porque añade cero respuestas dice pero Ah sí se me faltó verdad tienes razón bueno es que aquí la había dejado pendiente pero la escribí no hay que
(42:22) pensar que no regresa si es que no la había cerrado vale como que quería Mostrar el ejemplo cuando quedaba pendiente por eso no la cerré pero sí la escribí bueno que considerarlo así vale Pero gracias Sí sí sí sí sí sí as luego los hago bas pero entonces Este es un ejemplo de una extensión otro ejemplo otra extensión Pues sería Ahora sí realmente completarla no q y ahora sí poner no el true completarla no decir Ah pues que regresa pues hay que regrese true el truque ya estaba Entonces esta sería como Bueno supongamos est es un un una
(43:06) una extensión no cuando no agregué o sea agregué cero respuestas o está otra cuando agregué una respuesta a una invocación pendiente esa sería una extensión Vale entonces una historia completa eh tengo la mismita Ah mira aquí sí la puse bien Ajá sí O sea como no le puse Aquí ya sí Entonces vamos a copiarla para que no escriba otra vez todo entonces por ejemplo Esta es una historia una historia completa simplemente denota la historia obtenida a partir de quitar las invocaciones pendientes Vale entonces por ejemplo
(43:45) aquí una digamos que la extensión pues es completar No si si quedó ahí este si está si hay una invocación pendiente eh la extenso dice Ah bueno Pues busca si la puedes le puedes poner una respuesta no O sea digamos que aquí ya vieron me creé yo la respuesta y la puse como yo quise no y acá también el la complete lo que nos dice pues es como de pues no la completes simplemente bórrala no entonces complete dh dh sería simplemente Cuál es la invocación que está pendiente en este caso miren en este caso se regresa en no No dos
(44:32) empty empty y este es lo único que cambiar est entonces simplemente sería esta es la pendiente que es esta de aquí entonces simplemente la borramos no y así decimos est sería complete no complete que nos regresa eh siempre nos eh Bueno siempre construye e historias completas completas es decir sin invocaciones pendientes la diferencia entre extension y complete Vale entonces Ah bueno también existen proyecciones de un hilo y de un objeto no por ejemplo También acá No si tenemos
(45:35) esta historia la proyección de un hilo este sería así se escribe de esta forma por ejemplo lo que lo que solo hace el hilo p No pues lo que solo hace el hilo p Pues sería esto esto esto y esto no no s si es así O sea como que digamos que es la historia de lo que solo hace el Lope y también podemos Construir la historia de solo lo que se hace sobre un solo objeto en este caso pues sería la misma Porque todo lo hacemos sobre un mismo objeto Pero puede ser que exista un entrelazado de dos de una ejecución en donde tengamos dos objetos
(46:28) pero por ejemplo aquí pues en este caso todo el mismito hdq no es como nada más como selecciona lo que lo que estás Este hecho no para un objeto o para un proceso y la historia secuencial va a ser el conjunto de eventos de invocación con su evento de respuesta que hace match enseguida por ejemplo eh esta historia de aquí la que llevamos No pues esta no sería una historia secuencial Por qué Porque dice dice aquí no que hacen match enseguida o sea quiere decir que que esta por ejemplo haría match con esta no entonces
(47:10) tendrían que ir enseguida esta hace match con esta y tendrían que ir enseguida Por qué hace match porque compartimos proceso y objeto Vale entonces está en match est match no este y y no sé haría Entonces esta sería esta Sí sería una historia secuencial no A diferencia de lo que teníamos Entonces por ejemplo esta también sería una historia secuencial por qué porque tenemos el evento de invocación y el de respuesta que hace mach enseguida invocación y respuesta que hace mach no Entonces este pues sí esta sería una historia
(47:50) vamos a poner de secuencia un ejemplo no también como esto entonces este una historia vamos a decir que es legal o que es válida si para cada objeto o sea su proyección está de acuerdo a la especificación secuencial del objeto x Entonces por ejemplo No ya construyéndolo así dejen sí lo voy a construir HM esta historia Pues sería así Simplemente no eh Todo está sobre el mismo objeto Ah miren aquí lo llaman q entonces pero q chiquita Entonces sería como q el objeto Bueno lo hace el hilo este c al objeto q hace dq no y
(48:43) enseguida obtiene empt luego el objeto B hace qq b y aquí tiene eh Pues sí vamos a pensar que regresa que lo logró true luego a q punto enq de a luego c u punto de q b y regresas no este bueno ponerlo así Entonces esta sería la historia secuencial no Entonces vamos a decir que una historia Es legal con respecto no a un a un objeto o en este caso una cola si está en la especificación secuencial de
(49:47) en este caso la cola Entonces entonces la pregunta del Quiz simplemente es si esta ejecución esta que ya les escri aquí que es una historia secuencial Por qué Porque pues tiene su invocación y su respuesta Que hace mach no su invocación y respuesta que hace si esta historia secuencial Es legal con respecto a una cola Entonces ustedes como la ven ya la habíamos revisado se acuerdan de Cómo la ven ustedes Sí dice sí exacto no si es si es correcta No aj A qué se refiere hdx a la proyección de la historia H sobre el
(50:46) objeto x lo escribo proyección de la historia H sobre el objeto x a eso se refiere Entonces esta historia como está toda hecha sobre el mismo objeto en este caso que es q no Entonces por ejemplo H sobre q sería igual a h o sea pu es la mismita Vale entonces es correcta Sí con respecto porque q es una cola que tiene este de q y enq no O sea que tiene estos dos métodos Entonces es correcta Vale entonces este ya empiezan los Quiz no esta historia la ven secuencial o sea es secuencial si nosotros hacemos así como ya este me vieron no haciendo
(51:39) escribiéndolo No la v secuencial no Ajá exacto no no no es Ajá por por qué Eh Porque a cada invocación no le sigue enseguida su respuesta Que hace March Ajá vale vale aá Sí Exacto Este Entonces como por qué porque pues primero sucede una invocación no y luego queé sucede otra invocación y pues ahí ya no está la respuesta que hace mach vale el enq si no no precisamente este es porque justo vale porque tenemos por ejemplo primero el proceso p este
(52:46) hace un dq Y luego el proceso q hace un supongamos que objeto entonces hace un enq de uno no Y así va la historia porque eso pasa primerito no es lo primero que pasa en el tiempo Y eso es lo segundo que pasa en el tiempo Entonces esto ya no hace match no tendría que seguir enseguida pues la respuesta de p que pues es uno no pero entre entre mi invocación y mi respuesta ya tengo La invocación de alguien más pues ya no hace March Ajá sí Exacto Eduardo toda historia puede transformarse a una historia secuencial
(53:27) y ahora vamos a ver eh Cómo Pero bueno igual no me da tiempo ahorita este cu minutos Ajá bueno vamos a transformarlo ya con las reglas de la analizaba Vale y estas reglas simplemente de la analizaba nos van a decir eh que este Déjenme ver Híjole lo tengo está acá miren lo que nos dice la laliz habilidad No simplemente es este sigue estas dos reglas no son estas dos reglas regla uno si una llamada un método precede a otra no le hagan caso ahorita al orden parcial ahorita al mañana la clase del viernes lo vemos simplemente consideren
(54:23) Esto vale si una llamada precede a otra Entonces la llamada que sucede antes pues debe mantenerse en el orden antes simplemente es lo que nos dice y dos si dos llamadas se traslapan ordénalas de la forma que más convenga Esas son las reglas que nos da esta condición de corrección que es la laliz habilidad para transformar cualquier ejecución secuencial a una concurrente Perdón cualquier al revés cualquier ejecución concurrente o sea una historia concurrente a una secuencial [Música] vale Sí es lo único son las únicas dos
(55:04) reglas entonces estas dos reglas este en este caso por ejemplo nos dirían estas dos dos llamadas a métodos se traslapan entonces ordénalas de la forma que más convenga cómo nos conviene más pues nos conviene que primero suceda en q1 que primero se encule uno y después se no cómo va a ser que se desenca algo que no que no sea encolado entonces qué no podemos Modificar el orden de las que sí realmente se preceden Cuál es el orden de esta a esta el orden de esta a esta el orden de esta esta y el de esta esta no entonces estas dos también la podemos
(55:48) ordenar de la forma como queramos pero este orden entre estas y estas se deben mantener entonces el otro orden sería que suceda primero pues me gusta más no que suceda en q2 Y ahorita la siguiente clase vamos a ver cómo pues lo hacemos con estas operaciones pendientes No pero lo que nos convendría es que primero sucediera sucediera en q2 y luego sucediera de q2 Vale entonces es es este lo que nos dice eh las reglas de la analiz habilidad Ajá sí dice Dice Eduardo si de q1 y en q1 no se traslap paran eso podría seguir
(56:33) haciendo No no se podría no si si suponemos que que el de q1 No termina ahí sino termina acá por ejemplo y entonces no se traslapan no Entonces se tiene que respetar el orden y entonces tendríamos una ejecución que no sería pues Correcta Por qué Porque primero se se des encola un elemento que no está no que se encol después cómo va a ser no Entonces si sucede ya no se podría Ajá entonces lo que nos dice la an elizabad pero este miren aquí tenemos eh este el orden parcial no el orden total Eh y además este ya viendo así la
(57:25) definición que está en el libro para que la entendiéramos también la extensión y lo y complete las usamos para estas ejecuciones pendientes o sea como qué hacemos no las completamos las extendemos y además este hablamos de orden parcial y de orden total y bueno ya también sabemos que es una historia legal o sea les digo como que son muchas definiciones no Pero bueno ya tienen la idea no de de cómo Pues en realidad dos reglitas así que se leen fácil pero pues la definición Sí está como pesada y la la clase del viernes Terminamos ya
(58:06) de verl todo esto del orden total el orden parcial los puntos linealización y este ya pues hacemos los Quiz vale para ver si si cacharon bien que es una extensión y que es una historia completa vale Ah Bueno nos vemos Nosotros mañana en laboratorio a las 2 en la mañana le subo su práctica Vale entonces nos vemos Bye Nos vemos mañana Bye buenita
