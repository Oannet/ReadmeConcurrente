(6) 2024 10 04 10 05 24 - YouTube
https://www.youtube.com/watch?v=Maq5A8yaRnQ

Transcript:
(00:14) tengo unos anuncios importantes Pues bueno el lunes es su examen entonces nos vemos aquí en la clase bueno Obviamente el lunes en esta liga pues y este lo leemos e y Pues seguimos con la clase vale o sea pues La idea es como es que parece una tarea el examen entonces este seguimos con la clase pero bueno lo leemos al inicio de la clase y este y bueno así pues ya si nos tardamos mucho en leerlo si tienen dudas en redacción o este pues ahí mismo dudas No como tal del examen Pues ahí lo revisamos no pero este entonces entrega
(01:01) el miércoles al último minuto del miércoles a más tardar claro no consta de parte práctica y teórica pero la parte práctica es muy sencillita nada más pues literal o sea es muy sencillita no Yo siento que unos 15 minutos se tarda Pero bueno yo le puse aquí hasta media hora sobre todo porque pues si han hecho las prácticas se les va a hacer así como Bueno pues copiar el código y cambiarle una son muchos ejercicios son ocho teóricos y uno práctico pero no están largos solamente hay dos largos es si los demás son me parece como para hacer
(01:43) en yo le puse 15 minutos pero a mí me suena que cinco a ocho ejercicios sí Camil Este pero les digo O sea no no son no son largos no O sea uno es por ejemplo este revisa si esta ejecución es linealiza y es una ejecución de cuatro de cuatro operaciones por ejemplo no O sea no O sea hay unos muy cortitos e Ah también hay uno como de la ley de andal muy cortito también es se tardan los 10 minutos No en lo que lo escriben y hacen el despejo y ya está no este un bueno siento que el más pesado probablemente sería de demostrar eh que
(02:26) se cumple exclusión mutua loock free estation free porque ahí vienen dos les puse dos algo dos este ejercicios de esos tal vez son como los que se tardan un poquito más no y este y en la parte práctica pues literal tienen que implementar un ejercicio pero o sea no crean que está muy difícil vale es como mucho de lo que ya han hecho siento que sale pronto es literal para ver como qué tal han aprendido y también s han aprendido de Pues de las fallas en las tareas o en las prácticas Entonces no no está difícil es el examen primer anuncio
(03:03) el segundo Es que yo me voy a ir sí me voy a ir a Estambul a Turquía este a exponer este me aceptaron un trabajo allá este en un congreso Así que se va a celebrar allá y este entonces la semana del es la semana del la siguiente semana en realidad voy el 13 y regreso el 19 no pero pues bueno no no les daré clase e voy a ver si el lunes dependiendo cómo me quede allá porque pues son 9 horas la diferencia voy a ver qué H da creo que es en la noche ah sí gracias este Entonces voy a ver si el lunes les puedo dar clase pero es un hecho que martes
(03:50) miércoles jueves y viernes no porque pues no no se va a poder este entonces bueno no me gustó para nada el el este el paro me atrasó Pero la idea no se preocup sí Ah sí sí con este con Isabel Sí es que quería como dejarles la tarea de de este tema pero pues ya no con el paro Pues nos atrasamos una semana miren es este es este es este el congreso de verificación en tiempo de ejecución es este de aquí y está muy cool o sea como la universidad y todo o sea bueno va a estar padre aquí dice no dónde va a ser creo que ahí va a ser donde voy a
(04:43) exponer y pues está está muy bonito ahí no y este el programa Eh pues vamos varios y miren Aquí está el programa lo que va a haber va a haber este bueno es les digo es verificación en tiempo de discusión pero pues te dividen en en sesiones no con más o menos los papers que son como de tu de tu área y la primer sesiones de de seguridad eh verificación en tiempo de ejecución de seguridad o sea de cosas así y bueno se la verdad yo de seguridad Pues no sé muchoo que no voy a entender mucho esa parte Pero bueno sea lo que sí me suena
(05:25) son las hiper propiedades este s si me suena pero bueno son las lógicas temporales también esas las conozco pero no la verdad no sé mucho Ah miren y este otro tema es de lógicas temporales verificación en tiempo de ejecución entonces hagan de cuenta que crean una lógica y ven que se cumple en el tiempo lleva todo estado digamos que la una me dio un porcentaje y este Pero bueno así pues no sé si puedo decir cuánto me Dion no pero estilo no sé si del 100% que me voy a gastar tan solo en avión e hospedaje y y la entrada del Congreso también
(06:11) costó 500 bien caro de eso pone que la un me dio como dos tercios dos tercios y ya el otro tercio mi asesor me ayudó con el proyecto papit que tiene pero aún así me va a tocar pagar comida y bueno no sé cómo pasearme de no sé entrar al museo eh Y así lo bueno es que no hay no hay visa para Turquía O sea la visa es gratis Entonces tuve que gastar en eso pero s y la UNAM te da pero no todo te da lo que ellos quieren Sí yo también sí está veo o sea sí me dieron bastante pero es bastante más Ajá Este sí O sea sí sí sí sí me ayudó
(06:57) un montón pero pues no entonces mira después me va a tocar Bueno luego este lógica temporal luego esta especificación y visualización no sé a qué se refiere pero eso está interesante no como que vamos de Todos aquí otras sesiones de este estas e cómo se llaman redes redes profundas no sé cómo se traduzca pero esta otra y ya finalmente me toca a mí el último aquí en sistemas distribuidos ya vieron y somos bien poquitos de este Pero bueno y va a estar padre e este ya si quieren al final les platico como de qué trato o sea o les
(07:50) expongo porque sí sí lo van a entender bueno con este curso de concurrente ya ustedes lo van a entender perfecto aá y bueno Gracias y este hay también está padre que va a haber una sesión hagan de cuenta que siempre en los congresos hay keynotes Miren esta la sesión de keynote está de aquí y este y habla va a durar una hora habla una hora un un este investigador importante y pues te habla así como te da como una clase de una hora o sea porque todos los demás presentamos a mí me dan 20 minutos no para Bueno me dan Med ahora para
(08:30) presentar pero con todo y preguntas entonces me debo tardar menos y este y les digo que en cada congreso va como un investigador así muy bueno da una clase que es la kee y este entonces también va a estar así está está padre a ver qué tal pero bueno sí me voy a sentar entonces est viendo de y y este Ese es el segundo anuncio anuncio Sí gracias y este y el tercero Ay Se me olvidó bueno el examen que me voy a ir [Música] y es todo Bueno este a Ah ya me acordé práctica 4 este ya Bueno ya uno de ustedes Camilo Bueno
(09:28) me escribió que pues en su equipo si hay muy poquitos hilos no hay quienes tienen cuatro hilos nada más entonces pues le di acceso si hay otro equipo que tenga este pues de los tres integrantes haya un par que tengan solo cuatro hilos y el otro no tenga tantos me escriben vale Pero si sí o sea si tien no sé en su equipo hay pues por ejemplo este Sebastián que tiene 24 hilos no alguien que tiene 12 pues también está decente pero pero si hay varios que tienen muy poquitos hilos me escriben V para que prueben en la
(10:05) de64 Pero bueno Espero que no sean muchos para que no este no entren todos al mismo tiempo no al servidor este de 64 cors Ajá sí sí Melisa Exacto si pueden ir aumentando el número deos para ver la diferencia pero o sea si tienen cuatro pues está feo no con está Con 12 está decente Claro que si en su equipo tiene alguien que tiene más de 12 unos 20 va estar increíble Porque la realidad es que no se o sea O sea si estos algoritmos lian bien con la contención Pero la realidad es que menos de 10 la contención como
(10:49) que no se percibe mucho o sea bueno es una contención baja con menos de 10 hilos empieza a notarse ya cuando usas más entonces Pues si este o sea la idea es que también prueben sus compus y vean como las diferencias también debe ser ahí este Cuántos tienen no sntos tienen No sí Okay este me escriben por discord Bueno me tienen que mandar su este una llave pública vale me mandan una llave pública de rsa este entonces rsa llave pública o sea es el archivo de rsa este para que les de acceso vale desde la compu y el usuario que van a acceder
(11:48) para que puedan acceder a la de64 Porque si si no tienen si tienen o no se va a ver mucho o sea bueno lo padre es que uno de ustedes tenga una decente no una de 12 y y se vea un poquito este la diferencia pero sí V entonces me escribes y me mandas la la una la llave pública o el archivo pun pup de generar la una llave rsa con lo de SS Ken Bueno lo buscan no depende el sistema operativo que tengan pues este creo que cambia como generar la llave vale pero con es para entrar con es este Okay Esos son los anuncios hasta
(12:34) ahorita y pues ya vamos a este Ojalá no se les haya olvidado dimos consenso no entonces el consenso En qué consistía pues simplemente este Dónde está aquí está el objeto de [Música] consenso este un objeto de consenso res el consenso Pues sí no entonces este este objeto de consenso e debe cumplir con consistencia y con validez es decir que o sea este objeto de consenso va a implementar esta interface y la idea es que todos los hilos deben decidir el mismo valor es decir t no sea el valor que se regresa debe ser el mismo para todos y además la
(13:23) validez este el valor que se haya decidido debe ser alguna entrada propuesta Por ejemplo si este tenemos cinco hilos y no sé cada hilo eligió un valor distinto es la entrada no es el parámetro de desite es el valor que Proponen Y entonces uno de esos valores propuestos es el que se debe decidir el que se debe este pues retornar entonces esa es la idea y el y el problema del consenso Es simplemente ponernos de acuerdo no eso es y para representarlo primero habíamos visto este acotado el problema no lo acotamos El problema del
(14:02) consenso al consenso binario es decir que solo se puedan regresar este o cero o uno no entonces las únicas entradas es o cero o uno no O sea si si solo se regresa 0 un pues valido es también cer o un para que decidamos alguna entrada este habíamos visto bueno este esta Pues esta forma de de modelar un un protocolo de consenso weit free Es simplemente una representación Vale y habíamos visto que este que un protocolo weight free se puede modelar por esto y que en realidad pues una pues una ruta no O sea una ida de la de la raíz a una
(14:49) hoja es en realidad un con una ejecución no O sea por ejemplo podría pasar esto O podría pasar esta otra ejecución O podría pasar otra esta otra ejecución o esta otra no o sea son como distintas ejecuciones dependiendo cómo se mueven los hilos en este caso como es es este binario pues solo tenemos dos hilos entonces dependiendo cómo se mueva a o cómo se mueva B no O sea aquí se movió B luego se movió a luego a luego b y se decidió uno habíamos visto eso Este Entonces las los movimientos de de de un nodo a otro eran operaciones de a
(15:33) o de b y los y los nodos como tal son estados y habíamos habían dicho este me acuerdo no alguien había dicho no que un estado de de este objeto por ejemplo sería una cola no este entonces una cola inicialmente tiene nada acá se mueve y ahora va a tener x no O sea un em x y acá se mueve tener el em x y y no O sea algo así oa aquí representa el estado de un objeto los modos entonces habíamos visto que tenemos estados bivalentes y univalentes bivalentes si aún no se ha decidido algo es decir como este bivalente no se puede
(16:14) decidir lo que sea o cero o también este el inicial siempre debe ser bivalente habíamos visto y el univalente si ya se decidió algo este como en este caso en este no es univalente porque lo que es sea para donde se mueva alguien siempre va a ganar uno y y ya entonces de hecho est es univalente y de hecho es uno Valente no Por qué Porque pues ya lo que se decidió fue uno no hay otro valor y este entonces habíamos visto esos dos estados luego e está que todo el protocolo de consenso de do hilos tiene un estado un
(16:58) equivalente sí No porque si a quiere decidir uno y b quiere decidir cer0 y se tiene que decidir alguno de los dos entonces pues este el estado inicial es bivalente no O sea se va a decidir o cero o uno porque esas son las entradas eso habíamos visto y ahí que que un estado es crítico si es bivalente pero en el la siguiente movida va a cambiar univalente no entonces este es crítico Porque si se mueve en B cambia un estado univalente Este otro es crítico Este otro es crítico de acá porque es bivalente y si se cambia
(17:45) acá Ah sí sí este es bivalente porque si se cambia hacia acá no este se vuelve univalente solamente se va a decidir un y este de acá es crítico porque si se va hacia acá no tamb tamb es este univalente va a valer solamente uno entonces habíamos visto Eso no eso era lo que habíamos visto antes de forma rápida luego primero los registros atómicos tienen un número de consenso igual a uno y la idea es que este hay que analizar Cómo o sea las cosas que podemos hacer con registros no y con dos hilos nada más y este y además planteaba que qué tal que
(18:30) teníamos dos registros no tenemos dos registros dos hilos hay que analizar qué tantas cosas podemos hacer entre ellos Entonces esta tablita representaba eso tenemos los registros x y y y los hilos a y b entonces podría ser que a leyera x y b leyera x no en este caso podría ser que a leyera y y b escribir en x para ponernos de acuerdo no son como las diferentes combinaciones de lo que podríamos hacer entonces hay que analizarlas este todas para para ver no que si si realmente se cumple en algún momento o no este pues o sea para demostrar esta
(19:14) teorema vale o sea de que si realmente no se puede resolver el consenso para dos hilos porque Y entonces así demostramos que pues el consenso solo se resuelve para uno no O sea para pues es equivalente a nadie no O sea entonces este el primer caso e Bueno me acuerdo que había quedado así como así como bueno Qué chiste No si este es caso uno al y b o escribe no Entonces sería como estos No aquí caso uno en el mismo registro x por ejemplo no O sea y o le Y ves y ve escribe Entonces yo les había comentado que Eh
(20:05) Pues aquí no representamos los estados de lo que podría pasar podría pasar que al a primero y y ya lo que quiere por ejemplo es mandar Este el protocolo a un estado cero entonces Supongo o sea bueno hay que suponer que este este primer estado es bivalente o se se puede decidir o cero o uno y también es crítico porque que si se mueve a se va a decidir cero y si se mueve B Se va a decidir Uno Vale entonces en este caso pues dejen escojo los colorcitos Ahí está en este caso a se movía a se movía Y en este caso B se
(20:49) movía primero no pero como a es solamente le y b escribe Pues luego ve acá va a leer Perdón va a escribir no después y resulta que Ah quiso llevar o sea bueno llevó el protocolo a un estado cerov Valente O sea ya él decidió cero y b lo llevó a un estado univalente él decidió uno no O sea de este estado crítico ya se decidió pero lo que pasaba es que B este eh después va a hacer algo o sea va a escribir uno no o sea porque pues él siempre escribe él escribe algo entonces para B habíamos visto que esto se supone
(21:36) que son dos estados que valen distinto o sea se debería decidir distinto sin embargo B no puede distinguir que pues estos dos estados en realidad son distintos o sea para B Estos son indistinguibles lo cual es una contradicción a que realmente a decidió cero no O sea no no existe un protocolo y ya entonces bueno ustedes me dirán no bueno es como que obvio no O sea cómo te vas a enterar de que ha decidio algo si solo leyó no entonces así como que en conclusión este no podemos Eh bueno plantear un protocolo de consenso
(22:22) eh si un hilo no en este caso el hilo a le pues no nos damos cuenta Qué hizo no O sea sí él quería llevar el protocolo a un estado cero pero con una lectura Pues bueno ahora sí que pues nadie sabe qué no nadie sabe entonces este Bueno si solo le [Música] e ve este pues percibe lo mismo si ya se mueve antes o no no O sea pues sí la lectura no nos ayuda en nada vale entonces es eso en eso nos habíamos quedado Entonces ya podíamos responder esta como completar esta tablica este si si leen en el mismo si a Lee y escribe o b escribe si
(23:29) en el mismo pero ahora en y no si si a y escribe y al revés no ahora si B Le y a escriben en el mismo y si B Le en y y a escriben y no O sea ya podemos contestar todo eso este Ajá sí Entonces ya O sea pues al menos sabemos que no se puede crear un protocolo con sea en estas combinaciones Vale entonces este yo creo que le vemos más futuro Ah bueno creo que también sería ah no pero eso es leer distintos Bueno Este es leer distintos s no entonces como que me imagino no hay que decimos Pues yo creo que le veo más futuro si escribimos en
(24:18) en el mismo registro no este Ah bueno aquí el caso dos es si a Lee en el registro x escribe Perdón en el registro x y b escribe en un registro Perdón un registro y y escribe en un registro x no entonces hay que analizar ahora si se escribe si ambos escriben No qué este Qué sucede entonces pues sería este [Música] este Bueno este lo puse nada más porque pues si no se puede escribir pues menos pero así así va entonces este Ah sí pues sale lo mismo vale e tenemos otra vez un estado inicial s no que es un estado bivalente O sea que
(25:14) se puede decidir lo que sea y además ese estado va a ser crítico O sea que si se mueve a o si se mueve B pues ya se va a decidir algo entonces vamos a pensar que a él quiere decidir cero y b quiere decidir uno no Entonces ahora lo que tenemos es que pues eh este a escribe en en este en X en y no en y y b escribe en x Ese es el lo siguiente el siguiente caso que tenemos ya no leen este y ya no se el mismo registro ahora cada quien escribe en el suyo Pues bueno pues vuelve a pasar lo mismo porque no podemos decidir
(26:00) nada porque si se mueve a no supongamos a se mueve Y entonces a pues el que quería escribir Pues él quiere escribir cero no Ah quiere hacer un gr cero él se mueve Pues resulta que el estado acá Este Pues sería se vería se vería así no Cómo se representa y Y entonces este supongamos no que luego este estado escribo es cero Valente sea esto ya vale cero pero pues supongamos que que del otro lado sea otra ejecución pues B escribo primero Esos son los dos casos no sea que uno escriba Primero este el en su registro entonces
(26:52) este después y b quiere llevar el estado un estado uno no eh uno Valente aquí no entonces resulta que después en estas dos ejecuciones no dos distintas en el que pues qué tal que hace mueve qué tal que ve se mueve Bueno pues después este supongamos que que B Pues lee aquí no read y el l x no lee y el que escribió y pues va a revisar que es cero no y este pero pues si se dan cuenta este Ah bueno entonces Déjenme escribo esta otra en este otro caso supongamos que que ve otra vez él se mueve no y [Música]
(27:56) le este Bueno creo que sería así a ver mejor así Y ahorita lo pongo disculp este ve lo que hace aquí pues se hace un Go no otra vez un pero ve es importante notar que a es escribe en y y b escribe en x no y acá supongamos al revés no este ahora y a escribe en y vale lo en ver es lo que hizo a Entonces digamos que de este lado vemos Que a escribió primero en y escribió c y luego B escribió en x1 y acá pasó al revés este B escribió Primero este en su registro x y luego a escribió en su registro y Pues resulta que al final no
(28:48) pase lo que pase supongamos que llega b y b dice Ah pues voy a leer no este Qué pasó eh yba a leer el registro no entonces supongamos que le el registro de de y o sea el que escribió a y pues va a decir Ah pues sí Mira cero no está bien o sea quiere decir que ha escribió no supongamos y y de este lado también supongamos que B se mueve y b también lee el registro de Y no y otra vez va a leer cero Entonces se supone que este estado Pues debe ser uno Valente o sea eso ya se decidió desde antes este estado es cero
(29:29) Valente pero en ambos ve mismo no Y la aquí es que este buen tenemos este s prima y este es s prima No o sea son dos estados finales este va a valer cero y este uno entonces son dos estados finales que deberían valer distinto o sea porque ya se decidió uno en uno y en otro cero pero B también los ve iguales o sea porque ve Pues solamente lee el otro y dice no pues o sea no me consta no este quién lo Quién escribió primero O sea cómo voy a saber quién escribió primero vale Esa es la idea de por qué también si si tú dices
(30:08) yo escribo dices orel por qué es uno Valente si se escribe cero después Ajá sí es que digamos que el protocolo no sería así de este a escribe este por ejemplo no dice decide cero no y b quiere decir decide eh uno no por ejemplo Entonces esto es como lo que quisieran no Ah quiere que se decida a no al revés a quiere que se decida uno y b quiere que se decida cero no pero al final lo que está escrito en el protocolo Pues es que pues a va a escribir en el en el registro este de de y y B va a escribir en su registro
(31:02) x no o sea los dos lo van a hacer supon que el protocolo de Side O sea ya si vemos lo que tiene dentro de Side definido es que te dice eh right No si eres si eres este a pues vas a escribir gr en en Y y vas a escribir este cero no Y si eres este perdón Y si eres B Entonces vas a escribir x.
(31:40)  c no en x o sea es ese el protocolo Vale entonces ajá No importa lo que lean no van a cambiar su decisión o sea es que esa es la idea no la idea es es este como que quien gane en escribir primero este pues se supone que él lleva ese estado al protocolo o sea por ejemplo este B dice Ah se mueve primero y dice Ah mira yo escribo esto es que no me cabe así y entonces return y qu qué regreso no O sea si se acuerdan return es lo que se decide al final pero bueno o sea a siempre Quisiera regresar un y b c Pero bueno Están dispuestos pero o sea cómo rayos
(32:31) van a saber quién fue Quien escribió primero no O sea supongamos que es así como si tú escribiste primero pues lo haces Y si yo escribí primero entonces tú lo haces pero como estamos en distintos registros No pues no O sea cómo nos ponemos de acuerdo o sea como que digamos que s están dispuestos a que a que pues puede ganar el otro no O sea está bien vamos a regresar cero si es que me ganó el otro pero Cómo sé si tú escribiste esto en tu registro yo escribí est en mi registro y luego lo el tuyo y resulta que está escrito no pero
(33:05) ahora sí que no importa si tú te moviste primero O yo ve siempre va a leer lo mismo en ambos o sea como que digamos que la idea de esto es no importa cómo escribamos aquí adentro del protocolo si cada quien escribe en su propio registro No hay forma de saber si ya ganó decidiendo uno o si ve Gan no decidiendo cero vale Bueno espero que más o menos este Bueno pero ahorita les voy a enseñar un protocolo que s funciona este para dos hilos con colas Pero bueno La idea es que es que está feo Bueno yo los entiendo no Y sí me ha pasado con este
(33:49) tema es que como los hago que se imaginen el protocolo Y es que así también está las demostraciones como que te hacen que Quién es que podría pasar no O sea tan solo el que te pinten en este árbol no te dicen Pues partimos de un estado inicial Y entonces ya se mueve o ve se mueve no vas a decidir nada no O sea entonces hay que como que imaginarse el protocolo y siento que sí los hago un poquito de de bolas no O sea s está un poquito raro no al inicio pero ahorita este les enseño un protocolo de colas vale para que
(34:22) ya lo vean yo creo que igual me convendría empezar por ahí bueno explicando primero las colas y luego los registros entonces La idea es que o sea este segundo caso es que no se puede porque Ah este bueno supongamos no si si ya escribe antes o ve antes Pues digamos que el orden no O sea el orden es indistinguible no O sea no no sabemos como si ya escribió primero y entonces él dijo Ah yo ya regresé cero no y escribió después y dice yo ya regresé uno porque pues no importa no O sea va a revisar el registro de de y o sea de a y
(35:19) va a decir No pues sí ya escribió Pero quién escribió antes no O sea como que no no o sea es indistinguible al final el estado al que llega el este el el protocolo y finalmente el caso tres es que ambos escriban en el mismo tampoco se puede y simplemente es porque e como el registro tiene un estado inicial 01 este no Entonces tenemos un registro y la idea es que como es binario pues el registro inicialmente pues es cero no O es uno entonces si tenemos un estado inicial s y alguien se mueve y se mueve se mueve b y b escribe quedamos que B
(36:04) quería cero no O sea B escribe cero B hace un gr de cero no en el y supongamos que escriben amos en el mismo registro Y en este caso a escribe uno no entonces llega a un estado en donde se supone que aquí quisieran ya cero Valente no y es otro es uno Valente Pues resulta que si luego este ha se mueve de este lado uno pues para es indistinguible estos dos s prima y SS prima s prima prima No Ajá sí está esto representa que no se puede O sea que no existe no existe un protocolo weight free wiit free para dos hilos que
(37:05) hagan eh Y ya aquí está no la operación por ejemplo que escriban en este caso sería que escriban Ah perdón que lean no que lean solo en el mismo registro Eso significa vale x y así para todo vale ese no se puede este no existe o sea es así bueno poda deberí decir más bien no existe verdad no existe un protocolo fre para ailos que lean solo el mismo registro x y acá no existe un protocolo de ailos que en el que a Lee en x y b escribe en x Vale entonces eso es como la idea de de ir completando est este cuadrito ya o sea este del caso uno
(37:52) teníamos esto Aha el caso dos al cancelar esto Pues ahora se cancelan todos estos y ya en el caso tres pues simplemente es este Bueno pues obviamente no no puedes si no pudiste leer y escribir en distintos registros pues menos leer y leer en distintos registros es como no imposible Bueno entonces ya este último es bueno Qué tal que escribimos los dos en el mismo No es este el caso tres y no se puede porque este el registro va a tener un valor inicial a fuerzas no Entonces si ve quiere escribir Pues solamente puede
(38:26) escribir 01 no o Entonces si escribe cero Pues no va a ver no si realmente ella escribió este o ya al revés entonces por eso no existe un protocolo wait free vale porque al final acá se tenía que decidir cero ya que se tenía que decidir uno pero Ah pues ya después si revisa el registro no va a decir Bueno pues yo escribí al final no Entonces no no hay no hay Cómo decidir vale Ajá Exacto ninguna de la de la tabla se puede no no se puede no se puede nada entonces así es como se demuestra este teorema O sea si lo leen en el libro va
(39:09) a estar igual vale o sea siento que tal vez si este se los explico más fácil pero bueno si lo revisan en el libro también o seaas están este te dice no tenemos un estado inicial Y entonces se mueve con una lectura así también lo dividen en esos tres casos y este pero bueno La idea es que en el caso uno pues como a le o sea uno de los dos y los lee pues no no te enteras no Entonces está chafa no se puede en el caso dos ambos escriben en sus propios registros y el y pero también llegan a Estados indistinguibles O sea no saben
(39:46) si se decidió cero o si ya se decidió uno no Entonces por qué Porque no sabes si él si ya se movió primero O ve primero no Qué onda Entonces es indistinguible y el caso final es si ambos escribimos en el mismo registro pues aún así no se va a poder por qué porque el registro tiene en estado inicial y a uno de los dos hilos Pues no le va a quedar claro como quién se movió primero no O sea por ejemplo si el estado inicial era cero como vimos acá del registro y ve se mueve y escribe cero y después a dice yo escribí uno y
(40:21) luego le dice Bueno ya ya pasó b o no O sea ya se decidió aquí algo o no se He decidido nada y en realidad estoy en el estado s prima en vez del S prima prima no Entonces es la idea que ninguna combinación para dos hilos con dos registros y lo único que se puede hacer en registros es leer y escribir no O sea solo tenemos estas combinaciones pues no se va a poder crear un protocolo Este Entonces es eso luego el corolario es este pues vamos a ver que es imposible una implementación G free de cualquier objeto con número de consenso
(41:01) mayor a uno con solo registros esto qué quiere decir que si tomamos nuestra tablita y y nos dicen este lo que nos dice esto es Okay pues ya los registros los registros atómicos tienen el número de consenso igual a uno sí no ya sabemos lo sabemos ahí está la demostración pero este la La pregunta es No y bueno Y eso qué nos implica Pues nos implica que no vamos a poder crear ningún objeto de los de acá con solo registros atómicos muy importante de forma weit free no O sea no bloqueante pues ya vimos no que con registros Pues
(41:54) sí podemos hacer candados y y como vieron en práctica dos si le ponemos un cado a cualquier implementación secuencial O sea que funcione en el mundo secuencial pues tenemos ahí una implementación concurrente No pues medio chafa pero funciona este o sea bueno chafa digo que pues es bloqueante y también qué clase de contado de candado feo no con solo registros atómicos este pues no no lidian bien con la contención no pero bueno s Entonces eso es lo que sí sabemos de forma bloqueante si utilizamos candad se pero lo que nos
(42:28) dicen esto es que no O sea no podemos crear ninguno de estos objetos con solo registros atómicos este ninguna implementación que sea no bloqueante es lo que es lo que nos dice esto y es si se dan cuenta es pues así como se agradece no que nos digan que no se puede pues ya para qué le buscamos no nos dicen Oye este pues no sé mi computadora solo soporta esas de los años 80 no y no tiene primitivas y solo soporta este registros atómicos no O sea apenas si tiene volátil por ejemplo y nos dice no pues yo quisiera que tú
(43:08) crearas un contador este no bloqueante no O sea sin candados con solo registros atómicos Pues qué les van a decir No pues no no se puede no O quiero que hagas una cola este no bloqueante con solo registros atómicos pues la la cola si recuerdan en la jerarquía está en el número de consenso dos no Entonces pues no podemos no podemos no sea porque los registros atómicos solo tienen uno Este Entonces Bueno aquí ya les anoté construimos implementaciones de candados para n yos Pues sí con solo registros atómicos eso sí no en el mundo muy
(43:49) importante no sí en el mundo bloqueante o sea todo lo que hagamos con candados pues va a ser bloqueante este Y bueno ya vimos este spinlock no y vimos spinlock que utilizan testan set Bueno en realidad este se llama get and set en Java get and set este también vimos spinlock con comper set no y muy importante pues utilizamos más que registros atómicos o sea bueno sí usan usan registros atómicos los de spinlock pero utilizamos más que eso vale entonces Bueno ya de esto que les comento y este ustedes creen que es
(44:36) posible construir una implementación weight free de un contador para n hilos con solos registros atómicos weight free muy importante no O sea sin candados Vale entonces ustedes creen que se pueda si los registros atómicos Pues solamente pueden poner de acuerdo a un solo hilo Ajá sí no por lo que dijimos no se puede no no entonces ciertamente un contador este pues tiene un tiene un número de consenso mayor no O sea lo vimos Por ejemplo si ustedes les doy el counter no El Counter naif ese que les paso este pues vieron que si lo corren
(45:22) así sin candado sin sincronize este sin atómicas no sin nada nada más así El Counter así con con este registros si acaso volátiles no este no funciona o sea no va a contar no va a contar lo que debe Vale entonces qué ocupamos para que funcione pues ocupamos un getan increment no O sea eso sí de forma weight free le ponemos un getan increment pero sorpresa el getan increment tiene un número de consenso igual a dos no Uno Vale entonces si no no se puede les digo a ustedes ya les consta no por la práctica dice no O sea si yo lo pongo
(46:07) solito le tengo que poner get an increment o le pongo sincronize no en Java o sea un candadito y ya entonces Esta es la siguiente el siguiente teorema no vamos a demostrar este la tablita está de la jerarquía tenemos este los registros no en en uno son los más chafitas o sea los los menos poderosos no luego están colas pilas getan set testan set getan increment todos en el nivel dos vale por eso a veces Bueno este para que me salgo de este tema pero bueno luego a veces este cuando vemos Bueno yo veo cosas en los
(46:46) papers por ejemplo de teoría de la concurrencia luego dicen como de no que en algoritmo funciona para colas Pero esto se puede extender para get set y para pilas Sí porque todos tienen número de consenso igual a dos o sea esto es muy importante o sea es este es es la computabilidad del mundo este de memoria compartida entonces Bueno voy voy a ir entonces ahora vamos a demostrar que una cola este tiene un número de consenso igual a dos y pues realmente solo Utiliza este dosd qw vamos a demostrarlo para dosd do des encolador no
(47:30) este entonces la prueba d ver escrib acá ahí entonces de al menos ya vieron este teorema dice al menos Entonces quiere decir que si es al menos igual a dos pues prueba este muestra un protocolo de consenso weight free eh para dos hilos No porque si si tiene un número de consenso de al menos dos Pues bueno debe debe solucionar un un este debe solucionar el consenso para dos hilos utilizando colas no Entonces cómo sería esto pues así se ve este protocolo e tenemos este [Música] a ver se inicializa de esta forma tenemos una cola Aquí está nuestra cola
(48:32) vamos utilizar una cola y este y se va a encolar este cómo Ah así se inicializa inicialización tenemos nuestra cola nuestra que entonces esta Va a estar así no nuestra cola pues primero est bacía una cola cualquiera entonces la inicialización consiste en que primero vas a encolar Win no y luego en colas luz vale es así va Ah así entonces esta vamos a pensar que es G no se encol primero y Tail pues vamos a pensar que está acá es lo que se se encol después luz no ahí está nuestra
(49:35) cola así así inicia nuestro protocolo de consenso no se ya está inicializado esta Cola y Entonces ahora sí el método de site lo que van a utilizar ambos hilos este ambos van a van a proponer un valor no Val supongamos que que teníamos otra vez no Ah era el verde verdad Ah hace un desde este y él quiere encolar eh él quiere que se decida cero Vale y y b b quiere que se decida uno no entonces así así va Sí entonces luego en la línea 13 bueno tenemos este no propose value Este pero no viene aquí Bueno yo lo voy a escribir acá perus value es también
(50:33) este un un mdo no de esta misma clase vale no viene aquí explicado pero aquí hay que ponerlo este propose eh Ay no es que me como letras propose este value y vamos a suponer que lo que hace este método Bueno o sea lo que hace no no supongamos lo que hace este método es que este escribe Bueno vamos a Primero este mi ID no y no sé est ID algo así no vale entonces tomas tu ID luego en propost este es un arreglo y escribes en tu ID este el valor que quieres vale Entonces digamos que para ello tenemos
(51:37) acá un arreglo propost que simplemente va a tener este Eh pues cero bueno propose cero y propos [Música] un es un arreglo así este es global vale o sea bueno compartida más bien compartido compartido vale do propose es un arreglo ahí compartido miren aquí está y aquí está entonces lo que hacemos en el método propose value es que insertamos nuestro valor que queremos en el arreglo propose ya vieron lo insertamos Así es lo que lo que sucede en la línea 13 vale línea 13 es esto prop Val entonces este al final el propos No
(52:29) propose aquí pues va a quedar este pues a quería cero no y b quería uno entonces supongamos que este es de a y este es de B vale los ids ids de a y b entonces así se ve ahorita nuestro protocolo no está inicializado tenemos Win y luz en la cola a quiere decidir cer0 B quiere decidir uno entonces van y al momento de ejecutar el protocolo pues tienen que escribir lo que quieren no lo escriben aquí este en propost Y entonces ahora sí se van a pelear no este van a ver quién gana el consenso entonces en nia 14 este guardan en estatus
(53:18) eh este Ah bueno es muy importante no miren aquí Win lo hacen igual a cero y aquí este luz a un no se en realidad lo que se enc es c y un pero Déjenme ponerlo así vale luz para que nos demos una idea entonces por eso es un entero Vale entonces hacen un dq y pues les va a salir 0 un no en este caso cero Pues es que ganaste y uno es que perdiste no Entonces si ya aquí se va a verificar o sea digamos que la idea no sea del protocolo es que todo se va a decidir en la línea 14 O sea la línea 14 es la importante entonces
(54:01) este literal o sea creo que es como no sé yo creo que poner una bolsita no este y y como meter la mano no ha un poco a ciegas pero si se dan cuenta aquí este pues siempre el que haga el deq primero o sea el que haga la lña 14 primero es el que va a ganar no porque es el que va a sacar Win Y entonces en la línea 16 ya tú ves sí estatus es igual a Win no O sea si realmente yo saqué cero o sea yo gané pues entonces voy a regresar el valor que yo propuse no pero si no gané no voy a regresar el valor que propuso B
(54:41) eh En este caso no siendo yoa y así Entonces en realidad vamos a ver que si si empiezan aquí no estemos aquí los hilos en el tiempo y empiezan a ejecutar Ah ya son las 11 empiezan ejecutar a este y b no este es a y este es B entonces la línea 14 no depende quien la haga primero si si a este lo hace no entonces va a obtener del deq va a obtener Win Y si la hace después el y b la línea 14 pues del deq va a obtener luz no Entonces al final vamos a regresar lo que ya quería Entonces si es así pues va a ser un return este cero no
(55:25) porque a quería cero y también este va a regresar cero Vale entonces este ya ya ya acaba el protocolo no regresas pues del que sabes que ganó pu a ti te consta que que tú ganaste porque tú sacaste Win Y si sacaste luz pues te consta que el otro ganó no no hay pierde entonces así así funciona este protocolo cómo lo lo ven si si le suena este Sí sí les parece Bueno entonces nunca se hacen más enq no O sea Digamos que ya la cola estaba así inicializada ellos no hacen el en vale o sea la cola estaba así ya yaas venía
(56:13) Entonces nada más lo que hacen es ejecutar el des Digamos que ya ya est B Win y Lu entonces Bueno sí O sea me imagino Camilo que te preguntas no Oye pero por qué no para tres hilos para cuatro no O sea simplemente les damos a todos no este y acá resulta que bueno acá vamos a ver que de hecho las colas Pues si tienen un protocolo que funciona para dos hilos pero solo para dos no hay para tres no entonces aquí ya lo que cambia es que es igual no O sea acá demostramos que al menos al menos pues con al menos pues simplemente Pon un protocolo para
(56:50) dos hilos y ya está y hay que demostrar que no se puede para tres no no se puede para tres hilos o más no Bueno o sea este no se puede pues no existe vale es no existe no existe un protocolo para tres hilos o más y aquí está este la demostración Pero bueno eso lo vemos ya el lunes pero bueno Espero que más o menos hayan visto Ya por fin un protocolo porque les he pedido que se los imaginen no con los registros bueno en el libro nos piden que nos lo des imaginemos pero bueno cómo lo ven este [Música] pero bueno entonces ya si no hay dudas
(57:35) nos vemos el lunes y este igual les pongo el comunicado dice Entonces es este depende de Quién gana el Win Exacto s de Qui des primero gana el Win No sí Sebastián igual en el libro viene bien explicado y en el video que les pasé al ino también este aquí miren este aquí es la literal no si no me entienden a mí este o si ya se les olvidó lo que vimos pues o sea rever la clase o pueden ver los capítulos ahorita vamos en el capítulo 5 o este también está el paper Pero ese no se lo recomiendo está como más pesado y pero también está este
(58:19) video miren es un videito Este ahí no me lleva [Música] t miren es este es este de aquí ya vieron y te platican todo la así también no es que como es un paper muy importante este eh si le dan clic ahí es un es un paper muy importante lo han hecho de forma fácil Vale entonces si no me entienden a mí tal que lo explica mejor el y este ah tema para el examen hasta el 4ro o seaa este ya no viene vale Este lo vemos después Sí hast hasta snapchats Vale entonces nos vemos el lunes Bye
